import{_ as n,c as t,o as a,aA as l,j as A,a as s}from"./chunks/framework.DjA5121Y.js";const e="/d2l-julia/previews/PR1/assets/seq2seq-state.BVXMvcWh.svg",p="/d2l-julia/previews/PR1/assets/seq2seq-details-attention.C_ael8tY.svg",q=JSON.parse('{"title":"The Bahdanau Attention Mechanism","description":"","frontmatter":{},"headers":[],"relativePath":"CH10.Attention_Mechanisms_and_Transformers/ATTN_4.md","filePath":"CH10.Attention_Mechanisms_and_Transformers/ATTN_4.md","lastUpdated":null}'),h={name:"CH10.Attention_Mechanisms_and_Transformers/ATTN_4.md"},o={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},r={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.014ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.156ex",height:"1.038ex",role:"img",focusable:"false",viewBox:"0 -453 511 459","aria-hidden":"true"},Q={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},d={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.211ex",height:"1.927ex",role:"img",focusable:"false",viewBox:"0 -694 977.3 851.8","aria-hidden":"true"},k={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},g={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.471ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.281ex",height:"1.495ex",role:"img",focusable:"false",viewBox:"0 -453 1892.1 661","aria-hidden":"true"},E={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},c={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.365ex",height:"1.382ex",role:"img",focusable:"false",viewBox:"0 -453 1045.5 610.8","aria-hidden":"true"},m={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},u={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.444ex",height:"1.742ex",role:"img",focusable:"false",viewBox:"0 -759 638.5 770","aria-hidden":"true"},y={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},C={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"0"},xmlns:"http://www.w3.org/2000/svg",width:"1.593ex",height:"1.532ex",role:"img",focusable:"false",viewBox:"0 -677 704 677","aria-hidden":"true"},w={class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},T={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.819ex"},xmlns:"http://www.w3.org/2000/svg",width:"22.572ex",height:"6.73ex",role:"img",focusable:"false",viewBox:"0 -1728.7 9977 2974.6","aria-hidden":"true"},L={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},B={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.471ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.281ex",height:"1.495ex",role:"img",focusable:"false",viewBox:"0 -453 1892.1 661","aria-hidden":"true"},M={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},f={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.211ex",height:"1.927ex",role:"img",focusable:"false",viewBox:"0 -694 977.3 851.8","aria-hidden":"true"},F={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},x={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.365ex",height:"1.382ex",role:"img",focusable:"false",viewBox:"0 -453 1045.5 610.8","aria-hidden":"true"},D={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},I={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.236ex",height:"1.382ex",role:"img",focusable:"false",viewBox:"0 -453 988.5 610.8","aria-hidden":"true"},b={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},z={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.448ex",height:"1.025ex",role:"img",focusable:"false",viewBox:"0 -442 640 453","aria-hidden":"true"},Y={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},v={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"0"},xmlns:"http://www.w3.org/2000/svg",width:"1.593ex",height:"1.532ex",role:"img",focusable:"false",viewBox:"0 -677 704 677","aria-hidden":"true"},_={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},H={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.186ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.341ex",height:"1.903ex",role:"img",focusable:"false",viewBox:"0 -759 2360.9 841","aria-hidden":"true"};function Z(J,i,j,W,R,U){return a(),t("div",null,[i[58]||(i[58]=l('<h1 id="The-Bahdanau-Attention-Mechanism" tabindex="-1">The Bahdanau Attention Mechanism <a class="header-anchor" href="#The-Bahdanau-Attention-Mechanism" aria-label="Permalink to &quot;The Bahdanau Attention Mechanism {#The-Bahdanau-Attention-Mechanism}&quot;">​</a></h1><p>When we encountered machine translation in :numref:<code>sec_seq2seq</code>, we designed an encoder–decoder architecture for sequence-to-sequence learning based on two RNNs [<a href="/d2l-julia/previews/PR1/references#Sutskever_Vinyals_Le_2014">153</a>]. Specifically, the RNN encoder transforms a variable-length sequence into a <em>fixed-shape</em> context variable. Then, the RNN decoder generates the output (target) sequence token by token based on the generated tokens and the context variable.</p><p>Recall <a href="/d2l-julia/previews/PR1/CH10.Attention_Mechanisms_and_Transformers/ATTN_4#fig_seq2seq_details">Figure</a> which we repeat (<a href="/d2l-julia/previews/PR1/CH10.Attention_Mechanisms_and_Transformers/ATTN_4#fig_s2s_attention_state">Figure</a>) with some additional detail. Conventionally, in an RNN all relevant information about a source sequence is translated into some internal <em>fixed-dimensional</em> state representation by the encoder. It is this very state that is used by the decoder as the complete and exclusive source of information for generating the translated sequence. In other words, the sequence-to-sequence mechanism treats the intermediate state as a sufficient statistic of whatever string might have served as input. <img src="'+e+`" id="fig_s2s_attention_state"></p><p><em>Sequence-to-sequence model. The state, as generated by the encoder, is the only piece of information shared between the encoder and the decoder.</em></p><p>While this is quite reasonable for short sequences, it is clear that it is infeasible for long ones, such as a book chapter or even just a very long sentence. After all, before too long there will simply not be enough &quot;space&quot; in the intermediate representation to store all that is important in the source sequence. Consequently the decoder will fail to translate long and complex sentences. One of the first to encounter this was <a href="/d2l-julia/previews/PR1/references#Graves_2013">Graves [184]</a> who tried to design an RNN to generate handwritten text. Since the source text has arbitrary length they designed a differentiable attention model to align text characters with the much longer pen trace, where the alignment moves only in one direction. This, in turn, draws on decoding algorithms in speech recognition, e.g., hidden Markov models [<a href="/d2l-julia/previews/PR1/references#rabiner1993fundamentals">185</a>].</p><p>Inspired by the idea of learning to align, <a href="/d2l-julia/previews/PR1/references#Bahdanau_Cho_Bengio_2014">Bahdanau <em>et al.</em> [176]</a> proposed a differentiable attention model <em>without</em> the unidirectional alignment limitation. When predicting a token, if not all the input tokens are relevant, the model aligns (or attends) only to parts of the input sequence that are deemed relevant to the current prediction. This is then used to update the current state before generating the next token. While quite innocuous in its description, this <em>Bahdanau attention mechanism</em> has arguably turned into one of the most influential ideas of the past decade in deep learning, giving rise to Transformers [<a href="/d2l-julia/previews/PR1/references#Vaswani_Shazeer_Parmar_ea_2017">142</a>] and many related new architectures.</p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Pkg; Pkg</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">activate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;../../d2lai&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d2lai</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Flux </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Plots</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> CUDA, cuDNN</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d2lai</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Seq2Seq, AbstractEncoderDecoder, Seq2SeqEncoder, AdditiveAttention, StackedRNN</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>  Activating project at \`/workspace/workspace/d2l-julia/d2lai\`</span></span></code></pre></div><h2 id="Model" tabindex="-1">Model <a class="header-anchor" href="#Model" aria-label="Permalink to &quot;Model {#Model}&quot;">​</a></h2>`,9)),A("p",null,[i[12]||(i[12]=s("We follow the notation introduced by the sequence-to-sequence architecture of :numref:")),i[13]||(i[13]=A("code",null,"sec_seq2seq",-1)),i[14]||(i[14]=s(", in particular :eqref:")),i[15]||(i[15]=A("code",null,"eq_seq2seq_s_t",-1)),i[16]||(i[16]=s(". The key idea is that instead of keeping the state, i.e., the context variable ")),A("mjx-container",o,[(a(),t("svg",r,i[0]||(i[0]=[l('<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D41C" d="M447 131H458Q478 131 478 117Q478 112 471 95T439 51T377 9Q330 -6 286 -6Q196 -6 135 35Q39 96 39 222Q39 324 101 384Q169 453 286 453Q359 453 411 431T464 353Q464 319 445 302T395 284Q360 284 343 305T325 353Q325 380 338 396H333Q317 398 295 398H292Q280 398 271 397T245 390T218 373T197 338T183 283Q182 275 182 231Q182 199 184 180T193 132T220 85T270 57Q289 50 317 50H326Q385 50 414 115Q419 127 423 129T447 131Z" style="stroke-width:3;"></path></g></g></g></g>',1)]))),i[1]||(i[1]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"c")])])],-1))]),i[17]||(i[17]=s(" summarizing the source sentence, as fixed, we dynamically update it, as a function of both the original text (encoder hidden states ")),A("mjx-container",Q,[(a(),t("svg",d,i[2]||(i[2]=[l('<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D421" d="M40 686L131 690Q222 694 223 694H229V533L230 372L238 381Q248 394 264 407T317 435T398 450Q428 450 448 447T491 434T529 402T551 346Q553 335 554 198V62H623V0H614Q596 3 489 3Q374 3 365 0H356V62H425V194V275Q425 348 416 373T371 399Q326 399 288 370T238 290Q236 281 235 171V62H304V0H295Q277 3 171 3Q64 3 46 0H37V62H106V332Q106 387 106 453T107 534Q107 593 105 605T91 620Q77 624 50 624H37V686H40Z" style="stroke-width:3;"></path></g></g><g data-mml-node="TeXAtom" transform="translate(672,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D461" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" style="stroke-width:3;"></path></g></g></g></g></g>',1)]))),i[3]||(i[3]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("msub",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"h")]),A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",null,"t")])])])],-1))]),i[18]||(i[18]=s(") and the text that was already generated (decoder hidden states ")),A("mjx-container",k,[(a(),t("svg",g,i[4]||(i[4]=[l('<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D42C" d="M38 315Q38 339 45 360T70 404T127 440T223 453Q273 453 320 436L338 445L357 453H366Q380 453 383 447T386 403V387V355Q386 331 383 326T365 321H355H349Q333 321 329 324T324 341Q317 406 224 406H216Q123 406 123 353Q123 334 143 321T188 304T244 294T285 286Q305 281 325 273T373 237T412 172Q414 162 414 142Q414 -6 230 -6Q154 -6 117 22L68 -6H58Q44 -6 41 0T38 42V73Q38 85 38 101T37 122Q37 144 42 148T68 153H75Q87 153 91 151T97 147T103 132Q131 46 220 46H230Q257 46 265 47Q330 58 330 108Q330 127 316 142Q300 156 284 162Q271 168 212 178T122 202Q38 243 38 315Z" style="stroke-width:3;"></path></g></g><g data-mml-node="TeXAtom" transform="translate(487,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="msup"><g data-mml-node="mi"><path data-c="1D461" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(394,289) scale(0.707)"><path data-c="2032" d="M79 43Q73 43 52 49T30 61Q30 68 85 293T146 528Q161 560 198 560Q218 560 240 545T262 501Q262 496 260 486Q259 479 173 263T84 45T79 43Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mo" transform="translate(638.5,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" style="stroke-width:3;"></path></g><g data-mml-node="mn" transform="translate(1416.5,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" style="stroke-width:3;"></path></g></g></g></g></g>',1)]))),i[5]||(i[5]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("msub",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"s")]),A("mrow",{"data-mjx-texclass":"ORD"},[A("msup",null,[A("mi",null,"t"),A("mo",{"data-mjx-alternate":"1"},"′")]),A("mo",null,"−"),A("mn",null,"1")])])])],-1))]),i[19]||(i[19]=s("). This yields ")),A("mjx-container",E,[(a(),t("svg",c,i[6]||(i[6]=[l('<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D41C" d="M447 131H458Q478 131 478 117Q478 112 471 95T439 51T377 9Q330 -6 286 -6Q196 -6 135 35Q39 96 39 222Q39 324 101 384Q169 453 286 453Q359 453 411 431T464 353Q464 319 445 302T395 284Q360 284 343 305T325 353Q325 380 338 396H333Q317 398 295 398H292Q280 398 271 397T245 390T218 373T197 338T183 283Q182 275 182 231Q182 199 184 180T193 132T220 85T270 57Q289 50 317 50H326Q385 50 414 115Q419 127 423 129T447 131Z" style="stroke-width:3;"></path></g></g><g data-mml-node="TeXAtom" transform="translate(544,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="msup"><g data-mml-node="mi"><path data-c="1D461" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(394,289) scale(0.707)"><path data-c="2032" d="M79 43Q73 43 52 49T30 61Q30 68 85 293T146 528Q161 560 198 560Q218 560 240 545T262 501Q262 496 260 486Q259 479 173 263T84 45T79 43Z" style="stroke-width:3;"></path></g></g></g></g></g></g>',1)]))),i[7]||(i[7]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("msub",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"c")]),A("mrow",{"data-mjx-texclass":"ORD"},[A("msup",null,[A("mi",null,"t"),A("mo",{"data-mjx-alternate":"1"},"′")])])])])],-1))]),i[20]||(i[20]=s(", which is updated after any decoding time step ")),A("mjx-container",m,[(a(),t("svg",u,i[8]||(i[8]=[l('<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mi"><path data-c="1D461" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(394,363) scale(0.707)"><path data-c="2032" d="M79 43Q73 43 52 49T30 61Q30 68 85 293T146 528Q161 560 198 560Q218 560 240 545T262 501Q262 496 260 486Q259 479 173 263T84 45T79 43Z" style="stroke-width:3;"></path></g></g></g></g>',1)]))),i[9]||(i[9]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("msup",null,[A("mi",null,"t"),A("mo",{"data-mjx-alternate":"1"},"′")])])],-1))]),i[21]||(i[21]=s(". Suppose that the input sequence is of length ")),A("mjx-container",y,[(a(),t("svg",C,i[10]||(i[10]=[A("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[A("g",{"data-mml-node":"math"},[A("g",{"data-mml-node":"mi"},[A("path",{"data-c":"1D447",d:"M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z",style:{"stroke-width":"3"}})])])],-1)]))),i[11]||(i[11]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("mi",null,"T")])],-1))]),i[22]||(i[22]=s(". In this case the context variable is the output of attention pooling:"))]),A("mjx-container",w,[(a(),t("svg",T,i[23]||(i[23]=[l('<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D41C" d="M447 131H458Q478 131 478 117Q478 112 471 95T439 51T377 9Q330 -6 286 -6Q196 -6 135 35Q39 96 39 222Q39 324 101 384Q169 453 286 453Q359 453 411 431T464 353Q464 319 445 302T395 284Q360 284 343 305T325 353Q325 380 338 396H333Q317 398 295 398H292Q280 398 271 397T245 390T218 373T197 338T183 283Q182 275 182 231Q182 199 184 180T193 132T220 85T270 57Q289 50 317 50H326Q385 50 414 115Q419 127 423 129T447 131Z" style="stroke-width:3;"></path></g></g><g data-mml-node="TeXAtom" transform="translate(544,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="msup"><g data-mml-node="mi"><path data-c="1D461" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(394,289) scale(0.707)"><path data-c="2032" d="M79 43Q73 43 52 49T30 61Q30 68 85 293T146 528Q161 560 198 560Q218 560 240 545T262 501Q262 496 260 486Q259 479 173 263T84 45T79 43Z" style="stroke-width:3;"></path></g></g></g></g><g data-mml-node="mo" transform="translate(1323.2,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" style="stroke-width:3;"></path></g><g data-mml-node="munderover" transform="translate(2379,0)"><g data-mml-node="mo"><path data-c="2211" d="M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z" style="stroke-width:3;"></path></g><g data-mml-node="TeXAtom" transform="translate(142.5,-1087.9) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D461" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(361,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" style="stroke-width:3;"></path></g><g data-mml-node="mn" transform="translate(1139,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" style="stroke-width:3;"></path></g></g><g data-mml-node="TeXAtom" transform="translate(473.1,1150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D447" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z" style="stroke-width:3;"></path></g></g></g><g data-mml-node="mi" transform="translate(3989.7,0)"><path data-c="1D6FC" d="M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(4629.7,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" style="stroke-width:3;"></path></g><g data-mml-node="msub" transform="translate(5018.7,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D42C" d="M38 315Q38 339 45 360T70 404T127 440T223 453Q273 453 320 436L338 445L357 453H366Q380 453 383 447T386 403V387V355Q386 331 383 326T365 321H355H349Q333 321 329 324T324 341Q317 406 224 406H216Q123 406 123 353Q123 334 143 321T188 304T244 294T285 286Q305 281 325 273T373 237T412 172Q414 162 414 142Q414 -6 230 -6Q154 -6 117 22L68 -6H58Q44 -6 41 0T38 42V73Q38 85 38 101T37 122Q37 144 42 148T68 153H75Q87 153 91 151T97 147T103 132Q131 46 220 46H230Q257 46 265 47Q330 58 330 108Q330 127 316 142Q300 156 284 162Q271 168 212 178T122 202Q38 243 38 315Z" style="stroke-width:3;"></path></g></g><g data-mml-node="TeXAtom" transform="translate(487,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="msup"><g data-mml-node="mi"><path data-c="1D461" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(394,289) scale(0.707)"><path data-c="2032" d="M79 43Q73 43 52 49T30 61Q30 68 85 293T146 528Q161 560 198 560Q218 560 240 545T262 501Q262 496 260 486Q259 479 173 263T84 45T79 43Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mo" transform="translate(638.5,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" style="stroke-width:3;"></path></g><g data-mml-node="mn" transform="translate(1416.5,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" style="stroke-width:3;"></path></g></g></g><g data-mml-node="mo" transform="translate(6910.8,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" style="stroke-width:3;"></path></g><g data-mml-node="msub" transform="translate(7355.5,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D421" d="M40 686L131 690Q222 694 223 694H229V533L230 372L238 381Q248 394 264 407T317 435T398 450Q428 450 448 447T491 434T529 402T551 346Q553 335 554 198V62H623V0H614Q596 3 489 3Q374 3 365 0H356V62H425V194V275Q425 348 416 373T371 399Q326 399 288 370T238 290Q236 281 235 171V62H304V0H295Q277 3 171 3Q64 3 46 0H37V62H106V332Q106 387 106 453T107 534Q107 593 105 605T91 620Q77 624 50 624H37V686H40Z" style="stroke-width:3;"></path></g></g><g data-mml-node="TeXAtom" transform="translate(672,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D461" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" style="stroke-width:3;"></path></g></g></g><g data-mml-node="mo" transform="translate(8332.7,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" style="stroke-width:3;"></path></g><g data-mml-node="msub" transform="translate(8721.7,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D421" d="M40 686L131 690Q222 694 223 694H229V533L230 372L238 381Q248 394 264 407T317 435T398 450Q428 450 448 447T491 434T529 402T551 346Q553 335 554 198V62H623V0H614Q596 3 489 3Q374 3 365 0H356V62H425V194V275Q425 348 416 373T371 399Q326 399 288 370T238 290Q236 281 235 171V62H304V0H295Q277 3 171 3Q64 3 46 0H37V62H106V332Q106 387 106 453T107 534Q107 593 105 605T91 620Q77 624 50 624H37V686H40Z" style="stroke-width:3;"></path></g></g><g data-mml-node="TeXAtom" transform="translate(672,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D461" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" style="stroke-width:3;"></path></g></g></g><g data-mml-node="mo" transform="translate(9699,0)"><path data-c="2E" d="M78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0T96 17T78 60Z" style="stroke-width:3;"></path></g></g></g>',1)]))),i[24]||(i[24]=A("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[A("msub",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"c")]),A("mrow",{"data-mjx-texclass":"ORD"},[A("msup",null,[A("mi",null,"t"),A("mo",{"data-mjx-alternate":"1"},"′")])])]),A("mo",null,"="),A("munderover",null,[A("mo",{"data-mjx-texclass":"OP"},"∑"),A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",null,"t"),A("mo",null,"="),A("mn",null,"1")]),A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",null,"T")])]),A("mi",null,"α"),A("mo",{stretchy:"false"},"("),A("msub",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"s")]),A("mrow",{"data-mjx-texclass":"ORD"},[A("msup",null,[A("mi",null,"t"),A("mo",{"data-mjx-alternate":"1"},"′")]),A("mo",null,"−"),A("mn",null,"1")])]),A("mo",null,","),A("msub",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"h")]),A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",null,"t")])]),A("mo",{stretchy:"false"},")"),A("msub",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"h")]),A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",null,"t")])]),A("mo",null,".")])],-1))]),A("p",null,[i[39]||(i[39]=s("We used ")),A("mjx-container",L,[(a(),t("svg",B,i[25]||(i[25]=[l('<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D42C" d="M38 315Q38 339 45 360T70 404T127 440T223 453Q273 453 320 436L338 445L357 453H366Q380 453 383 447T386 403V387V355Q386 331 383 326T365 321H355H349Q333 321 329 324T324 341Q317 406 224 406H216Q123 406 123 353Q123 334 143 321T188 304T244 294T285 286Q305 281 325 273T373 237T412 172Q414 162 414 142Q414 -6 230 -6Q154 -6 117 22L68 -6H58Q44 -6 41 0T38 42V73Q38 85 38 101T37 122Q37 144 42 148T68 153H75Q87 153 91 151T97 147T103 132Q131 46 220 46H230Q257 46 265 47Q330 58 330 108Q330 127 316 142Q300 156 284 162Q271 168 212 178T122 202Q38 243 38 315Z" style="stroke-width:3;"></path></g></g><g data-mml-node="TeXAtom" transform="translate(487,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="msup"><g data-mml-node="mi"><path data-c="1D461" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(394,289) scale(0.707)"><path data-c="2032" d="M79 43Q73 43 52 49T30 61Q30 68 85 293T146 528Q161 560 198 560Q218 560 240 545T262 501Q262 496 260 486Q259 479 173 263T84 45T79 43Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mo" transform="translate(638.5,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" style="stroke-width:3;"></path></g><g data-mml-node="mn" transform="translate(1416.5,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" style="stroke-width:3;"></path></g></g></g></g></g>',1)]))),i[26]||(i[26]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("msub",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"s")]),A("mrow",{"data-mjx-texclass":"ORD"},[A("msup",null,[A("mi",null,"t"),A("mo",{"data-mjx-alternate":"1"},"′")]),A("mo",null,"−"),A("mn",null,"1")])])])],-1))]),i[40]||(i[40]=s(" as the query, and ")),A("mjx-container",M,[(a(),t("svg",f,i[27]||(i[27]=[l('<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D421" d="M40 686L131 690Q222 694 223 694H229V533L230 372L238 381Q248 394 264 407T317 435T398 450Q428 450 448 447T491 434T529 402T551 346Q553 335 554 198V62H623V0H614Q596 3 489 3Q374 3 365 0H356V62H425V194V275Q425 348 416 373T371 399Q326 399 288 370T238 290Q236 281 235 171V62H304V0H295Q277 3 171 3Q64 3 46 0H37V62H106V332Q106 387 106 453T107 534Q107 593 105 605T91 620Q77 624 50 624H37V686H40Z" style="stroke-width:3;"></path></g></g><g data-mml-node="TeXAtom" transform="translate(672,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D461" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" style="stroke-width:3;"></path></g></g></g></g></g>',1)]))),i[28]||(i[28]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("msub",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"h")]),A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",null,"t")])])])],-1))]),i[41]||(i[41]=s(" as both the key and the value. Note that ")),A("mjx-container",F,[(a(),t("svg",x,i[29]||(i[29]=[l('<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D41C" d="M447 131H458Q478 131 478 117Q478 112 471 95T439 51T377 9Q330 -6 286 -6Q196 -6 135 35Q39 96 39 222Q39 324 101 384Q169 453 286 453Q359 453 411 431T464 353Q464 319 445 302T395 284Q360 284 343 305T325 353Q325 380 338 396H333Q317 398 295 398H292Q280 398 271 397T245 390T218 373T197 338T183 283Q182 275 182 231Q182 199 184 180T193 132T220 85T270 57Q289 50 317 50H326Q385 50 414 115Q419 127 423 129T447 131Z" style="stroke-width:3;"></path></g></g><g data-mml-node="TeXAtom" transform="translate(544,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="msup"><g data-mml-node="mi"><path data-c="1D461" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(394,289) scale(0.707)"><path data-c="2032" d="M79 43Q73 43 52 49T30 61Q30 68 85 293T146 528Q161 560 198 560Q218 560 240 545T262 501Q262 496 260 486Q259 479 173 263T84 45T79 43Z" style="stroke-width:3;"></path></g></g></g></g></g></g>',1)]))),i[30]||(i[30]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("msub",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"c")]),A("mrow",{"data-mjx-texclass":"ORD"},[A("msup",null,[A("mi",null,"t"),A("mo",{"data-mjx-alternate":"1"},"′")])])])])],-1))]),i[42]||(i[42]=s(" is then used to generate the state ")),A("mjx-container",D,[(a(),t("svg",I,i[31]||(i[31]=[l('<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D42C" d="M38 315Q38 339 45 360T70 404T127 440T223 453Q273 453 320 436L338 445L357 453H366Q380 453 383 447T386 403V387V355Q386 331 383 326T365 321H355H349Q333 321 329 324T324 341Q317 406 224 406H216Q123 406 123 353Q123 334 143 321T188 304T244 294T285 286Q305 281 325 273T373 237T412 172Q414 162 414 142Q414 -6 230 -6Q154 -6 117 22L68 -6H58Q44 -6 41 0T38 42V73Q38 85 38 101T37 122Q37 144 42 148T68 153H75Q87 153 91 151T97 147T103 132Q131 46 220 46H230Q257 46 265 47Q330 58 330 108Q330 127 316 142Q300 156 284 162Q271 168 212 178T122 202Q38 243 38 315Z" style="stroke-width:3;"></path></g></g><g data-mml-node="TeXAtom" transform="translate(487,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="msup"><g data-mml-node="mi"><path data-c="1D461" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(394,289) scale(0.707)"><path data-c="2032" d="M79 43Q73 43 52 49T30 61Q30 68 85 293T146 528Q161 560 198 560Q218 560 240 545T262 501Q262 496 260 486Q259 479 173 263T84 45T79 43Z" style="stroke-width:3;"></path></g></g></g></g></g></g>',1)]))),i[32]||(i[32]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("msub",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"s")]),A("mrow",{"data-mjx-texclass":"ORD"},[A("msup",null,[A("mi",null,"t"),A("mo",{"data-mjx-alternate":"1"},"′")])])])])],-1))]),i[43]||(i[43]=s(" and to generate a new token: see :eqref:")),i[44]||(i[44]=A("code",null,"eq_seq2seq_s_t",-1)),i[45]||(i[45]=s(". In particular, the attention weight ")),A("mjx-container",b,[(a(),t("svg",z,i[33]||(i[33]=[A("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[A("g",{"data-mml-node":"math"},[A("g",{"data-mml-node":"mi"},[A("path",{"data-c":"1D6FC",d:"M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z",style:{"stroke-width":"3"}})])])],-1)]))),i[34]||(i[34]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("mi",null,"α")])],-1))]),i[46]||(i[46]=s(" is computed as in :eqref:")),i[47]||(i[47]=A("code",null,"eq_attn-scoring-alpha",-1)),i[48]||(i[48]=s(" using the additive attention scoring function defined by :eqref:")),i[49]||(i[49]=A("code",null,"eq_additive-attn",-1)),i[50]||(i[50]=s(". This RNN encoder–decoder architecture using attention is depicted in ")),i[51]||(i[51]=A("a",{href:"/d2l-julia/previews/PR1/CH10.Attention_Mechanisms_and_Transformers/ATTN_4#fig_s2s_attention_details"},"Figure",-1)),i[52]||(i[52]=s(". Note that later this model was modified so as to include the already generated tokens in the decoder as further context (i.e., the attention sum does not stop at ")),A("mjx-container",Y,[(a(),t("svg",v,i[35]||(i[35]=[A("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[A("g",{"data-mml-node":"math"},[A("g",{"data-mml-node":"mi"},[A("path",{"data-c":"1D447",d:"M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z",style:{"stroke-width":"3"}})])])],-1)]))),i[36]||(i[36]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("mi",null,"T")])],-1))]),i[53]||(i[53]=s(" but rather it proceeds up to ")),A("mjx-container",_,[(a(),t("svg",H,i[37]||(i[37]=[l('<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mi"><path data-c="1D461" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(394,363) scale(0.707)"><path data-c="2032" d="M79 43Q73 43 52 49T30 61Q30 68 85 293T146 528Q161 560 198 560Q218 560 240 545T262 501Q262 496 260 486Q259 479 173 263T84 45T79 43Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mo" transform="translate(860.7,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" style="stroke-width:3;"></path></g><g data-mml-node="mn" transform="translate(1860.9,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" style="stroke-width:3;"></path></g></g></g>',1)]))),i[38]||(i[38]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("msup",null,[A("mi",null,"t"),A("mo",{"data-mjx-alternate":"1"},"′")]),A("mo",null,"−"),A("mn",null,"1")])],-1))]),i[54]||(i[54]=s("). For instance, see ")),i[55]||(i[55]=A("a",{href:"/d2l-julia/previews/PR1/references#chan2015listen"},[s("Chan "),A("em",null,"et al."),s(" [186]")],-1)),i[56]||(i[56]=s(" for a description of this strategy, as applied to speech recognition. ")),i[57]||(i[57]=A("img",{src:p,id:"fig_s2s_attention_details"},null,-1))]),i[59]||(i[59]=l(`<p><em>Layers in an RNN encoder–decoder model with the Bahdanau attention mechanism.</em></p><h2 id="Defining-the-Decoder-with-Attention" tabindex="-1">Defining the Decoder with Attention <a class="header-anchor" href="#Defining-the-Decoder-with-Attention" aria-label="Permalink to &quot;Defining the Decoder with Attention {#Defining-the-Decoder-with-Attention}&quot;">​</a></h2><p>To implement the RNN encoder–decoder with attention, we only need to redefine the decoder (omitting the generated symbols from the attention function simplifies the design). Let&#39;s begin with the base interface for decoders with attention by defining the quite unsurprisingly named <code>AttentionDecoder</code> class.</p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">abstract type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> AttentionDecoder </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> AbstractModel</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> end</span></span></code></pre></div><p>We need to implement the RNN decoder in the <code>Seq2SeqAttentionDecoder</code> struct. The state of the decoder is initialized with (i) the hidden states of the last layer of the encoder at all time steps, used as keys and values for attention; (ii) the hidden state of the encoder at all layers at the final time step, which serves to initialize the hidden state of the decoder; and (iii) the valid length of the encoder, to exclude the padding tokens in attention pooling. At each decoding time step, the hidden state of the final layer of the decoder, obtained at the previous time step, is used as the query of the attention mechanism. Both the output of the attention mechanism and the input embedding are concatenated to serve as the input of the RNN decoder.</p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">struct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Seq2SeqAttentionDecoder{AT, E, R, D, A} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> AbstractModel</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    attention</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AT</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    embedding</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">E</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    rnn</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">R</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    dense</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">D</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    args</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">A</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">end</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Flux</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">@layer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Seq2SeqAttentionDecoder trainable </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (attention, embedding, rnn, dense)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d2lai</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">init_state</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Seq2SeqAttentionDecoder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, enc_all_out, enc_valid_lens)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    outputs, hidden_state </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> enc_all_out</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> outputs, hidden_state, enc_valid_lens</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">end</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Seq2SeqAttentionDecoder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(vocab_size</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, embed_size</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, num_hiddens, num_layers, dropout</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    embedding </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Embedding</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(vocab_size </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> embed_size)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    rnn </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> StackedRNN</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(embed_size </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> num_hiddens, num_hiddens, num_layers; rnn </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Flux</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">LSTM)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    attention </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> AdditiveAttention</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(num_hiddens, num_hiddens, num_hiddens, num_hiddens, dropout)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    dense </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Dense</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(num_hiddens, vocab_size) </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    args </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (; vocab_size, embed_size, num_hiddens, num_layers)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    Seq2SeqAttentionDecoder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(attention, embedding, rnn, dense, args)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">end</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Seq2SeqAttentionDecoder</span></span></code></pre></div><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (m</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Seq2SeqAttentionDecoder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)(X, state; return_attention_wts </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    enc_outputs, hidden_state, enc_valid_lens </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> state</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    embeds </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> m</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">embedding</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(X) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># num_embeds x num_steps x batch_size </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    outs </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">eachslice</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(embeds; dims </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">do</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> x </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        query </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> hidden_state[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">end</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># num_hiddens x batch_size </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        query </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Flux</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">unsqueeze</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(query, dims </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># num_hiddens x 1 x batch_size (num_queries = 1)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        # enc_outputs -&gt; num_hiddens x num_steps x batch_size</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        context, attention_wts </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> m</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">attention</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(query, enc_outputs, enc_outputs, enc_valid_lens) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># num_hiddens x 1 x batch_size </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        embs_and_context </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> vcat</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Flux</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">unsqueeze</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(x, dims </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), context) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># (num_embeds + num_hiddem x 1 x batch_size)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        out, hidden_state </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> m</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">rnn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(embs_and_context, hidden_state)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        out, attention_wts</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    end</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    outputs </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> first</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.(outs)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    attention_wts </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> last</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.(outs)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    outputs_cat </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> cat</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(outputs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, dims </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    out_dense </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> m</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">dense</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(outputs_cat)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> !</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">return_attention_wts </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> out_dense, (enc_outputs, hidden_state, enc_valid_lens)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    else</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> out_dense,  (enc_outputs, hidden_state, enc_valid_lens), attention_wts</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    end</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">end</span></span></code></pre></div><p>In the following, we test the implemented decoder with attention using a minibatch of four sequences, each of which are seven time steps long.</p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">vocab_size, embed_size, num_hiddens, num_layers </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">16</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">batch_size, num_steps </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">encoder </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Seq2SeqEncoder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(vocab_size, embed_size, num_hiddens, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">decoder </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Seq2SeqAttentionDecoder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(vocab_size, embed_size, num_hiddens, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">X </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> ones</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Int64, num_steps, batch_size)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">state </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d2lai</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">init_state</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(decoder, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">encoder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(X, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">nothing</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">nothing</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">output, state </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> decoder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(X, state);</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">@assert</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> size</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(output) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (vocab_size, num_steps, batch_size)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">@assert</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> size</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(state[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (num_hiddens, num_steps, batch_size)</span></span></code></pre></div><h2 id="Training" tabindex="-1">Training <a class="header-anchor" href="#Training" aria-label="Permalink to &quot;Training {#Training}&quot;">​</a></h2><p>Now that we specified the new decoder we can proceed analogously to :numref:<code>sec_seq2seq_training</code>: specify the hyperparameters, instantiate a regular encoder and a decoder with attention, and train this model for machine translation.</p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">data </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d2lai</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">MTFraEng</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">128</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">embed_size, num_hiddens, num_layers, dropout </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 256</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">256</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.2</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">encoder </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Seq2SeqEncoder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">length</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">src_vocab), embed_size, num_hiddens, num_layers)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">decoder </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Seq2SeqAttentionDecoder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">length</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">tgt_vocab), embed_size, num_hiddens, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">model </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Seq2Seq</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(encoder, decoder, data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">tgt_vocab[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&lt;pad&gt;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Flux</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">f64</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">opt </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Flux</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Adam</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.01</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">trainer </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Trainer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(model, data, opt; max_epochs </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 30</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, gpu </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, gradient_clip_val </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">m, _ </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d2lai</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">fit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(trainer);</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>┌ Warning: Layer with Float32 parameters got Float64 input.</span></span>
<span class="line"><span>│   The input will be converted, but any earlier layers may be very slow.</span></span>
<span class="line"><span>│   layer = Dense(256 =&gt; 256; bias=false)  # 65_536 parameters</span></span>
<span class="line"><span>│   summary(x) = &quot;256×128 CuArray{Float64, 2, CUDA.DeviceMemory}&quot;</span></span>
<span class="line"><span>└ @ Flux ~/.julia/packages/Flux/3711C/src/layers/stateless.jl:60</span></span></code></pre></div><div style="max-height:300px;overflow-y:auto;background:#111;color:#eee;padding:1em;border-radius:5px;"><pre>    [ Info: Train Loss: 4.0412164, Val Loss: 4.9143953
    [ Info: Train Loss: 2.9848623, Val Loss: 4.5563307
    [ Info: Train Loss: 2.596702, Val Loss: 4.536007
    [ Info: Train Loss: 2.3639255, Val Loss: 4.4321485
    [ Info: Train Loss: 1.9325426, Val Loss: 4.532488
    [ Info: Train Loss: 1.6510118, Val Loss: 4.667524
    [ Info: Train Loss: 1.4277399, Val Loss: 4.7502885
    [ Info: Train Loss: 1.2472821, Val Loss: 4.89551
    [ Info: Train Loss: 1.1188064, Val Loss: 5.0064697
    [ Info: Train Loss: 0.9380719, Val Loss: 4.6692905
    [ Info: Train Loss: 0.86440516, Val Loss: 4.6082397
    [ Info: Train Loss: 0.76707596, Val Loss: 4.9298
    [ Info: Train Loss: 0.7151689, Val Loss: 4.6978455
    [ Info: Train Loss: 0.6187289, Val Loss: 4.97536
    [ Info: Train Loss: 0.61237884, Val Loss: 4.873481
    [ Info: Train Loss: 0.55913705, Val Loss: 4.797181
    [ Info: Train Loss: 0.5458334, Val Loss: 4.754832
    [ Info: Train Loss: 0.5831154, Val Loss: 4.7641854
    [ Info: Train Loss: 0.45402354, Val Loss: 4.937228
    [ Info: Train Loss: 0.54235154, Val Loss: 5.2440014
    [ Info: Train Loss: 0.47185406, Val Loss: 4.8063936
    [ Info: Train Loss: 0.45345232, Val Loss: 4.969394
    [ Info: Train Loss: 0.3592736, Val Loss: 5.0772567
    [ Info: Train Loss: 0.42924955, Val Loss: 5.0097284
    [ Info: Train Loss: 0.40380043, Val Loss: 5.061416
    [ Info: Train Loss: 0.45879066, Val Loss: 4.876223
    [ Info: Train Loss: 0.4700213, Val Loss: 5.086087
    [ Info: Train Loss: 0.5087924, Val Loss: 5.028875
    [ Info: Train Loss: 0.4338621, Val Loss: 5.279842
    [ Info: Train Loss: 0.47916874, Val Loss: 5.3080935</pre></div><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="600" height="400" viewBox="0 0 2400 1600"><defs><clipPath id="clip140"><rect x="0" y="0" width="2400" height="1600"></rect></clipPath></defs><path clip-path="url(#clip140)" d="M0 1600 L2400 1600 L2400 0 L0 0  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path><defs><clipPath id="clip141"><rect x="480" y="0" width="1681" height="1600"></rect></clipPath></defs><path clip-path="url(#clip140)" d="M225.325 1423.18 L2352.76 1423.18 L2352.76 47.2441 L225.325 47.2441  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path><defs><clipPath id="clip142"><rect x="225" y="47" width="2128" height="1377"></rect></clipPath></defs><polyline clip-path="url(#clip142)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:2;stroke-opacity:0.1;fill:none;" points="562.364,1423.18 562.364,47.2441 "></polyline><polyline clip-path="url(#clip142)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:2;stroke-opacity:0.1;fill:none;" points="908.4,1423.18 908.4,47.2441 "></polyline><polyline clip-path="url(#clip142)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:2;stroke-opacity:0.1;fill:none;" points="1254.44,1423.18 1254.44,47.2441 "></polyline><polyline clip-path="url(#clip142)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:2;stroke-opacity:0.1;fill:none;" points="1600.47,1423.18 1600.47,47.2441 "></polyline><polyline clip-path="url(#clip142)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:2;stroke-opacity:0.1;fill:none;" points="1946.51,1423.18 1946.51,47.2441 "></polyline><polyline clip-path="url(#clip142)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:2;stroke-opacity:0.1;fill:none;" points="2292.55,1423.18 2292.55,47.2441 "></polyline><polyline clip-path="url(#clip142)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:2;stroke-opacity:0.1;fill:none;" points="225.325,1140.88 2352.76,1140.88 "></polyline><polyline clip-path="url(#clip142)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:2;stroke-opacity:0.1;fill:none;" points="225.325,842.224 2352.76,842.224 "></polyline><polyline clip-path="url(#clip142)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:2;stroke-opacity:0.1;fill:none;" points="225.325,543.571 2352.76,543.571 "></polyline><polyline clip-path="url(#clip142)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:2;stroke-opacity:0.1;fill:none;" points="225.325,244.917 2352.76,244.917 "></polyline><polyline clip-path="url(#clip140)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="225.325,1423.18 2352.76,1423.18 "></polyline><polyline clip-path="url(#clip140)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="562.364,1423.18 562.364,1404.28 "></polyline><polyline clip-path="url(#clip140)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="908.4,1423.18 908.4,1404.28 "></polyline><polyline clip-path="url(#clip140)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="1254.44,1423.18 1254.44,1404.28 "></polyline><polyline clip-path="url(#clip140)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="1600.47,1423.18 1600.47,1404.28 "></polyline><polyline clip-path="url(#clip140)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="1946.51,1423.18 1946.51,1404.28 "></polyline><polyline clip-path="url(#clip140)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="2292.55,1423.18 2292.55,1404.28 "></polyline><path clip-path="url(#clip140)" d="M552.642 1451.02 L570.998 1451.02 L570.998 1454.96 L556.924 1454.96 L556.924 1463.43 Q557.943 1463.08 558.961 1462.92 Q559.98 1462.73 560.998 1462.73 Q566.785 1462.73 570.165 1465.9 Q573.545 1469.08 573.545 1474.49 Q573.545 1480.07 570.072 1483.17 Q566.6 1486.25 560.281 1486.25 Q558.105 1486.25 555.836 1485.88 Q553.591 1485.51 551.184 1484.77 L551.184 1480.07 Q553.267 1481.2 555.489 1481.76 Q557.711 1482.32 560.188 1482.32 Q564.193 1482.32 566.531 1480.21 Q568.869 1478.1 568.869 1474.49 Q568.869 1470.88 566.531 1468.77 Q564.193 1466.67 560.188 1466.67 Q558.313 1466.67 556.438 1467.08 Q554.586 1467.5 552.642 1468.38 L552.642 1451.02 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip140)" d="M883.088 1481.64 L890.727 1481.64 L890.727 1455.28 L882.417 1456.95 L882.417 1452.69 L890.681 1451.02 L895.356 1451.02 L895.356 1481.64 L902.995 1481.64 L902.995 1485.58 L883.088 1485.58 L883.088 1481.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip140)" d="M922.44 1454.1 Q918.829 1454.1 917 1457.66 Q915.194 1461.2 915.194 1468.33 Q915.194 1475.44 917 1479.01 Q918.829 1482.55 922.44 1482.55 Q926.074 1482.55 927.879 1479.01 Q929.708 1475.44 929.708 1468.33 Q929.708 1461.2 927.879 1457.66 Q926.074 1454.1 922.44 1454.1 M922.44 1450.39 Q928.25 1450.39 931.305 1455 Q934.384 1459.58 934.384 1468.33 Q934.384 1477.06 931.305 1481.67 Q928.25 1486.25 922.44 1486.25 Q916.63 1486.25 913.551 1481.67 Q910.495 1477.06 910.495 1468.33 Q910.495 1459.58 913.551 1455 Q916.63 1450.39 922.44 1450.39 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip140)" d="M1229.62 1481.64 L1237.26 1481.64 L1237.26 1455.28 L1228.95 1456.95 L1228.95 1452.69 L1237.21 1451.02 L1241.89 1451.02 L1241.89 1481.64 L1249.53 1481.64 L1249.53 1485.58 L1229.62 1485.58 L1229.62 1481.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip140)" d="M1259.02 1451.02 L1277.38 1451.02 L1277.38 1454.96 L1263.3 1454.96 L1263.3 1463.43 Q1264.32 1463.08 1265.34 1462.92 Q1266.36 1462.73 1267.38 1462.73 Q1273.16 1462.73 1276.54 1465.9 Q1279.92 1469.08 1279.92 1474.49 Q1279.92 1480.07 1276.45 1483.17 Q1272.98 1486.25 1266.66 1486.25 Q1264.48 1486.25 1262.21 1485.88 Q1259.97 1485.51 1257.56 1484.77 L1257.56 1480.07 Q1259.64 1481.2 1261.87 1481.76 Q1264.09 1482.32 1266.57 1482.32 Q1270.57 1482.32 1272.91 1480.21 Q1275.25 1478.1 1275.25 1474.49 Q1275.25 1470.88 1272.91 1468.77 Q1270.57 1466.67 1266.57 1466.67 Q1264.69 1466.67 1262.82 1467.08 Q1260.96 1467.5 1259.02 1468.38 L1259.02 1451.02 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip140)" d="M1579.25 1481.64 L1595.57 1481.64 L1595.57 1485.58 L1573.62 1485.58 L1573.62 1481.64 Q1576.28 1478.89 1580.87 1474.26 Q1585.47 1469.61 1586.65 1468.27 Q1588.9 1465.74 1589.78 1464.01 Q1590.68 1462.25 1590.68 1460.56 Q1590.68 1457.8 1588.74 1456.07 Q1586.82 1454.33 1583.71 1454.33 Q1581.51 1454.33 1579.06 1455.09 Q1576.63 1455.86 1573.85 1457.41 L1573.85 1452.69 Q1576.68 1451.55 1579.13 1450.97 Q1581.58 1450.39 1583.62 1450.39 Q1588.99 1450.39 1592.19 1453.08 Q1595.38 1455.77 1595.38 1460.26 Q1595.38 1462.39 1594.57 1464.31 Q1593.78 1466.2 1591.68 1468.8 Q1591.1 1469.47 1588 1472.69 Q1584.89 1475.88 1579.25 1481.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip140)" d="M1615.38 1454.1 Q1611.77 1454.1 1609.94 1457.66 Q1608.13 1461.2 1608.13 1468.33 Q1608.13 1475.44 1609.94 1479.01 Q1611.77 1482.55 1615.38 1482.55 Q1619.01 1482.55 1620.82 1479.01 Q1622.65 1475.44 1622.65 1468.33 Q1622.65 1461.2 1620.82 1457.66 Q1619.01 1454.1 1615.38 1454.1 M1615.38 1450.39 Q1621.19 1450.39 1624.25 1455 Q1627.32 1459.58 1627.32 1468.33 Q1627.32 1477.06 1624.25 1481.67 Q1621.19 1486.25 1615.38 1486.25 Q1609.57 1486.25 1606.49 1481.67 Q1603.44 1477.06 1603.44 1468.33 Q1603.44 1459.58 1606.49 1455 Q1609.57 1450.39 1615.38 1450.39 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip140)" d="M1925.78 1481.64 L1942.1 1481.64 L1942.1 1485.58 L1920.16 1485.58 L1920.16 1481.64 Q1922.82 1478.89 1927.4 1474.26 Q1932.01 1469.61 1933.19 1468.27 Q1935.43 1465.74 1936.31 1464.01 Q1937.22 1462.25 1937.22 1460.56 Q1937.22 1457.8 1935.27 1456.07 Q1933.35 1454.33 1930.25 1454.33 Q1928.05 1454.33 1925.6 1455.09 Q1923.16 1455.86 1920.39 1457.41 L1920.39 1452.69 Q1923.21 1451.55 1925.66 1450.97 Q1928.12 1450.39 1930.16 1450.39 Q1935.53 1450.39 1938.72 1453.08 Q1941.91 1455.77 1941.91 1460.26 Q1941.91 1462.39 1941.1 1464.31 Q1940.32 1466.2 1938.21 1468.8 Q1937.63 1469.47 1934.53 1472.69 Q1931.43 1475.88 1925.78 1481.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip140)" d="M1951.96 1451.02 L1970.32 1451.02 L1970.32 1454.96 L1956.24 1454.96 L1956.24 1463.43 Q1957.26 1463.08 1958.28 1462.92 Q1959.3 1462.73 1960.32 1462.73 Q1966.1 1462.73 1969.48 1465.9 Q1972.86 1469.08 1972.86 1474.49 Q1972.86 1480.07 1969.39 1483.17 Q1965.92 1486.25 1959.6 1486.25 Q1957.42 1486.25 1955.16 1485.88 Q1952.91 1485.51 1950.5 1484.77 L1950.5 1480.07 Q1952.59 1481.2 1954.81 1481.76 Q1957.03 1482.32 1959.51 1482.32 Q1963.51 1482.32 1965.85 1480.21 Q1968.19 1478.1 1968.19 1474.49 Q1968.19 1470.88 1965.85 1468.77 Q1963.51 1466.67 1959.51 1466.67 Q1957.63 1466.67 1955.76 1467.08 Q1953.91 1467.5 1951.96 1468.38 L1951.96 1451.02 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip140)" d="M2281.39 1466.95 Q2284.74 1467.66 2286.62 1469.93 Q2288.52 1472.2 2288.52 1475.53 Q2288.52 1480.65 2285 1483.45 Q2281.48 1486.25 2275 1486.25 Q2272.82 1486.25 2270.51 1485.81 Q2268.22 1485.39 2265.76 1484.54 L2265.76 1480.02 Q2267.71 1481.16 2270.02 1481.74 Q2272.34 1482.32 2274.86 1482.32 Q2279.26 1482.32 2281.55 1480.58 Q2283.87 1478.84 2283.87 1475.53 Q2283.87 1472.48 2281.71 1470.77 Q2279.58 1469.03 2275.76 1469.03 L2271.74 1469.03 L2271.74 1465.19 L2275.95 1465.19 Q2279.4 1465.19 2281.23 1463.82 Q2283.05 1462.43 2283.05 1459.84 Q2283.05 1457.18 2281.16 1455.77 Q2279.28 1454.33 2275.76 1454.33 Q2273.84 1454.33 2271.64 1454.75 Q2269.44 1455.16 2266.8 1456.04 L2266.8 1451.88 Q2269.47 1451.14 2271.78 1450.77 Q2274.12 1450.39 2276.18 1450.39 Q2281.5 1450.39 2284.61 1452.83 Q2287.71 1455.23 2287.71 1459.35 Q2287.71 1462.22 2286.06 1464.21 Q2284.42 1466.18 2281.39 1466.95 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip140)" d="M2307.38 1454.1 Q2303.77 1454.1 2301.94 1457.66 Q2300.14 1461.2 2300.14 1468.33 Q2300.14 1475.44 2301.94 1479.01 Q2303.77 1482.55 2307.38 1482.55 Q2311.02 1482.55 2312.82 1479.01 Q2314.65 1475.44 2314.65 1468.33 Q2314.65 1461.2 2312.82 1457.66 Q2311.02 1454.1 2307.38 1454.1 M2307.38 1450.39 Q2313.19 1450.39 2316.25 1455 Q2319.33 1459.58 2319.33 1468.33 Q2319.33 1477.06 2316.25 1481.67 Q2313.19 1486.25 2307.38 1486.25 Q2301.57 1486.25 2298.49 1481.67 Q2295.44 1477.06 2295.44 1468.33 Q2295.44 1459.58 2298.49 1455 Q2301.57 1450.39 2307.38 1450.39 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip140)" d="M1209.23 1548.76 L1209.23 1551.62 L1182.3 1551.62 Q1182.69 1557.67 1185.93 1560.85 Q1189.21 1564 1195.03 1564 Q1198.41 1564 1201.56 1563.17 Q1204.74 1562.35 1207.86 1560.69 L1207.86 1566.23 Q1204.71 1567.57 1201.4 1568.27 Q1198.09 1568.97 1194.68 1568.97 Q1186.15 1568.97 1181.16 1564 Q1176.19 1559.04 1176.19 1550.57 Q1176.19 1541.82 1180.9 1536.69 Q1185.65 1531.54 1193.67 1531.54 Q1200.86 1531.54 1205.03 1536.18 Q1209.23 1540.8 1209.23 1548.76 M1203.37 1547.04 Q1203.31 1542.23 1200.67 1539.37 Q1198.06 1536.5 1193.73 1536.5 Q1188.83 1536.5 1185.87 1539.27 Q1182.94 1542.04 1182.49 1547.07 L1203.37 1547.04 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip140)" d="M1224.51 1562.7 L1224.51 1581.6 L1218.62 1581.6 L1218.62 1532.4 L1224.51 1532.4 L1224.51 1537.81 Q1226.35 1534.62 1229.15 1533.1 Q1231.99 1531.54 1235.9 1531.54 Q1242.4 1531.54 1246.44 1536.69 Q1250.51 1541.85 1250.51 1550.25 Q1250.51 1558.65 1246.44 1563.81 Q1242.4 1568.97 1235.9 1568.97 Q1231.99 1568.97 1229.15 1567.44 Q1226.35 1565.88 1224.51 1562.7 M1244.43 1550.25 Q1244.43 1543.79 1241.76 1540.13 Q1239.12 1536.44 1234.47 1536.44 Q1229.82 1536.44 1227.15 1540.13 Q1224.51 1543.79 1224.51 1550.25 Q1224.51 1556.71 1227.15 1560.4 Q1229.82 1564.07 1234.47 1564.07 Q1239.12 1564.07 1241.76 1560.4 Q1244.43 1556.71 1244.43 1550.25 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip140)" d="M1274.03 1536.5 Q1269.32 1536.5 1266.59 1540.19 Q1263.85 1543.85 1263.85 1550.25 Q1263.85 1556.65 1266.55 1560.34 Q1269.29 1564 1274.03 1564 Q1278.71 1564 1281.45 1560.31 Q1284.19 1556.62 1284.19 1550.25 Q1284.19 1543.92 1281.45 1540.23 Q1278.71 1536.5 1274.03 1536.5 M1274.03 1531.54 Q1281.67 1531.54 1286.03 1536.5 Q1290.39 1541.47 1290.39 1550.25 Q1290.39 1559 1286.03 1564 Q1281.67 1568.97 1274.03 1568.97 Q1266.36 1568.97 1262 1564 Q1257.67 1559 1257.67 1550.25 Q1257.67 1541.47 1262 1536.5 Q1266.36 1531.54 1274.03 1531.54 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip140)" d="M1325.75 1533.76 L1325.75 1539.24 Q1323.27 1537.87 1320.76 1537.2 Q1318.27 1536.5 1315.73 1536.5 Q1310.03 1536.5 1306.88 1540.13 Q1303.73 1543.73 1303.73 1550.25 Q1303.73 1556.78 1306.88 1560.4 Q1310.03 1564 1315.73 1564 Q1318.27 1564 1320.76 1563.33 Q1323.27 1562.63 1325.75 1561.26 L1325.75 1566.68 Q1323.3 1567.82 1320.66 1568.39 Q1318.05 1568.97 1315.09 1568.97 Q1307.04 1568.97 1302.3 1563.91 Q1297.55 1558.85 1297.55 1550.25 Q1297.55 1541.53 1302.33 1536.53 Q1307.13 1531.54 1315.47 1531.54 Q1318.18 1531.54 1320.76 1532.11 Q1323.34 1532.65 1325.75 1533.76 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip140)" d="M1365.57 1546.53 L1365.57 1568.04 L1359.72 1568.04 L1359.72 1546.72 Q1359.72 1541.66 1357.74 1539.14 Q1355.77 1536.63 1351.82 1536.63 Q1347.08 1536.63 1344.34 1539.65 Q1341.61 1542.68 1341.61 1547.9 L1341.61 1568.04 L1335.72 1568.04 L1335.72 1518.52 L1341.61 1518.52 L1341.61 1537.93 Q1343.71 1534.72 1346.54 1533.13 Q1349.4 1531.54 1353.13 1531.54 Q1359.27 1531.54 1362.42 1535.36 Q1365.57 1539.14 1365.57 1546.53 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip140)" d="M1399.98 1533.45 L1399.98 1538.98 Q1397.5 1537.71 1394.82 1537.07 Q1392.15 1536.44 1389.28 1536.44 Q1384.92 1536.44 1382.73 1537.77 Q1380.56 1539.11 1380.56 1541.79 Q1380.56 1543.82 1382.12 1545 Q1383.68 1546.15 1388.39 1547.2 L1390.4 1547.64 Q1396.64 1548.98 1399.25 1551.43 Q1401.89 1553.85 1401.89 1558.21 Q1401.89 1563.17 1397.94 1566.07 Q1394.03 1568.97 1387.15 1568.97 Q1384.29 1568.97 1381.17 1568.39 Q1378.08 1567.85 1374.64 1566.74 L1374.64 1560.69 Q1377.89 1562.38 1381.04 1563.24 Q1384.19 1564.07 1387.28 1564.07 Q1391.42 1564.07 1393.64 1562.66 Q1395.87 1561.23 1395.87 1558.65 Q1395.87 1556.27 1394.25 1554.99 Q1392.66 1553.72 1387.22 1552.54 L1385.18 1552.07 Q1379.74 1550.92 1377.32 1548.56 Q1374.9 1546.18 1374.9 1542.04 Q1374.9 1537.01 1378.46 1534.27 Q1382.03 1531.54 1388.58 1531.54 Q1391.83 1531.54 1394.7 1532.01 Q1397.56 1532.49 1399.98 1533.45 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip140)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="225.325,1423.18 225.325,47.2441 "></polyline><polyline clip-path="url(#clip140)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="225.325,1140.88 244.222,1140.88 "></polyline><polyline clip-path="url(#clip140)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="225.325,842.224 244.222,842.224 "></polyline><polyline clip-path="url(#clip140)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="225.325,543.571 244.222,543.571 "></polyline><polyline clip-path="url(#clip140)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="225.325,244.917 244.222,244.917 "></polyline><path clip-path="url(#clip140)" d="M51.6634 1160.67 L59.3023 1160.67 L59.3023 1134.3 L50.9921 1135.97 L50.9921 1131.71 L59.256 1130.05 L63.9319 1130.05 L63.9319 1160.67 L71.5707 1160.67 L71.5707 1164.61 L51.6634 1164.61 L51.6634 1160.67 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip140)" d="M91.0151 1133.12 Q87.404 1133.12 85.5753 1136.69 Q83.7697 1140.23 83.7697 1147.36 Q83.7697 1154.47 85.5753 1158.03 Q87.404 1161.57 91.0151 1161.57 Q94.6493 1161.57 96.4548 1158.03 Q98.2835 1154.47 98.2835 1147.36 Q98.2835 1140.23 96.4548 1136.69 Q94.6493 1133.12 91.0151 1133.12 M91.0151 1129.42 Q96.8252 1129.42 99.8808 1134.03 Q102.959 1138.61 102.959 1147.36 Q102.959 1156.09 99.8808 1160.69 Q96.8252 1165.28 91.0151 1165.28 Q85.2049 1165.28 82.1262 1160.69 Q79.0707 1156.09 79.0707 1147.36 Q79.0707 1138.61 82.1262 1134.03 Q85.2049 1129.42 91.0151 1129.42 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip140)" d="M102.959 1123.52 L127.071 1123.52 L127.071 1126.72 L102.959 1126.72 L102.959 1123.52 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip140)" d="M143.396 1111.62 Q140.462 1111.62 138.976 1114.51 Q137.509 1117.39 137.509 1123.18 Q137.509 1128.96 138.976 1131.85 Q140.462 1134.73 143.396 1134.73 Q146.349 1134.73 147.816 1131.85 Q149.302 1128.96 149.302 1123.18 Q149.302 1117.39 147.816 1114.51 Q146.349 1111.62 143.396 1111.62 M143.396 1108.61 Q148.117 1108.61 150.6 1112.35 Q153.101 1116.07 153.101 1123.18 Q153.101 1130.27 150.6 1134.02 Q148.117 1137.74 143.396 1137.74 Q138.675 1137.74 136.174 1134.02 Q133.691 1130.27 133.691 1123.18 Q133.691 1116.07 136.174 1112.35 Q138.675 1108.61 143.396 1108.61 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip140)" d="M159.778 1132.42 L163.746 1132.42 L163.746 1137.2 L159.778 1137.2 L159.778 1132.42 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip140)" d="M183.532 1122.06 Q186.259 1122.64 187.782 1124.48 Q189.325 1126.32 189.325 1129.03 Q189.325 1133.19 186.466 1135.46 Q183.607 1137.74 178.341 1137.74 Q176.573 1137.74 174.692 1137.38 Q172.83 1137.04 170.837 1136.35 L170.837 1132.68 Q172.417 1133.6 174.297 1134.07 Q176.178 1134.54 178.228 1134.54 Q181.802 1134.54 183.664 1133.13 Q185.544 1131.72 185.544 1129.03 Q185.544 1126.55 183.795 1125.16 Q182.065 1123.75 178.962 1123.75 L175.689 1123.75 L175.689 1120.63 L179.112 1120.63 Q181.914 1120.63 183.4 1119.52 Q184.886 1118.39 184.886 1116.28 Q184.886 1114.12 183.344 1112.97 Q181.82 1111.8 178.962 1111.8 Q177.401 1111.8 175.614 1112.14 Q173.827 1112.48 171.683 1113.2 L171.683 1109.81 Q173.846 1109.21 175.727 1108.91 Q177.626 1108.61 179.3 1108.61 Q183.626 1108.61 186.146 1110.58 Q188.666 1112.54 188.666 1115.89 Q188.666 1118.22 187.331 1119.84 Q185.996 1121.43 183.532 1122.06 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip140)" d="M81.8687 862.017 L89.5075 862.017 L89.5075 835.651 L81.1974 837.318 L81.1974 833.059 L89.4612 831.392 L94.1371 831.392 L94.1371 862.017 L101.776 862.017 L101.776 865.952 L81.8687 865.952 L81.8687 862.017 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip140)" d="M121.22 834.471 Q117.609 834.471 115.781 838.036 Q113.975 841.577 113.975 848.707 Q113.975 855.813 115.781 859.378 Q117.609 862.92 121.22 862.92 Q124.855 862.92 126.66 859.378 Q128.489 855.813 128.489 848.707 Q128.489 841.577 126.66 838.036 Q124.855 834.471 121.22 834.471 M121.22 830.767 Q127.03 830.767 130.086 835.374 Q133.165 839.957 133.165 848.707 Q133.165 857.434 130.086 862.04 Q127.03 866.623 121.22 866.623 Q115.41 866.623 112.331 862.04 Q109.276 857.434 109.276 848.707 Q109.276 839.957 112.331 835.374 Q115.41 830.767 121.22 830.767 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip140)" d="M142.87 812.963 Q139.936 812.963 138.45 815.86 Q136.983 818.737 136.983 824.53 Q136.983 830.304 138.45 833.2 Q139.936 836.078 142.87 836.078 Q145.822 836.078 147.289 833.2 Q148.775 830.304 148.775 824.53 Q148.775 818.737 147.289 815.86 Q145.822 812.963 142.87 812.963 M142.87 809.954 Q147.59 809.954 150.073 813.697 Q152.574 817.421 152.574 824.53 Q152.574 831.62 150.073 835.363 Q147.59 839.087 142.87 839.087 Q138.149 839.087 135.647 835.363 Q133.165 831.62 133.165 824.53 Q133.165 817.421 135.647 813.697 Q138.149 809.954 142.87 809.954 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip140)" d="M159.251 833.765 L163.22 833.765 L163.22 838.542 L159.251 838.542 L159.251 833.765 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip140)" d="M179.62 812.963 Q176.686 812.963 175.2 815.86 Q173.733 818.737 173.733 824.53 Q173.733 830.304 175.2 833.2 Q176.686 836.078 179.62 836.078 Q182.573 836.078 184.04 833.2 Q185.526 830.304 185.526 824.53 Q185.526 818.737 184.04 815.86 Q182.573 812.963 179.62 812.963 M179.62 809.954 Q184.341 809.954 186.823 813.697 Q189.325 817.421 189.325 824.53 Q189.325 831.62 186.823 835.363 Q184.341 839.087 179.62 839.087 Q174.899 839.087 172.398 835.363 Q169.915 831.62 169.915 824.53 Q169.915 817.421 172.398 813.697 Q174.899 809.954 179.62 809.954 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip140)" d="M82.3953 563.363 L90.0342 563.363 L90.0342 536.998 L81.724 538.664 L81.724 534.405 L89.9879 532.738 L94.6638 532.738 L94.6638 563.363 L102.303 563.363 L102.303 567.298 L82.3953 567.298 L82.3953 563.363 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip140)" d="M121.747 535.817 Q118.136 535.817 116.307 539.382 Q114.502 542.924 114.502 550.053 Q114.502 557.16 116.307 560.724 Q118.136 564.266 121.747 564.266 Q125.381 564.266 127.187 560.724 Q129.015 557.16 129.015 550.053 Q129.015 542.924 127.187 539.382 Q125.381 535.817 121.747 535.817 M121.747 532.113 Q127.557 532.113 130.613 536.72 Q133.691 541.303 133.691 550.053 Q133.691 558.78 130.613 563.386 Q127.557 567.97 121.747 567.97 Q115.937 567.97 112.858 563.386 Q109.803 558.78 109.803 550.053 Q109.803 541.303 112.858 536.72 Q115.937 532.113 121.747 532.113 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip140)" d="M143.396 514.31 Q140.462 514.31 138.976 517.206 Q137.509 520.084 137.509 525.876 Q137.509 531.65 138.976 534.547 Q140.462 537.424 143.396 537.424 Q146.349 537.424 147.816 534.547 Q149.302 531.65 149.302 525.876 Q149.302 520.084 147.816 517.206 Q146.349 514.31 143.396 514.31 M143.396 511.3 Q148.117 511.3 150.6 515.043 Q153.101 518.767 153.101 525.876 Q153.101 532.967 150.6 536.71 Q148.117 540.434 143.396 540.434 Q138.675 540.434 136.174 536.71 Q133.691 532.967 133.691 525.876 Q133.691 518.767 136.174 515.043 Q138.675 511.3 143.396 511.3 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip140)" d="M159.778 535.111 L163.746 535.111 L163.746 539.888 L159.778 539.888 L159.778 535.111 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip140)" d="M183.532 524.748 Q186.259 525.331 187.782 527.174 Q189.325 529.017 189.325 531.726 Q189.325 535.882 186.466 538.158 Q183.607 540.434 178.341 540.434 Q176.573 540.434 174.692 540.076 Q172.83 539.738 170.837 539.042 L170.837 535.374 Q172.417 536.296 174.297 536.766 Q176.178 537.236 178.228 537.236 Q181.802 537.236 183.664 535.826 Q185.544 534.415 185.544 531.726 Q185.544 529.243 183.795 527.851 Q182.065 526.441 178.962 526.441 L175.689 526.441 L175.689 523.318 L179.112 523.318 Q181.914 523.318 183.4 522.209 Q184.886 521.08 184.886 518.974 Q184.886 516.811 183.344 515.664 Q181.82 514.498 178.962 514.498 Q177.401 514.498 175.614 514.836 Q173.827 515.175 171.683 515.889 L171.683 512.504 Q173.846 511.902 175.727 511.601 Q177.626 511.3 179.3 511.3 Q183.626 511.3 186.146 513.275 Q188.666 515.231 188.666 518.579 Q188.666 520.911 187.331 522.529 Q185.996 524.127 183.532 524.748 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip140)" d="M81.737 264.71 L89.3759 264.71 L89.3759 238.344 L81.0657 240.011 L81.0657 235.752 L89.3296 234.085 L94.0055 234.085 L94.0055 264.71 L101.644 264.71 L101.644 268.645 L81.737 268.645 L81.737 264.71 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip140)" d="M121.089 237.164 Q117.478 237.164 115.649 240.728 Q113.843 244.27 113.843 251.4 Q113.843 258.506 115.649 262.071 Q117.478 265.613 121.089 265.613 Q124.723 265.613 126.528 262.071 Q128.357 258.506 128.357 251.4 Q128.357 244.27 126.528 240.728 Q124.723 237.164 121.089 237.164 M121.089 233.46 Q126.899 233.46 129.954 238.066 Q133.033 242.65 133.033 251.4 Q133.033 260.126 129.954 264.733 Q126.899 269.316 121.089 269.316 Q115.279 269.316 112.2 264.733 Q109.144 260.126 109.144 251.4 Q109.144 242.65 112.2 238.066 Q115.279 233.46 121.089 233.46 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip140)" d="M142.738 215.656 Q139.804 215.656 138.318 218.552 Q136.851 221.43 136.851 227.223 Q136.851 232.997 138.318 235.893 Q139.804 238.771 142.738 238.771 Q145.691 238.771 147.158 235.893 Q148.644 232.997 148.644 227.223 Q148.644 221.43 147.158 218.552 Q145.691 215.656 142.738 215.656 M142.738 212.647 Q147.459 212.647 149.941 216.389 Q152.443 220.113 152.443 227.223 Q152.443 234.313 149.941 238.056 Q147.459 241.78 142.738 241.78 Q138.017 241.78 135.516 238.056 Q133.033 234.313 133.033 227.223 Q133.033 220.113 135.516 216.389 Q138.017 212.647 142.738 212.647 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip140)" d="M159.119 236.457 L163.088 236.457 L163.088 241.234 L159.119 241.234 L159.119 236.457 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip140)" d="M179.958 225.68 Q177.401 225.68 175.896 227.43 Q174.41 229.179 174.41 232.226 Q174.41 235.254 175.896 237.022 Q177.401 238.771 179.958 238.771 Q182.516 238.771 184.002 237.022 Q185.507 235.254 185.507 232.226 Q185.507 229.179 184.002 227.43 Q182.516 225.68 179.958 225.68 M187.5 213.775 L187.5 217.236 Q186.071 216.559 184.604 216.201 Q183.156 215.844 181.726 215.844 Q177.965 215.844 175.971 218.383 Q173.996 220.922 173.714 226.057 Q174.824 224.42 176.498 223.555 Q178.172 222.671 180.184 222.671 Q184.416 222.671 186.861 225.248 Q189.325 227.806 189.325 232.226 Q189.325 236.551 186.767 239.166 Q184.209 241.78 179.958 241.78 Q175.087 241.78 172.511 238.056 Q169.934 234.313 169.934 227.223 Q169.934 220.565 173.094 216.615 Q176.253 212.647 181.576 212.647 Q183.005 212.647 184.454 212.929 Q185.921 213.211 187.5 213.775 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip142)" style="stroke:#009af9;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="285.535,86.1857 354.742,331.637 423.95,403.266 493.157,485.137 562.364,576.621 631.571,653.601 700.779,741.356 769.986,810.952 839.193,876.302 908.4,960.322 977.608,1004.44 1046.81,1058.21 1116.02,1119.13 1185.23,1179.94 1254.44,1223.36 1323.64,1221.09 1392.85,1263.69 1462.06,1282.74 1531.27,1307.59 1600.47,1310.86 1669.68,1326.65 1738.89,1335.41 1808.09,1380.02 1877.3,1359.88 1946.51,1355.01 2015.72,1364.32 2084.92,1368.98 2154.13,1364.87 2223.34,1384.24 2292.55,1360.71 "></polyline><polyline clip-path="url(#clip142)" style="stroke:#e26f46;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="285.535,153.858 354.742,186.565 423.95,188.498 493.157,198.512 562.364,188.833 631.571,176.141 700.779,168.542 769.986,155.522 839.193,145.832 908.4,175.977 977.608,181.667 1046.81,152.505 1116.02,173.341 1185.23,148.527 1254.44,157.472 1323.64,164.295 1392.85,168.128 1462.06,167.279 1531.27,151.854 1600.47,125.792 1669.68,163.465 1738.89,149.046 1808.09,139.762 1877.3,145.551 1946.51,141.113 2015.72,157.229 2084.92,139.011 2154.13,143.902 2223.34,122.847 2292.55,120.539 "></polyline><path clip-path="url(#clip140)" d="M296.239 1377.32 L731.018 1377.32 L731.018 1221.8 L296.239 1221.8  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path><polyline clip-path="url(#clip140)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="296.239,1377.32 731.018,1377.32 731.018,1221.8 296.239,1221.8 296.239,1377.32 "></polyline><polyline clip-path="url(#clip140)" style="stroke:#009af9;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="319.877,1273.64 461.706,1273.64 "></polyline><path clip-path="url(#clip140)" d="M492.751 1257.63 L492.751 1264.99 L501.525 1264.99 L501.525 1268.3 L492.751 1268.3 L492.751 1282.37 Q492.751 1285.54 493.608 1286.45 Q494.488 1287.35 497.15 1287.35 L501.525 1287.35 L501.525 1290.92 L497.15 1290.92 Q492.219 1290.92 490.344 1289.09 Q488.469 1287.23 488.469 1282.37 L488.469 1268.3 L485.344 1268.3 L485.344 1264.99 L488.469 1264.99 L488.469 1257.63 L492.751 1257.63 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip140)" d="M522.149 1268.97 Q521.432 1268.55 520.575 1268.37 Q519.742 1268.16 518.724 1268.16 Q515.112 1268.16 513.168 1270.52 Q511.247 1272.86 511.247 1277.26 L511.247 1290.92 L506.964 1290.92 L506.964 1264.99 L511.247 1264.99 L511.247 1269.02 Q512.589 1266.66 514.742 1265.52 Q516.895 1264.36 519.974 1264.36 Q520.413 1264.36 520.946 1264.43 Q521.478 1264.48 522.126 1264.6 L522.149 1268.97 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip140)" d="M538.399 1277.88 Q533.237 1277.88 531.247 1279.06 Q529.256 1280.24 529.256 1283.09 Q529.256 1285.36 530.737 1286.7 Q532.242 1288.02 534.811 1288.02 Q538.353 1288.02 540.483 1285.52 Q542.635 1283 542.635 1278.83 L542.635 1277.88 L538.399 1277.88 M546.895 1276.12 L546.895 1290.92 L542.635 1290.92 L542.635 1286.98 Q541.177 1289.34 539.001 1290.48 Q536.825 1291.59 533.677 1291.59 Q529.696 1291.59 527.335 1289.36 Q524.997 1287.12 524.997 1283.37 Q524.997 1278.99 527.913 1276.77 Q530.853 1274.55 536.663 1274.55 L542.635 1274.55 L542.635 1274.13 Q542.635 1271.19 540.691 1269.6 Q538.77 1267.98 535.274 1267.98 Q533.052 1267.98 530.946 1268.51 Q528.839 1269.04 526.895 1270.11 L526.895 1266.17 Q529.233 1265.27 531.432 1264.83 Q533.631 1264.36 535.714 1264.36 Q541.339 1264.36 544.117 1267.28 Q546.895 1270.2 546.895 1276.12 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip140)" d="M555.668 1264.99 L559.927 1264.99 L559.927 1290.92 L555.668 1290.92 L555.668 1264.99 M555.668 1254.9 L559.927 1254.9 L559.927 1260.29 L555.668 1260.29 L555.668 1254.9 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip140)" d="M590.39 1275.27 L590.39 1290.92 L586.131 1290.92 L586.131 1275.41 Q586.131 1271.73 584.695 1269.9 Q583.26 1268.07 580.39 1268.07 Q576.941 1268.07 574.95 1270.27 Q572.959 1272.47 572.959 1276.26 L572.959 1290.92 L568.677 1290.92 L568.677 1264.99 L572.959 1264.99 L572.959 1269.02 Q574.487 1266.68 576.547 1265.52 Q578.631 1264.36 581.339 1264.36 Q585.807 1264.36 588.098 1267.14 Q590.39 1269.9 590.39 1275.27 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip140)" d="M618.584 1298.79 L618.584 1302.1 L593.955 1302.1 L593.955 1298.79 L618.584 1298.79 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip140)" d="M622.589 1254.9 L626.848 1254.9 L626.848 1290.92 L622.589 1290.92 L622.589 1254.9 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip140)" d="M645.806 1267.98 Q642.38 1267.98 640.39 1270.66 Q638.399 1273.32 638.399 1277.98 Q638.399 1282.63 640.366 1285.31 Q642.357 1287.98 645.806 1287.98 Q649.209 1287.98 651.2 1285.29 Q653.19 1282.61 653.19 1277.98 Q653.19 1273.37 651.2 1270.68 Q649.209 1267.98 645.806 1267.98 M645.806 1264.36 Q651.362 1264.36 654.533 1267.98 Q657.704 1271.59 657.704 1277.98 Q657.704 1284.34 654.533 1287.98 Q651.362 1291.59 645.806 1291.59 Q640.228 1291.59 637.056 1287.98 Q633.908 1284.34 633.908 1277.98 Q633.908 1271.59 637.056 1267.98 Q640.228 1264.36 645.806 1264.36 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip140)" d="M681.292 1265.75 L681.292 1269.78 Q679.487 1268.86 677.542 1268.39 Q675.598 1267.93 673.514 1267.93 Q670.343 1267.93 668.746 1268.9 Q667.172 1269.87 667.172 1271.82 Q667.172 1273.3 668.306 1274.16 Q669.44 1274.99 672.866 1275.75 L674.325 1276.08 Q678.862 1277.05 680.76 1278.83 Q682.681 1280.59 682.681 1283.76 Q682.681 1287.37 679.811 1289.48 Q676.963 1291.59 671.963 1291.59 Q669.88 1291.59 667.612 1291.17 Q665.366 1290.78 662.866 1289.97 L662.866 1285.57 Q665.227 1286.79 667.519 1287.42 Q669.811 1288.02 672.056 1288.02 Q675.065 1288.02 676.686 1287 Q678.306 1285.96 678.306 1284.09 Q678.306 1282.35 677.125 1281.42 Q675.968 1280.5 672.01 1279.64 L670.528 1279.3 Q666.57 1278.46 664.811 1276.75 Q663.051 1275.01 663.051 1272 Q663.051 1268.35 665.644 1266.36 Q668.237 1264.36 673.005 1264.36 Q675.366 1264.36 677.45 1264.71 Q679.533 1265.06 681.292 1265.75 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip140)" d="M705.991 1265.75 L705.991 1269.78 Q704.186 1268.86 702.241 1268.39 Q700.297 1267.93 698.213 1267.93 Q695.042 1267.93 693.445 1268.9 Q691.871 1269.87 691.871 1271.82 Q691.871 1273.3 693.005 1274.16 Q694.139 1274.99 697.565 1275.75 L699.023 1276.08 Q703.561 1277.05 705.459 1278.83 Q707.38 1280.59 707.38 1283.76 Q707.38 1287.37 704.51 1289.48 Q701.662 1291.59 696.662 1291.59 Q694.579 1291.59 692.311 1291.17 Q690.065 1290.78 687.565 1289.97 L687.565 1285.57 Q689.926 1286.79 692.218 1287.42 Q694.51 1288.02 696.755 1288.02 Q699.764 1288.02 701.385 1287 Q703.005 1285.96 703.005 1284.09 Q703.005 1282.35 701.824 1281.42 Q700.667 1280.5 696.709 1279.64 L695.227 1279.3 Q691.269 1278.46 689.51 1276.75 Q687.75 1275.01 687.75 1272 Q687.75 1268.35 690.343 1266.36 Q692.936 1264.36 697.704 1264.36 Q700.065 1264.36 702.148 1264.71 Q704.232 1265.06 705.991 1265.75 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip140)" style="stroke:#e26f46;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="319.877,1325.48 461.706,1325.48 "></polyline><path clip-path="url(#clip140)" d="M485.344 1316.83 L489.858 1316.83 L497.96 1338.59 L506.062 1316.83 L510.575 1316.83 L500.853 1342.76 L495.066 1342.76 L485.344 1316.83 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip140)" d="M528.237 1329.72 Q523.075 1329.72 521.085 1330.9 Q519.094 1332.08 519.094 1334.93 Q519.094 1337.2 520.575 1338.54 Q522.08 1339.86 524.649 1339.86 Q528.191 1339.86 530.321 1337.36 Q532.473 1334.84 532.473 1330.67 L532.473 1329.72 L528.237 1329.72 M536.733 1327.96 L536.733 1342.76 L532.473 1342.76 L532.473 1338.82 Q531.015 1341.18 528.839 1342.32 Q526.663 1343.43 523.515 1343.43 Q519.534 1343.43 517.173 1341.2 Q514.835 1338.96 514.835 1335.21 Q514.835 1330.83 517.751 1328.61 Q520.691 1326.39 526.501 1326.39 L532.473 1326.39 L532.473 1325.97 Q532.473 1323.03 530.529 1321.44 Q528.608 1319.82 525.112 1319.82 Q522.89 1319.82 520.784 1320.35 Q518.677 1320.88 516.733 1321.95 L516.733 1318.01 Q519.071 1317.11 521.27 1316.67 Q523.469 1316.2 525.552 1316.2 Q531.177 1316.2 533.955 1319.12 Q536.733 1322.04 536.733 1327.96 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip140)" d="M545.506 1306.74 L549.765 1306.74 L549.765 1342.76 L545.506 1342.76 L545.506 1306.74 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip140)" d="M578.376 1350.63 L578.376 1353.94 L553.746 1353.94 L553.746 1350.63 L578.376 1350.63 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip140)" d="M582.381 1306.74 L586.64 1306.74 L586.64 1342.76 L582.381 1342.76 L582.381 1306.74 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip140)" d="M605.598 1319.82 Q602.172 1319.82 600.181 1322.5 Q598.191 1325.16 598.191 1329.82 Q598.191 1334.47 600.158 1337.15 Q602.149 1339.82 605.598 1339.82 Q609.001 1339.82 610.992 1337.13 Q612.982 1334.45 612.982 1329.82 Q612.982 1325.21 610.992 1322.52 Q609.001 1319.82 605.598 1319.82 M605.598 1316.2 Q611.154 1316.2 614.325 1319.82 Q617.496 1323.43 617.496 1329.82 Q617.496 1336.18 614.325 1339.82 Q611.154 1343.43 605.598 1343.43 Q600.019 1343.43 596.848 1339.82 Q593.7 1336.18 593.7 1329.82 Q593.7 1323.43 596.848 1319.82 Q600.019 1316.2 605.598 1316.2 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip140)" d="M641.084 1317.59 L641.084 1321.62 Q639.278 1320.7 637.334 1320.23 Q635.39 1319.77 633.306 1319.77 Q630.135 1319.77 628.538 1320.74 Q626.964 1321.71 626.964 1323.66 Q626.964 1325.14 628.098 1326 Q629.232 1326.83 632.658 1327.59 L634.116 1327.92 Q638.653 1328.89 640.552 1330.67 Q642.473 1332.43 642.473 1335.6 Q642.473 1339.21 639.603 1341.32 Q636.755 1343.43 631.755 1343.43 Q629.672 1343.43 627.404 1343.01 Q625.158 1342.62 622.658 1341.81 L622.658 1337.41 Q625.019 1338.63 627.311 1339.26 Q629.603 1339.86 631.848 1339.86 Q634.857 1339.86 636.478 1338.84 Q638.098 1337.8 638.098 1335.93 Q638.098 1334.19 636.917 1333.26 Q635.76 1332.34 631.802 1331.48 L630.32 1331.14 Q626.362 1330.3 624.603 1328.59 Q622.843 1326.85 622.843 1323.84 Q622.843 1320.19 625.436 1318.2 Q628.029 1316.2 632.797 1316.2 Q635.158 1316.2 637.241 1316.55 Q639.325 1316.9 641.084 1317.59 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip140)" d="M665.783 1317.59 L665.783 1321.62 Q663.977 1320.7 662.033 1320.23 Q660.089 1319.77 658.005 1319.77 Q654.834 1319.77 653.237 1320.74 Q651.663 1321.71 651.663 1323.66 Q651.663 1325.14 652.797 1326 Q653.931 1326.83 657.357 1327.59 L658.815 1327.92 Q663.352 1328.89 665.251 1330.67 Q667.172 1332.43 667.172 1335.6 Q667.172 1339.21 664.301 1341.32 Q661.454 1343.43 656.454 1343.43 Q654.371 1343.43 652.102 1343.01 Q649.857 1342.62 647.357 1341.81 L647.357 1337.41 Q649.718 1338.63 652.01 1339.26 Q654.302 1339.86 656.547 1339.86 Q659.556 1339.86 661.176 1338.84 Q662.797 1337.8 662.797 1335.93 Q662.797 1334.19 661.616 1333.26 Q660.459 1332.34 656.501 1331.48 L655.019 1331.14 Q651.061 1330.3 649.302 1328.59 Q647.542 1326.85 647.542 1323.84 Q647.542 1320.19 650.135 1318.2 Q652.727 1316.2 657.496 1316.2 Q659.857 1316.2 661.94 1316.55 Q664.024 1316.9 665.783 1317.59 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path></svg><p>After the model is trained, we use it to translate a few English sentences into French and compute their BLEU scores.</p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">engs </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;go .&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;i lost .&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;he&#39;s calm .&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;i&#39;m home .&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">fras </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;va !&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;j&#39;ai perdu .&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;il est calme .&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;je suis chez moi .&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">batch </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d2lai</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(data, engs, fras)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">preds, _ </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d2lai</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">predict_step</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(m, batch, cpu, data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">args</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">num_steps; save_attention_wts </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (en, fr, p) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> zip</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(engs, fras, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">eachcol</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(preds))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    translation </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> []</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> token </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d2lai</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">to_tokens</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">tgt_vocab, p)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> token </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;&lt;eos&gt;&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            break</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        end</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        push!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(translation, token)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    end</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    bleu_score </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d2lai</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">bleu</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">join</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(translation, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot; &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), fr, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">$en</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =&gt; </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">$translation</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;bleu: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">$bleu_score</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">end</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>go . =&gt; Any[&quot;va&quot;, &quot;!&quot;]bleu: 1.0</span></span>
<span class="line"><span>i lost . =&gt; Any[&quot;j&#39;ai&quot;, &quot;perdu&quot;, &quot;.&quot;]bleu: 1.0</span></span>
<span class="line"><span>he&#39;s calm . =&gt; Any[&quot;il&quot;, &quot;est&quot;, &quot;rouge&quot;, &quot;.&quot;]bleu: 0.6580370064762462</span></span>
<span class="line"><span>i&#39;m home . =&gt; Any[&quot;je&quot;, &quot;suis&quot;, &quot;chez&quot;, &quot;moi&quot;, &quot;.&quot;]bleu: 1.0</span></span></code></pre></div><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">btch </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d2lai</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(data, [engs[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">end</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]], [fras[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">end</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]])</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">_, dec_attention_weights </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d2lai</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">predict_step</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(m, btch, cpu, data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">args</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">num_steps; save_attention_wts </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>([8992; 17195; … ; 147; 33;;], Any[[[0.0036159370854119866; 0.7363849426439718; … ; 0.0; 0.0;;;]], [[0.0008942547430702864; 0.7476627557204462; … ; 0.0; 0.0;;;]], [[0.01639370280956843; 0.7377580120962014; … ; 0.0; 0.0;;;]], [[0.01444825486157988; 0.7661613230564178; … ; 0.0; 0.0;;;]], [[0.005963594327483387; 0.7960444846780865; … ; 0.0; 0.0;;;]], [[0.0032423717549742775; 0.7807559478159698; … ; 0.0; 0.0;;;]], [[0.0023065271552696887; 0.7580802172896017; … ; 0.0; 0.0;;;]], [[0.0012377716877186166; 0.7457765382198726; … ; 0.0; 0.0;;;]], [[0.003037206982038262; 0.7127447870479188; … ; 0.0; 0.0;;;]]])</span></span></code></pre></div><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">attention_weights </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> cat</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([step[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> step </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dec_attention_weights]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, dims </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">attention_weights </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> reshape</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(attention_weights, :, data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">args</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">num_steps, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>9×9×1×1 Array{Float64, 4}:</span></span>
<span class="line"><span>[:, :, 1, 1] =</span></span>
<span class="line"><span> 0.00361594  0.000894255  0.0163937  …  0.00230653  0.00123777  0.00303721</span></span>
<span class="line"><span> 0.736385    0.747663     0.737758      0.75808     0.745777    0.712745</span></span>
<span class="line"><span> 0.161395    0.14444      0.15841       0.156805    0.16003     0.183647</span></span>
<span class="line"><span> 0.0986039   0.107003     0.0874382     0.0828081   0.0929559   0.100571</span></span>
<span class="line"><span> 0.0         0.0          0.0           0.0         0.0         0.0</span></span>
<span class="line"><span> 0.0         0.0          0.0        …  0.0         0.0         0.0</span></span>
<span class="line"><span> 0.0         0.0          0.0           0.0         0.0         0.0</span></span>
<span class="line"><span> 0.0         0.0          0.0           0.0         0.0         0.0</span></span>
<span class="line"><span> 0.0         0.0          0.0           0.0         0.0         0.0</span></span></code></pre></div><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">d2lai</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">show_heatmaps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(attention_weights[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">length</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">split</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(engs[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">end</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])), :, :, :], </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Queries&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Keys&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="600" height="400" viewBox="0 0 2400 1600"><defs><clipPath id="clip230"><rect x="0" y="0" width="2400" height="1600"></rect></clipPath></defs><path clip-path="url(#clip230)" d="M0 1600 L2400 1600 L2400 0 L0 0  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path><defs><clipPath id="clip231"><rect x="480" y="0" width="1681" height="1600"></rect></clipPath></defs><path clip-path="url(#clip230)" d="M219.033 1423.18 L2112.76 1423.18 L2112.76 47.2441 L219.033 47.2441  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path><defs><clipPath id="clip232"><rect x="219" y="47" width="1895" height="1377"></rect></clipPath></defs><polyline clip-path="url(#clip232)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:2;stroke-opacity:0.1;fill:none;" points="534.653,1423.18 534.653,47.2441 "></polyline><polyline clip-path="url(#clip232)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:2;stroke-opacity:0.1;fill:none;" points="955.481,1423.18 955.481,47.2441 "></polyline><polyline clip-path="url(#clip232)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:2;stroke-opacity:0.1;fill:none;" points="1376.31,1423.18 1376.31,47.2441 "></polyline><polyline clip-path="url(#clip232)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:2;stroke-opacity:0.1;fill:none;" points="1797.14,1423.18 1797.14,47.2441 "></polyline><polyline clip-path="url(#clip232)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:2;stroke-opacity:0.1;fill:none;" points="219.033,1423.18 2112.76,1423.18 "></polyline><polyline clip-path="url(#clip232)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:2;stroke-opacity:0.1;fill:none;" points="219.033,1193.86 2112.76,1193.86 "></polyline><polyline clip-path="url(#clip232)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:2;stroke-opacity:0.1;fill:none;" points="219.033,964.535 2112.76,964.535 "></polyline><polyline clip-path="url(#clip232)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:2;stroke-opacity:0.1;fill:none;" points="219.033,735.212 2112.76,735.212 "></polyline><polyline clip-path="url(#clip232)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:2;stroke-opacity:0.1;fill:none;" points="219.033,505.889 2112.76,505.889 "></polyline><polyline clip-path="url(#clip232)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:2;stroke-opacity:0.1;fill:none;" points="219.033,276.567 2112.76,276.567 "></polyline><polyline clip-path="url(#clip232)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:2;stroke-opacity:0.1;fill:none;" points="219.033,47.2441 2112.76,47.2441 "></polyline><polyline clip-path="url(#clip230)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="219.033,1423.18 2112.76,1423.18 "></polyline><polyline clip-path="url(#clip230)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="534.653,1423.18 534.653,1404.28 "></polyline><polyline clip-path="url(#clip230)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="955.481,1423.18 955.481,1404.28 "></polyline><polyline clip-path="url(#clip230)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="1376.31,1423.18 1376.31,1404.28 "></polyline><polyline clip-path="url(#clip230)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="1797.14,1423.18 1797.14,1404.28 "></polyline><path clip-path="url(#clip230)" d="M529.306 1481.64 L545.626 1481.64 L545.626 1485.58 L523.681 1485.58 L523.681 1481.64 Q526.343 1478.89 530.927 1474.26 Q535.533 1469.61 536.714 1468.27 Q538.959 1465.74 539.839 1464.01 Q540.741 1462.25 540.741 1460.56 Q540.741 1457.8 538.797 1456.07 Q536.876 1454.33 533.774 1454.33 Q531.575 1454.33 529.121 1455.09 Q526.691 1455.86 523.913 1457.41 L523.913 1452.69 Q526.737 1451.55 529.19 1450.97 Q531.644 1450.39 533.681 1450.39 Q539.052 1450.39 542.246 1453.08 Q545.44 1455.77 545.44 1460.26 Q545.44 1462.39 544.63 1464.31 Q543.843 1466.2 541.737 1468.8 Q541.158 1469.47 538.056 1472.69 Q534.954 1475.88 529.306 1481.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip230)" d="M958.49 1455.09 L946.685 1473.54 L958.49 1473.54 L958.49 1455.09 M957.263 1451.02 L963.143 1451.02 L963.143 1473.54 L968.073 1473.54 L968.073 1477.43 L963.143 1477.43 L963.143 1485.58 L958.49 1485.58 L958.49 1477.43 L942.888 1477.43 L942.888 1472.92 L957.263 1451.02 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip230)" d="M1376.71 1466.44 Q1373.57 1466.44 1371.71 1468.59 Q1369.88 1470.74 1369.88 1474.49 Q1369.88 1478.22 1371.71 1480.39 Q1373.57 1482.55 1376.71 1482.55 Q1379.86 1482.55 1381.69 1480.39 Q1383.54 1478.22 1383.54 1474.49 Q1383.54 1470.74 1381.69 1468.59 Q1379.86 1466.44 1376.71 1466.44 M1386 1451.78 L1386 1456.04 Q1384.24 1455.21 1382.43 1454.77 Q1380.65 1454.33 1378.89 1454.33 Q1374.26 1454.33 1371.81 1457.45 Q1369.38 1460.58 1369.03 1466.9 Q1370.39 1464.89 1372.45 1463.82 Q1374.51 1462.73 1376.99 1462.73 Q1382.2 1462.73 1385.21 1465.9 Q1388.24 1469.05 1388.24 1474.49 Q1388.24 1479.82 1385.09 1483.03 Q1381.94 1486.25 1376.71 1486.25 Q1370.72 1486.25 1367.55 1481.67 Q1364.38 1477.06 1364.38 1468.33 Q1364.38 1460.14 1368.26 1455.28 Q1372.15 1450.39 1378.7 1450.39 Q1380.46 1450.39 1382.25 1450.74 Q1384.05 1451.09 1386 1451.78 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip230)" d="M1797.14 1469.17 Q1793.8 1469.17 1791.88 1470.95 Q1789.98 1472.73 1789.98 1475.86 Q1789.98 1478.98 1791.88 1480.77 Q1793.8 1482.55 1797.14 1482.55 Q1800.47 1482.55 1802.39 1480.77 Q1804.31 1478.96 1804.31 1475.86 Q1804.31 1472.73 1802.39 1470.95 Q1800.49 1469.17 1797.14 1469.17 M1792.46 1467.18 Q1789.45 1466.44 1787.76 1464.38 Q1786.09 1462.32 1786.09 1459.35 Q1786.09 1455.21 1789.03 1452.8 Q1792 1450.39 1797.14 1450.39 Q1802.3 1450.39 1805.24 1452.8 Q1808.18 1455.21 1808.18 1459.35 Q1808.18 1462.32 1806.49 1464.38 Q1804.82 1466.44 1801.83 1467.18 Q1805.21 1467.96 1807.09 1470.26 Q1808.99 1472.55 1808.99 1475.86 Q1808.99 1480.88 1805.91 1483.57 Q1802.85 1486.25 1797.14 1486.25 Q1791.42 1486.25 1788.34 1483.57 Q1785.28 1480.88 1785.28 1475.86 Q1785.28 1472.55 1787.18 1470.26 Q1789.08 1467.96 1792.46 1467.18 M1790.75 1459.79 Q1790.75 1462.48 1792.41 1463.98 Q1794.1 1465.49 1797.14 1465.49 Q1800.14 1465.49 1801.83 1463.98 Q1803.55 1462.48 1803.55 1459.79 Q1803.55 1457.11 1801.83 1455.6 Q1800.14 1454.1 1797.14 1454.1 Q1794.1 1454.1 1792.41 1455.6 Q1790.75 1457.11 1790.75 1459.79 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip230)" d="M1065.49 1524.88 Q1058.49 1524.88 1054.35 1530.1 Q1050.25 1535.32 1050.25 1544.33 Q1050.25 1553.31 1054.35 1558.53 Q1058.49 1563.75 1065.49 1563.75 Q1072.49 1563.75 1076.57 1558.53 Q1080.67 1553.31 1080.67 1544.33 Q1080.67 1535.32 1076.57 1530.1 Q1072.49 1524.88 1065.49 1524.88 M1074.5 1567.18 L1082.97 1576.45 L1075.2 1576.45 L1068.16 1568.84 Q1067.11 1568.9 1066.54 1568.94 Q1066 1568.97 1065.49 1568.97 Q1055.47 1568.97 1049.45 1562.28 Q1043.47 1555.57 1043.47 1544.33 Q1043.47 1533.06 1049.45 1526.38 Q1055.47 1519.66 1065.49 1519.66 Q1075.49 1519.66 1081.47 1526.38 Q1087.45 1533.06 1087.45 1544.33 Q1087.45 1552.61 1084.11 1558.5 Q1080.8 1564.38 1074.5 1567.18 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip230)" d="M1096.65 1553.98 L1096.65 1532.4 L1102.51 1532.4 L1102.51 1553.75 Q1102.51 1558.81 1104.48 1561.36 Q1106.45 1563.87 1110.4 1563.87 Q1115.14 1563.87 1117.88 1560.85 Q1120.65 1557.83 1120.65 1552.61 L1120.65 1532.4 L1126.51 1532.4 L1126.51 1568.04 L1120.65 1568.04 L1120.65 1562.57 Q1118.52 1565.82 1115.68 1567.41 Q1112.88 1568.97 1109.16 1568.97 Q1103.02 1568.97 1099.83 1565.15 Q1096.65 1561.33 1096.65 1553.98 M1111.39 1531.54 L1111.39 1531.54 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip230)" d="M1169.06 1548.76 L1169.06 1551.62 L1142.13 1551.62 Q1142.52 1557.67 1145.76 1560.85 Q1149.04 1564 1154.87 1564 Q1158.24 1564 1161.39 1563.17 Q1164.57 1562.35 1167.69 1560.69 L1167.69 1566.23 Q1164.54 1567.57 1161.23 1568.27 Q1157.92 1568.97 1154.52 1568.97 Q1145.99 1568.97 1140.99 1564 Q1136.02 1559.04 1136.02 1550.57 Q1136.02 1541.82 1140.73 1536.69 Q1145.48 1531.54 1153.5 1531.54 Q1160.69 1531.54 1164.86 1536.18 Q1169.06 1540.8 1169.06 1548.76 M1163.2 1547.04 Q1163.14 1542.23 1160.5 1539.37 Q1157.89 1536.5 1153.56 1536.5 Q1148.66 1536.5 1145.7 1539.27 Q1142.77 1542.04 1142.33 1547.07 L1163.2 1547.04 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip230)" d="M1199.33 1537.87 Q1198.34 1537.3 1197.17 1537.04 Q1196.02 1536.76 1194.62 1536.76 Q1189.65 1536.76 1186.98 1540 Q1184.34 1543.22 1184.34 1549.27 L1184.34 1568.04 L1178.45 1568.04 L1178.45 1532.4 L1184.34 1532.4 L1184.34 1537.93 Q1186.19 1534.69 1189.15 1533.13 Q1192.11 1531.54 1196.34 1531.54 Q1196.94 1531.54 1197.68 1531.63 Q1198.41 1531.7 1199.3 1531.85 L1199.33 1537.87 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip230)" d="M1205.47 1532.4 L1211.33 1532.4 L1211.33 1568.04 L1205.47 1568.04 L1205.47 1532.4 M1205.47 1518.52 L1211.33 1518.52 L1211.33 1525.93 L1205.47 1525.93 L1205.47 1518.52 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip230)" d="M1254.08 1548.76 L1254.08 1551.62 L1227.15 1551.62 Q1227.53 1557.67 1230.78 1560.85 Q1234.06 1564 1239.88 1564 Q1243.25 1564 1246.4 1563.17 Q1249.59 1562.35 1252.71 1560.69 L1252.71 1566.23 Q1249.56 1567.57 1246.25 1568.27 Q1242.94 1568.97 1239.53 1568.97 Q1231 1568.97 1226 1564 Q1221.04 1559.04 1221.04 1550.57 Q1221.04 1541.82 1225.75 1536.69 Q1230.49 1531.54 1238.51 1531.54 Q1245.7 1531.54 1249.87 1536.18 Q1254.08 1540.8 1254.08 1548.76 M1248.22 1547.04 Q1248.16 1542.23 1245.51 1539.37 Q1242.9 1536.5 1238.57 1536.5 Q1233.67 1536.5 1230.71 1539.27 Q1227.79 1542.04 1227.34 1547.07 L1248.22 1547.04 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip230)" d="M1286.41 1533.45 L1286.41 1538.98 Q1283.93 1537.71 1281.26 1537.07 Q1278.58 1536.44 1275.72 1536.44 Q1271.36 1536.44 1269.16 1537.77 Q1267 1539.11 1267 1541.79 Q1267 1543.82 1268.56 1545 Q1270.12 1546.15 1274.83 1547.2 L1276.83 1547.64 Q1283.07 1548.98 1285.68 1551.43 Q1288.32 1553.85 1288.32 1558.21 Q1288.32 1563.17 1284.38 1566.07 Q1280.46 1568.97 1273.59 1568.97 Q1270.72 1568.97 1267.6 1568.39 Q1264.52 1567.85 1261.08 1566.74 L1261.08 1560.69 Q1264.32 1562.38 1267.48 1563.24 Q1270.63 1564.07 1273.71 1564.07 Q1277.85 1564.07 1280.08 1562.66 Q1282.31 1561.23 1282.31 1558.65 Q1282.31 1556.27 1280.68 1554.99 Q1279.09 1553.72 1273.65 1552.54 L1271.61 1552.07 Q1266.17 1550.92 1263.75 1548.56 Q1261.33 1546.18 1261.33 1542.04 Q1261.33 1537.01 1264.9 1534.27 Q1268.46 1531.54 1275.02 1531.54 Q1278.27 1531.54 1281.13 1532.01 Q1283.99 1532.49 1286.41 1533.45 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip230)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="219.033,1423.18 219.033,47.2441 "></polyline><polyline clip-path="url(#clip230)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="219.033,1423.18 235.805,1423.18 "></polyline><polyline clip-path="url(#clip230)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="219.033,1193.86 235.805,1193.86 "></polyline><polyline clip-path="url(#clip230)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="219.033,964.535 235.805,964.535 "></polyline><polyline clip-path="url(#clip230)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="219.033,735.212 235.805,735.212 "></polyline><polyline clip-path="url(#clip230)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="219.033,505.889 235.805,505.889 "></polyline><polyline clip-path="url(#clip230)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="219.033,276.567 235.805,276.567 "></polyline><polyline clip-path="url(#clip230)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="219.033,47.2441 235.805,47.2441 "></polyline><path clip-path="url(#clip230)" d="M126.853 1408.98 Q123.242 1408.98 121.413 1412.54 Q119.607 1416.08 119.607 1423.21 Q119.607 1430.32 121.413 1433.89 Q123.242 1437.43 126.853 1437.43 Q130.487 1437.43 132.292 1433.89 Q134.121 1430.32 134.121 1423.21 Q134.121 1416.08 132.292 1412.54 Q130.487 1408.98 126.853 1408.98 M126.853 1405.27 Q132.663 1405.27 135.718 1409.88 Q138.797 1414.46 138.797 1423.21 Q138.797 1431.94 135.718 1436.55 Q132.663 1441.13 126.853 1441.13 Q121.043 1441.13 117.964 1436.55 Q114.908 1431.94 114.908 1423.21 Q114.908 1414.46 117.964 1409.88 Q121.043 1405.27 126.853 1405.27 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip230)" d="M147.015 1434.58 L151.899 1434.58 L151.899 1440.46 L147.015 1440.46 L147.015 1434.58 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip230)" d="M162.13 1405.9 L180.487 1405.9 L180.487 1409.84 L166.413 1409.84 L166.413 1418.31 Q167.431 1417.96 168.45 1417.8 Q169.468 1417.61 170.487 1417.61 Q176.274 1417.61 179.653 1420.78 Q183.033 1423.96 183.033 1429.37 Q183.033 1434.95 179.561 1438.05 Q176.089 1441.13 169.769 1441.13 Q167.593 1441.13 165.325 1440.76 Q163.079 1440.39 160.672 1439.65 L160.672 1434.95 Q162.755 1436.08 164.977 1436.64 Q167.2 1437.2 169.677 1437.2 Q173.681 1437.2 176.019 1435.09 Q178.357 1432.98 178.357 1429.37 Q178.357 1425.76 176.019 1423.65 Q173.681 1421.55 169.677 1421.55 Q167.802 1421.55 165.927 1421.96 Q164.075 1422.38 162.13 1423.26 L162.13 1405.9 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip230)" d="M116.668 1207.2 L124.306 1207.2 L124.306 1180.84 L115.996 1182.5 L115.996 1178.24 L124.26 1176.58 L128.936 1176.58 L128.936 1207.2 L136.575 1207.2 L136.575 1211.14 L116.668 1211.14 L116.668 1207.2 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip230)" d="M146.019 1205.26 L150.903 1205.26 L150.903 1211.14 L146.019 1211.14 L146.019 1205.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip230)" d="M171.089 1179.66 Q167.477 1179.66 165.649 1183.22 Q163.843 1186.76 163.843 1193.89 Q163.843 1201 165.649 1204.56 Q167.477 1208.1 171.089 1208.1 Q174.723 1208.1 176.528 1204.56 Q178.357 1201 178.357 1193.89 Q178.357 1186.76 176.528 1183.22 Q174.723 1179.66 171.089 1179.66 M171.089 1175.95 Q176.899 1175.95 179.954 1180.56 Q183.033 1185.14 183.033 1193.89 Q183.033 1202.62 179.954 1207.23 Q176.899 1211.81 171.089 1211.81 Q165.278 1211.81 162.2 1207.23 Q159.144 1202.62 159.144 1193.89 Q159.144 1185.14 162.2 1180.56 Q165.278 1175.95 171.089 1175.95 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip230)" d="M117.663 977.879 L125.302 977.879 L125.302 951.514 L116.992 953.18 L116.992 948.921 L125.255 947.255 L129.931 947.255 L129.931 977.879 L137.57 977.879 L137.57 981.815 L117.663 981.815 L117.663 977.879 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip230)" d="M147.015 975.935 L151.899 975.935 L151.899 981.815 L147.015 981.815 L147.015 975.935 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip230)" d="M162.13 947.255 L180.487 947.255 L180.487 951.19 L166.413 951.19 L166.413 959.662 Q167.431 959.315 168.45 959.153 Q169.468 958.967 170.487 958.967 Q176.274 958.967 179.653 962.139 Q183.033 965.31 183.033 970.727 Q183.033 976.305 179.561 979.407 Q176.089 982.486 169.769 982.486 Q167.593 982.486 165.325 982.116 Q163.079 981.745 160.672 981.004 L160.672 976.305 Q162.755 977.44 164.977 977.995 Q167.2 978.551 169.677 978.551 Q173.681 978.551 176.019 976.444 Q178.357 974.338 178.357 970.727 Q178.357 967.116 176.019 965.009 Q173.681 962.903 169.677 962.903 Q167.802 962.903 165.927 963.319 Q164.075 963.736 162.13 964.616 L162.13 947.255 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip230)" d="M119.885 748.557 L136.204 748.557 L136.204 752.492 L114.26 752.492 L114.26 748.557 Q116.922 745.802 121.505 741.173 Q126.112 736.52 127.292 735.177 Q129.538 732.654 130.417 730.918 Q131.32 729.159 131.32 727.469 Q131.32 724.714 129.376 722.978 Q127.455 721.242 124.353 721.242 Q122.154 721.242 119.7 722.006 Q117.269 722.77 114.492 724.321 L114.492 719.599 Q117.316 718.464 119.769 717.886 Q122.223 717.307 124.26 717.307 Q129.63 717.307 132.825 719.992 Q136.019 722.677 136.019 727.168 Q136.019 729.298 135.209 731.219 Q134.422 733.117 132.316 735.71 Q131.737 736.381 128.635 739.599 Q125.533 742.793 119.885 748.557 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip230)" d="M146.019 746.612 L150.903 746.612 L150.903 752.492 L146.019 752.492 L146.019 746.612 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip230)" d="M171.089 721.011 Q167.477 721.011 165.649 724.575 Q163.843 728.117 163.843 735.247 Q163.843 742.353 165.649 745.918 Q167.477 749.46 171.089 749.46 Q174.723 749.46 176.528 745.918 Q178.357 742.353 178.357 735.247 Q178.357 728.117 176.528 724.575 Q174.723 721.011 171.089 721.011 M171.089 717.307 Q176.899 717.307 179.954 721.913 Q183.033 726.497 183.033 735.247 Q183.033 743.973 179.954 748.58 Q176.899 753.163 171.089 753.163 Q165.278 753.163 162.2 748.58 Q159.144 743.973 159.144 735.247 Q159.144 726.497 162.2 721.913 Q165.278 717.307 171.089 717.307 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip230)" d="M120.88 519.234 L137.2 519.234 L137.2 523.169 L115.256 523.169 L115.256 519.234 Q117.918 516.48 122.501 511.85 Q127.107 507.197 128.288 505.855 Q130.533 503.331 131.413 501.595 Q132.316 499.836 132.316 498.146 Q132.316 495.392 130.371 493.656 Q128.45 491.92 125.348 491.92 Q123.149 491.92 120.695 492.683 Q118.265 493.447 115.487 494.998 L115.487 490.276 Q118.311 489.142 120.765 488.563 Q123.218 487.984 125.255 487.984 Q130.626 487.984 133.82 490.67 Q137.015 493.355 137.015 497.845 Q137.015 499.975 136.204 501.896 Q135.417 503.794 133.311 506.387 Q132.732 507.058 129.63 510.276 Q126.529 513.47 120.88 519.234 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip230)" d="M147.015 517.29 L151.899 517.29 L151.899 523.169 L147.015 523.169 L147.015 517.29 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip230)" d="M162.13 488.609 L180.487 488.609 L180.487 492.545 L166.413 492.545 L166.413 501.017 Q167.431 500.669 168.45 500.507 Q169.468 500.322 170.487 500.322 Q176.274 500.322 179.653 503.494 Q183.033 506.665 183.033 512.081 Q183.033 517.66 179.561 520.762 Q176.089 523.841 169.769 523.841 Q167.593 523.841 165.325 523.47 Q163.079 523.1 160.672 522.359 L160.672 517.66 Q162.755 518.794 164.977 519.35 Q167.2 519.905 169.677 519.905 Q173.681 519.905 176.019 517.799 Q178.357 515.693 178.357 512.081 Q178.357 508.47 176.019 506.364 Q173.681 504.257 169.677 504.257 Q167.802 504.257 165.927 504.674 Q164.075 505.091 162.13 505.97 L162.13 488.609 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip230)" d="M130.024 275.213 Q133.38 275.93 135.255 278.199 Q137.154 280.467 137.154 283.8 Q137.154 288.916 133.635 291.717 Q130.117 294.518 123.635 294.518 Q121.459 294.518 119.144 294.078 Q116.853 293.662 114.399 292.805 L114.399 288.291 Q116.343 289.425 118.658 290.004 Q120.973 290.583 123.496 290.583 Q127.894 290.583 130.186 288.847 Q132.501 287.111 132.501 283.8 Q132.501 280.745 130.348 279.032 Q128.218 277.296 124.399 277.296 L120.371 277.296 L120.371 273.453 L124.584 273.453 Q128.033 273.453 129.862 272.088 Q131.691 270.699 131.691 268.106 Q131.691 265.444 129.792 264.032 Q127.917 262.597 124.399 262.597 Q122.478 262.597 120.279 263.014 Q118.08 263.43 115.441 264.31 L115.441 260.143 Q118.103 259.402 120.418 259.032 Q122.755 258.662 124.816 258.662 Q130.14 258.662 133.242 261.092 Q136.343 263.5 136.343 267.62 Q136.343 270.49 134.7 272.481 Q133.056 274.449 130.024 275.213 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip230)" d="M146.019 287.967 L150.903 287.967 L150.903 293.847 L146.019 293.847 L146.019 287.967 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip230)" d="M171.089 262.365 Q167.477 262.365 165.649 265.93 Q163.843 269.472 163.843 276.601 Q163.843 283.708 165.649 287.273 Q167.477 290.814 171.089 290.814 Q174.723 290.814 176.528 287.273 Q178.357 283.708 178.357 276.601 Q178.357 269.472 176.528 265.93 Q174.723 262.365 171.089 262.365 M171.089 258.662 Q176.899 258.662 179.954 263.268 Q183.033 267.851 183.033 276.601 Q183.033 285.328 179.954 289.935 Q176.899 294.518 171.089 294.518 Q165.278 294.518 162.2 289.935 Q159.144 285.328 159.144 276.601 Q159.144 267.851 162.2 263.268 Q165.278 258.662 171.089 258.662 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip230)" d="M131.019 45.8899 Q134.376 46.6075 136.251 48.876 Q138.149 51.1445 138.149 54.4779 Q138.149 59.5936 134.63 62.3945 Q131.112 65.1954 124.63 65.1954 Q122.455 65.1954 120.14 64.7556 Q117.848 64.3389 115.394 63.4824 L115.394 58.9686 Q117.339 60.1028 119.654 60.6815 Q121.968 61.2602 124.492 61.2602 Q128.89 61.2602 131.181 59.5241 Q133.496 57.788 133.496 54.4779 Q133.496 51.4223 131.343 49.7094 Q129.214 47.9733 125.394 47.9733 L121.367 47.9733 L121.367 44.1307 L125.58 44.1307 Q129.029 44.1307 130.857 42.765 Q132.686 41.3761 132.686 38.7835 Q132.686 36.1215 130.788 34.7094 Q128.913 33.2743 125.394 33.2743 Q123.473 33.2743 121.274 33.6909 Q119.075 34.1076 116.436 34.9872 L116.436 30.8206 Q119.098 30.0798 121.413 29.7095 Q123.751 29.3391 125.811 29.3391 Q131.135 29.3391 134.237 31.7696 Q137.339 34.177 137.339 38.2974 Q137.339 41.1677 135.695 43.1585 Q134.052 45.1261 131.019 45.8899 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip230)" d="M147.015 58.6445 L151.899 58.6445 L151.899 64.5241 L147.015 64.5241 L147.015 58.6445 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip230)" d="M162.13 29.9641 L180.487 29.9641 L180.487 33.8993 L166.413 33.8993 L166.413 42.3714 Q167.431 42.0242 168.45 41.8622 Q169.468 41.677 170.487 41.677 Q176.274 41.677 179.653 44.8483 Q183.033 48.0196 183.033 53.4362 Q183.033 59.0149 179.561 62.1167 Q176.089 65.1954 169.769 65.1954 Q167.593 65.1954 165.325 64.825 Q163.079 64.4547 160.672 63.7139 L160.672 59.0149 Q162.755 60.1491 164.977 60.7047 Q167.2 61.2602 169.677 61.2602 Q173.681 61.2602 176.019 59.1538 Q178.357 57.0473 178.357 53.4362 Q178.357 49.8251 176.019 47.7186 Q173.681 45.6122 169.677 45.6122 Q167.802 45.6122 165.927 46.0288 Q164.075 46.4455 162.13 47.3251 L162.13 29.9641 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip230)" d="M16.4842 806.492 L16.4842 800.063 L36.568 800.063 L16.4842 778.737 L16.4842 770.462 L38.6368 794.047 L64.0042 768.775 L64.0042 777.242 L41.1194 800.063 L64.0042 800.063 L64.0042 806.492 L16.4842 806.492 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip230)" d="M44.7161 736.756 L47.5806 736.756 L47.5806 763.683 Q53.6281 763.301 56.8109 760.054 Q59.9619 756.776 59.9619 750.951 Q59.9619 747.577 59.1344 744.426 Q58.3069 741.243 56.6518 738.124 L62.1899 738.124 Q63.5267 741.275 64.227 744.585 Q64.9272 747.896 64.9272 751.301 Q64.9272 759.831 59.9619 764.828 Q54.9967 769.794 46.5303 769.794 Q37.7774 769.794 32.6531 765.083 Q27.4968 760.341 27.4968 752.32 Q27.4968 745.127 32.1438 740.957 Q36.7589 736.756 44.7161 736.756 M42.9973 742.612 Q38.1912 742.676 35.3266 745.318 Q32.4621 747.927 32.4621 752.256 Q32.4621 757.158 35.2312 760.118 Q38.0002 763.046 43.0292 763.492 L42.9973 742.612 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip230)" d="M67.3143 712.311 Q73.68 714.794 75.6216 717.149 Q77.5631 719.505 77.5631 723.451 L77.5631 728.13 L72.6615 728.13 L72.6615 724.693 Q72.6615 722.274 71.5157 720.937 Q70.3699 719.6 66.1048 717.977 L63.4312 716.926 L28.3562 731.345 L28.3562 725.138 L56.238 713.998 L28.3562 702.858 L28.3562 696.652 L67.3143 712.311 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip230)" d="M29.4065 665.842 L34.9447 665.842 Q33.6716 668.324 33.035 670.998 Q32.3984 673.671 32.3984 676.536 Q32.3984 680.897 33.7352 683.093 Q35.072 685.257 37.7456 685.257 Q39.7826 685.257 40.9603 683.697 Q42.1061 682.138 43.1565 677.427 L43.6021 675.422 Q44.9389 669.184 47.3897 666.574 Q49.8086 663.932 54.1691 663.932 Q59.1344 663.932 62.0308 667.879 Q64.9272 671.794 64.9272 678.669 Q64.9272 681.533 64.3543 684.652 Q63.8132 687.74 62.6992 691.177 L56.6518 691.177 Q58.3387 687.931 59.198 684.78 Q60.0256 681.629 60.0256 678.541 Q60.0256 674.404 58.6251 672.176 Q57.1929 669.948 54.6147 669.948 Q52.2276 669.948 50.9545 671.571 Q49.6813 673.162 48.5037 678.605 L48.0262 680.642 Q46.8804 686.085 44.5251 688.504 Q42.138 690.923 38.0002 690.923 Q32.9713 690.923 30.2341 687.358 Q27.4968 683.793 27.4968 677.236 Q27.4968 673.99 27.9743 671.125 Q28.4517 668.261 29.4065 665.842 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><g clip-path="url(#clip232)"><image width="1894" height="1376" xlink:href="data:image/png;base64,
iVBORw0KGgoAAAANSUhEUgAAB2YAAAVgCAYAAACUhT1bAAAgAElEQVR4nOzb0WlUYRRG0bmjYkyi
WIRWkirswKZ9ybOEEDWQUbgWETaH/7JWBd/z2Zzt7vr7fgJe7Xn/Oz0Blne1vZ2eAIfwZ79MT4Dl
PZ2fpifAIdzsN9MTYHkfTx+mJ8AhnE/b9ARY3u0btzt4rfP0AAAAAAAAAICjE2YBAAAAAAAAYsIs
AAAAAAAAQEyYBQAAAAAAAIgJswAAAAAAAAAxYRYAAAAAAAAgJswCAAAAAAAAxIRZAAAAAAAAgJgw
CwAAAAAAABATZgEAAAAAAABiwiwAAAAAAABATJgFAAAAAAAAiAmzAAAAAAAAADFhFgAAAAAAACAm
zAIAAAAAAADEhFkAAAAAAACAmDALAAAAAAAAEBNmAQAAAAAAAGLCLAAAAAAAAEBMmAUAAAAAAACI
CbMAAAAAAAAAMWEWAAAAAAAAICbMAgAAAAAAAMSEWQAAAAAAAICYMAsAAAAAAAAQE2YBAAAAAAAA
YsIsAAAAAAAAQEyYBQAAAAAAAIgJswAAAAAAAAAxYRYAAAAAAAAgJswCAAAAAAAAxIRZAAAAAAAA
gJgwCwAAAAAAABATZgEAAAAAAABiwiwAAAAAAABATJgFAAAAAAAAiAmzAAAAAAAAADFhFgAAAAAA
ACAmzAIAAAAAAADEhFkAAAAAAACAmDALAAAAAAAAEBNmAQAAAAAAAGLCLAAAAAAAAEBMmAUAAAAA
AACICbMAAAAAAAAAMWEWAAAAAAAAICbMAgAAAAAAAMSEWQAAAAAAAICYMAsAAAAAAAAQE2YBAAAA
AAAAYsIsAAAAAAAAQEyYBQAAAAAAAIgJswAAAAAAAAAxYRYAAAAAAAAgJswCAAAAAAAAxIRZAAAA
AAAAgJgwCwAAAAAAABATZgEAAAAAAABiwiwAAAAAAABATJgFAAAAAAAAiAmzAAAAAAAAADFhFgAA
AAAAACAmzAIAAAAAAADEhFkAAAAAAACAmDALAAAAAAAAEBNmAQAAAAAAAGLCLAAAAAAAAEBMmAUA
AAAAAACICbMAAAAAAAAAMWEWAAAAAAAAICbMAgAAAAAAAMSEWQAAAAAAAICYMAsAAAAAAAAQE2YB
AAAAAAAAYsIsAAAAAAAAQEyYBQAAAAAAAIgJswAAAAAAAAAxYRYAAAAAAAAgJswCAAAAAAAAxIRZ
AAAAAAAAgJgwCwAAAAAAABATZgEAAAAAAABiwiwAAAAAAABATJgFAAAAAAAAiAmzAAAAAAAAADFh
FgAAAAAAACAmzAIAAAAAAADEhFkAAAAAAACAmDALAAAAAAAAEBNmAQAAAAAAAGLCLAAAAAAAAEBM
mAUAAAAAAACICbMAAAAAAAAAMWEWAAAAAAAAICbMAgAAAAAAAMSEWQAAAAAAAICYMAsAAAAAAAAQ
E2YBAAAAAAAAYsIsAAAAAAAAQEyYBQAAAAAAAIgJswAAAAAAAAAxYRYAAAAAAAAgJswCAAAAAAAA
xIRZAAAAAAAAgJgwCwAAAAAAABATZgEAAAAAAABiwiwAAAAAAABATJgFAAAAAAAAiAmzAAAAAAAA
ADFhFgAAAAAAACAmzAIAAAAAAADEhFkAAAAAAACAmDALAAAAAAAAEBNmAQAAAAAAAGLCLAAAAAAA
AEBMmAUAAAAAAACICbMAAAAAAAAAMWEWAAAAAAAAICbMAgAAAAAAAMSEWQAAAAAAAICYMAsAAAAA
AAAQE2YBAAAAAAAAYsIsAAAAAAAAQEyYBQAAAAAAAIgJswAAAAAAAAAxYRYAAAAAAAAgJswCAAAA
AAAAxIRZAAAAAAAAgJgwCwAAAAAAABATZgEAAAAAAABiwiwAAAAAAABATJgFAAAAAAAAiAmzAAAA
AAAAADFhFgAAAAAAACAmzAIAAAAAAADEhFkAAAAAAACAmDALAAAAAAAAEBNmAQAAAAAAAGLCLAAA
AAAAAEBMmAUAAAAAAACICbMAAAAAAAAAMWEWAAAAAAAAICbMAgAAAAAAAMSEWQAAAAAAAICYMAsA
AAAAAAAQE2YBAAAAAAAAYsIsAAAAAAAAQEyYBQAAAAAAAIgJswAAAAAAAAAxYRYAAAAAAAAgJswC
AAAAAAAAxIRZAAAAAAAAgJgwCwAAAAAAABATZgEAAAAAAABiwiwAAAAAAABATJgFAAAAAAAAiAmz
AAAAAAAAADFhFgAAAAAAACAmzAIAAAAAAADEhFkAAAAAAACAmDALAAAAAAAAEBNmAQAAAAAAAGLC
LAAAAAAAAEBMmAUAAAAAAACICbMAAAAAAAAAMWEWAAAAAAAAICbMAgAAAAAAAMSEWQAAAAAAAICY
MAsAAAAAAAAQE2YBAAAAAAAAYsIsAAAAAAAAQEyYBQAAAAAAAIgJswAAAAAAAAAxYRYAAAAAAAAg
JswCAAAAAAAAxIRZAAAAAAAAgJgwCwAAAAAAABATZgEAAAAAAABiwiwAAAAAAABATJgFAAAAAAAA
iAmzAAAAAAAAADFhFgAAAAAAACAmzAIAAAAAAADEhFkAAAAAAACAmDALAAAAAAAAEBNmAQAAAAAA
AGLCLAAAAAAAAEBMmAUAAAAAAACICbMAAAAAAAAAMWEWAAAAAAAAICbMAgAAAAAAAMSEWQAAAAAA
AICYMAsAAAAAAAAQE2YBAAAAAAAAYsIsAAAAAAAAQEyYBQAAAAAAAIgJswAAAAAAAAAxYRYAAAAA
AAAgJswCAAAAAAAAxIRZAAAAAAAAgJgwCwAAAAAAABATZgEAAAAAAABiwiwAAAAAAABATJgFAAAA
AAAAiAmzAAAAAAAAADFhFgAAAAAAACAmzAIAAAAAAADEhFkAAAAAAACAmDALAAAAAAAAEBNmAQAA
AAAAAGLCLAAAAAAAAEBMmAUAAAAAAACICbMAAAAAAAAAMWEWAAAAAAAAICbMAgAAAAAAAMSEWQAA
AAAAAICYMAsAAAAAAAAQE2YBAAAAAAAAYsIsAAAAAAAAQEyYBQAAAAAAAIgJswAAAAAAAAAxYRYA
AAAAAAAgJswCAAAAAAAAxIRZAAAAAAAAgJgwCwAAAAAAABATZgEAAAAAAABiwiwAAAAAAABATJgF
AAAAAAAAiAmzAAAAAAAAADFhFgAAAAAAACAmzAIAAAAAAADEhFkAAAAAAACAmDALAAAAAAAAEBNm
AQAAAAAAAGLCLAAAAAAAAEBMmAUAAAAAAACICbMAAAAAAAAAMWEWAAAAAAAAICbMAgAAAAAAAMSE
WQAAAAAAAICYMAsAAAAAAAAQE2YBAAAAAAAAYsIsAAAAAAAAQEyYBQAAAAAAAIgJswAAAAAAAAAx
YRYAAAAAAAAgJswCAAAAAAAAxIRZAAAAAAAAgJgwCwAAAAAAABATZgEAAAAAAABiwiwAAAAAAABA
TJgFAAAAAAAAiAmzAAAAAAAAADFhFgAAAAAAACAmzAIAAAAAAADEhFkAAAAAAACAmDALAAAAAAAA
EBNmAQAAAAAAAGLCLAAAAAAAAEBMmAUAAAAAAACICbMAAAAAAAAAMWEWAAAAAAAAICbMAgAAAAAA
AMSEWQAAAAAAAICYMAsAAAAAAAAQE2YBAAAAAAAAYsIsAAAAAAAAQEyYBQAAAAAAAIgJswAAAAAA
AAAxYRYAAAAAAAAgJswCAAAAAAAAxIRZAAAAAAAAgJgwCwAAAAAAABATZgEAAAAAAABiwiwAAAAA
AABATJgFAAAAAAAAiAmzAAAAAAAAADFhFgAAAAAAACAmzAIAAAAAAADEhFkAAAAAAACAmDALAAAA
AAAAEBNmAQAAAAAAAGLCLAAAAAAAAEBMmAUAAAAAAACICbMAAAAAAAAAMWEWAAAAAAAAICbMAgAA
AAAAAMSEWQAAAAAAAICYMAsAAAAAAAAQE2YBAAAAAAAAYsIsAAAAAAAAQEyYBQAAAAAAAIgJswAA
AAAAAAAxYRYAAAAAAAAgJswCAAAAAAAAxIRZAAAAAAAAgJgwCwAAAAAAABATZgEAAAAAAABiwiwA
AAAAAABATJgFAAAAAAAAiAmzAAAAAAAAADFhFgAAAAAAACAmzAIAAAAAAADEhFkAAAAAAACAmDAL
AAAAAAAAEBNmAQAAAAAAAGLCLAAAAAAAAEBMmAUAAAAAAACICbMAAAAAAAAAMWEWAAAAAAAAICbM
AgAAAAAAAMSEWQAAAAAAAICYMAsAAAAAAAAQE2YBAAAAAAAAYsIsAAAAAAAAQEyYBQAAAAAAAIgJ
swAAAAAAAAAxYRYAAAAAAAAgJswCAAAAAAAAxIRZAAAAAAAAgJgwCwAAAAAAABATZgEAAAAAAABi
wiwAAAAAAABATJgFAAAAAAAAiAmzAAAAAAAAADFhFgAAAAAAACAmzAIAAAAAAADEhFkAAAAAAACA
mDALAAAAAAAAEBNmAQAAAAAAAGLCLAAAAAAAAEBMmAUAAAAAAACICbMAAAAAAAAAMWEWAAAAAAAA
ICbMAgAAAAAAAMSEWQAAAAAAAICYMAsAAAAAAAAQE2YBAAAAAAAAYsIsAAAAAAAAQEyYBQAAAAAA
AIgJswAAAAAAAAAxYRYAAAAAAAAgJswCAAAAAAAAxIRZAAAAAAAAgJgwCwAAAAAAABATZgEAAAAA
AABiwiwAAAAAAABATJgFAAAAAAAAiAmzAAAAAAAAADFhFgAAAAAAACAmzAIAAAAAAADEhFkAAAAA
AACAmDALAAAAAAAAEBNmAQAAAAAAAGLCLAAAAAAAAEBMmAUAAAAAAACICbMAAAAAAAAAMWEWAAAA
AAAAICbMAgAAAAAAAMSEWQAAAAAAAICYMAsAAAAAAAAQE2YBAAAAAAAAYsIsAAAAAAAAQEyYBQAA
AAAAAIgJswAAAAAAAAAxYRYAAAAAAAAgJswCAAAAAAAAxIRZAAAAAAAAgJgwCwAAAAAAABATZgEA
AAAAAABiwiwAAAAAAABATJgFAAAAAAAAiAmzAAAAAAAAADFhFgAAAAAAACAmzAIAAAAAAADEhFkA
AAAAAACAmDALAAAAAAAAEBNmAQAAAAAAAGLCLAAAAAAAAEBMmAUAAAAAAACICbMAAAAAAAAAMWEW
AAAAAAAAICbMAgAAAAAAAMSEWQAAAAAAAICYMAsAAAAAAAAQE2YBAAAAAAAAYsIsAAAAAAAAQEyY
BQAAAAAAAIgJswAAAAAAAAAxYRYAAAAAAAAgJswCAAAAAAAAxIRZAAAAAAAAgJgwCwAAAAAAABAT
ZgEAAAAAAABiwiwAAAAAAABATJgFAAAAAAAAiAmzAAAAAAAAADFhFgAAAAAAACAmzAIAAAAAAADE
hFkAAAAAAACAmDALAAAAAAAAEBNmAQAAAAAAAGLCLAAAAAAAAEBMmAUAAAAAAACICbMAAAAAAAAA
MWEWAAAAAAAAICbMAgAAAAAAAMSEWQAAAAAAAICYMAsAAAAAAAAQE2YBAAAAAAAAYsIsAAAAAAAA
QEyYBQAAAAAAAIgJswAAAAAAAAAxYRYAAAAAAAAgJswCAAAAAAAAxIRZAAAAAAAAgJgwCwAAAAAA
ABATZgEAAAAAAABiwiwAAAAAAABATJgFAAAAAAAAiAmzAAAAAAAAADFhFgAAAAAAACAmzAIAAAAA
AADEhFkAAAAAAACAmDALAAAAAAAAEBNmAQAAAAAAAGLCLAAAAAAAAEBMmAUAAAAAAACICbMAAAAA
AAAAMWEWAAAAAAAAICbMAgAAAAAAAMSEWQAAAAAAAICYMAsAAAAAAAAQE2YBAAAAAAAAYsIsAAAA
AAAAQEyYBQAAAAAAAIgJswAAAAAAAAAxYRYAAAAAAAAgJswCAAAAAAAAxIRZAAAAAAAAgJgwCwAA
AAAAABATZgEAAAAAAABiwiwAAAAAAABATJgFAAAAAAAAiAmzAAAAAAAAADFhFgAAAAAAACAmzAIA
AAAAAADEhFkAAAAAAACAmDALAAAAAAAAEBNmAQAAAAAAAGLCLAAAAAAAAEBMmAUAAAAAAACICbMA
AAAAAAAAMWEWAAAAAAAAICbMAgAAAAAAAMSEWQAAAAAAAICYMAsAAAAAAAAQE2YBAAAAAAAAYtuv
+2/79Ag4gv39p+kJsLzt8nt6AhzC/vnL9ARY3vXt1+kJcAgvl4fpCbC8f8/30xPgELaXx+kJsLx3
P39MT4Dl+ZgFAAAAAAAAiAmzAAAAAAAAADFhFgAAAAAAACAmzAIAAAAAAADEhFkAAAAAAACAmDAL
AAAAAAAAEBNmAQAAAAAAAGLCLAAAAAAAAEBMmAUAAAAAAACICbMAAAAAAAAAMWEWAAAAAAAAICbM
AgAAAAAAAMSEWQAAAAAAAICYMAsAAAAAAAAQE2YBAAAAAAAAYsIsAAAAAAAAQEyYBQAAAAAAAIgJ
swAAAAAAAAAxYRYAAAAAAAAgJswCAAAAAAAAxIRZAAAAAAAAgJgwCwAAAAAAABATZgEAAAAAAABi
wiwAAAAAAABATJgFAAAAAAAAiAmzAAAAAAAAADFhFgAAAAAAACAmzAIAAAAAAADEhFkAAAAAAACA
mDALAAAAAAAAEBNmAQAAAAAAAGLCLAAAAAAAAEBMmAUAAAAAAACICbMAAAAAAAAAMWEWAAAAAAAA
ICbMAgAAAAAAAMSEWQAAAAAAAICYMAsAAAAAAAAQE2YBAAAAAAAAYsIsAAAAAAAAQEyYBQAAAAAA
AIgJswAAAAAAAAAxYRYAAAAAAAAgJswCAAAAAAAAxIRZAAAAAAAAgJgwCwAAAAAAABATZgEAAAAA
AABiwiwAAAAAAABATJgFAAAAAAAAiAmzAAAAAAAAADFhFgAAAAAAACAmzAIAAAAAAADEhFkAAAAA
AACAmDALAAAAAAAAEBNmAQAAAAAAAGLCLAAAAAAAAEBMmAUAAAAAAACICbMAAAAAAAAAMWEWAAAA
AAAAICbMAgAAAAAAAMSEWQAAAAAAAICYMAsAAAAAAAAQE2YBAAAAAAAAYsIsAAAAAAAAQEyYBQAA
AAAAAIgJswAAAAAAAAAxYRYAAAAAAAAgJswCAAAAAAAAxIRZAAAAAAAAgJgwCwAAAAAAABATZgEA
AAAAAABiwiwAAAAAAABATJgFAAAAAAAAiAmzAAAAAAAAADFhFgAAAAAAACAmzAIAAAAAAADEhFkA
AAAAAACAmDALAAAAAAAAEBNmAQAAAAAAAGLCLAAAAAAAAEBMmAUAAAAAAACICbMAAAAAAAAAMWEW
AAAAAAAAICbMAgAAAADwn307OoEYBKAgGAMH13+7gTNFhMWczFTwfkRhEQCICbMAAAAAAAAAMWEW
AAAAAAAAICbMAgAAAAAAAMSEWQAAAAAAAICYMAsAAAAAAAAQE2YBAAAAAAAAYsIsAAAAAAAAQEyY
BQAAAAAAAIgJswAAAAAAAAAxYRYAAAAAAAAgJswCAAAAAAAAxIRZAAAAAAAAgJgwCwAAAAAAABAT
ZgEAAAAAAABiwiwAAAAAAABATJgFAAAAAAAAiAmzAAAAAAAAADFhFgAAAAAAACAmzAIAAAAAAADE
hFkAAAAAAACAmDALAAAAAAAAEBNmAQAAAAAAAGLCLAAAAAAAAEBMmAUAAAAAAACICbMAAAAAAAAA
MWEWAAAAAAAAICbMAgAAAAAAAMSEWQAAAAAAAICYMAsAAAAAAAAQE2YBAAAAAAAAYsIsAAAAAAAA
QEyYBQAAAAAAAIgJswAAAAAAAAAxYRYAAAAAAAAgJswCAAAAAAAAxIRZAAAAAAAAgJgwCwAAAAAA
ABATZgEAAAAAAABiwiwAAAAAAABATJgFAAAAAAAAiAmzAAAAAAAAADFhFgAAAAAAACAmzAIAAAAA
AADEhFkAAAAAAACAmDALAAAAAAAAEBNmAQAAAAAAAGLCLAAAAAAAAEBMmAUAAAAAAACICbMAAAAA
AAAAMWEWAAAAAAAAICbMAgAAAAAAAMSEWQAAAAAAAICYMAsAAAAAAAAQE2YBAAAAAAAAYsIsAAAA
AAAAQEyYBQAAAAAAAIgJswAAAAAAAAAxYRYAAAAAAAAgJswCAAAAAAAAxIRZAAAAAAAAgJgwCwAA
AAAAABATZgEAAAAAAABiwiwAAAAAAABATJgFAAAAAAAAiAmzAAAAAAAAADFhFgAAAAAAACAmzAIA
AAAAAADEhFkAAAAAAACAmDALAAAAAAAAEBNmAQAAAAAAAGLCLAAAAAAAAEBMmAUAAAAAAACICbMA
AAAAAAAAMWEWAAAAAAAAICbMAgAAAAAAAMSEWQAAAAAAAICYMAsAAAAAAAAQE2YBAAAAAAAAYsIs
AAAAAAAAQEyYBQAAAAAAAIgJswAAAAAAAAAxYRYAAAAAAAAgJswCAAAAAAAAxIRZAAAAAAAAgJgw
CwAAAAAAABATZgEAAAAAAABiwiwAAAAAAABATJgFAAAAAAAAiAmzAAAAAAAAADFhFgAAAAAAACAm
zAIAAAAAAADEhFkAAAAAAACAmDALAAAAAAAAEBNmAQAAAAAAAGLCLAAAAAAAAEBMmAUAAAAAAACI
CbMAAAAAAAAAMWEWAAAAAAAAICbMAgAAAAAAAMSEWQAAAAAAAICYMAsAAAAAAAAQE2YBAAAAAAAA
YsIsAAAAAAAAQEyYBQAAAAAAAIgJswAAAAAAAAAxYRYAAAAAAAAgJswCAAAAAAAAxIRZAAAAAAAA
gJgwCwAAAAAAABATZgEAAAAAAABiwiwAAAAAAABATJgFAAAAAAAAiAmzAAAAAAAAADFhFgAAAAAA
ACAmzAIAAAAAAADEhFkAAAAAAACAmDALAAAAAAAAEBNmAQAAAAAAAGLCLAAAAAAAAEBMmAUAAAAA
AACICbMAAAAAAAAAMWEWAAAAAAAAICbMAgAAAAAAAMSEWQAAAAAAAICYMAsAAAAAAAAQE2YBAAAA
AAAAYsIsAAAAAAAAQEyYBQAAAAAAAIgJswAAAAAAAAAxYRYAAAAAAAAgJswCAAAAAAAAxIRZAAAA
AAAAgJgwCwAAAAAAABATZgEAAAAAAABiwiwAAAAAAABATJgFAAAAAAAAiAmzAAAAAAAAADFhFgAA
AAAAACAmzAIAAAAAAADEhFkAAAAAAACAmDALAAAAAAAAEBNmAQAAAAAAAGLCLAAAAAAAAEBMmAUA
AAAAAACICbMAAAAAAAAAMWEWAAAAAAAAICbMAgAAAAAAAMSEWQAAAAAAAICYMAsAAAAAAAAQE2YB
AAAAAAAAYsIsAAAAAAAAQEyYBQAAAAAAAIgJswAAAAAAAAAxYRYAAAAAAAAgJswCAAAAAAAAxIRZ
AAAAAAAAgJgwCwAAAAAAABATZgEAAAAAAABiwiwAAAAAAABATJgFAAAAAAAAiAmzAAAAAAAAADFh
FgAAAAAAACAmzAIAAAAAAADEhFkAAAAAAACAmDALAAAAAAAAEBNmAQAAAAAAAGLCLAAAAAAAAEBM
mAUAAAAAAACICbMAAAAAAAAAMWEWAAAAAAAAICbMAgAAAAAAAMSEWQAAAAAAAICYMAsAAAAAAAAQ
E2YBAAAAAAAAYsIsAAAAAAAAQEyYBQAAAAAAAIgJswAAAAAAAAAxYRYAAAAAAAAgJswCAAAAAAAA
xIRZAAAAAAAAgJgwCwAAAAAAABATZgEAAAAAAABiwiwAAAAAAABATJgFAAAAAAAAiAmzAAAAAAAA
ADFhFgAAAAAAACAmzAIAAAAAAADEhFkAAAAAAACAmDALAAAAAAAAEBNmAQAAAAAAAGLCLAAAAAAA
AEBMmAUAAAAAAACICbMAAAAAAAAAMWEWAAAAAAAAICbMAgAAAAAAAMSEWQAAAAAAAICYMAsAAAAA
AAAQE2YBAAAAAAAAYsIsAAAAAAAAQEyYBQAAAAAAAIgJswAAAAAAAAAxYRYAAAAAAAAgJswCAAAA
AAAAxIRZAAAAAAAAgJgwCwAAAAAAABATZgEAAAAAAABiwiwAAAAAAABATJgFAAAAAAAAiAmzAAAA
AAAAADFhFgAAAAAAACAmzAIAAAAAAADEhFkAAAAAAACAmDALAAAAAAAAEBNmAQAAAAAAAGLCLAAA
AAAAAEBMmAUAAAAAAACICbMAAAAAAAAAMWEWAAAAAAAAICbMAgAAAAAAAMSEWQAAAAAAAICYMAsA
AAAAAAAQE2YBAAAAAAAAYsIsAAAAAAAAQEyYBQAAAAAAAIgJswAAAAAAAAAxYRYAAAAAAAAgJswC
AAAAAAAAxIRZAAAAAAAAgJgwCwAAAAAAABATZgEAAAAAAABiwiwAAAAAAABATJgFAAAAAAAAiAmz
AAAAAAAAADFhFgAAAAAAACAmzAIAAAAAAADEhFkAAAAAAACAmDALAAAAAAAAEBNmAQAAAAAAAGLC
LAAAAAAAAEBMmAUAAAAAAACICbMAAAAAAAAAMWEWAAAAAAAAICbMAgAAAAAAAMSEWQAAAAAAAICY
MAsAAAAAAAAQE2YBAAAAAAAAYsIsAAAAAAAAQEyYBQAAAAAAAIgJswAAAAAAAAAxYRYAAAAAAAAg
JswCAAAAAAAAxIRZAAAAAAAAgJgwCwAAAAAAABATZgEAAAAAAABiwiwAAAAAAABATJgFAAAAAAAA
iAmzAAAAAAAAADFhFgAAAAAAACAmzAIAAAAAAADEhFkAAAAAAACAmDALAAAAAAAAEBNmAQAAAAAA
AGLCLAAAAAAAAEBMmAUAAAAAAACICbMAAAAAAAAAMWEWAAAAAAAAICbMAgAAAAAAAMSEWQAAAAAA
AICYMAsAAAAAAAAQE2YBAAAAAAAAYsIsAAAAAAAAQEyYBQAAAAAAAIgJswAAAAAAAAAxYRYAAAAA
AAAgJswCAAAAAAAAxIRZAAAAAAAAgJgwCwAAAAAAABATZgEAAAAAAABiwiwAAAAAAABATJgFAAAA
AAAAiAmzAAAAAAAAADFhFgAAAAAAACAmzAIAAAAAAADEhFkAAAAAAACAmDALAAAAAAAAEBNmAQAA
AAAAAGLCLAAAAAAAAEBMmAUAAAAAAACICRF2DOIAABSHSURBVLMAAAAAAAAAMWEWAAAAAAAAICbM
AgAAAAAAAMSEWQAAAAAAAICYMAsAAAAAAAAQE2YBAAAAAAAAYsIsAAAAAAAAQEyYBQAAAAAAAIgJ
swAAAAAAAAAxYRYAAAAAAAAgJswCAAAAAAAAxIRZAAAAAAAAgJgwCwAAAAAAABATZgEAAAAAAABi
wiwAAAAAAABATJgFAAAAAAAAiAmzAAAAAAAAADFhFgAAAAAAACAmzAIAAAAAAADEhFkAAAAAAACA
mDALAAAAAAAAEBNmAQAAAAAAAGLCLAAAAAAAAEBMmAUAAAAAAACICbMAAAAAAAAAMWEWAAAAAAAA
ICbMAgAAAAAAAMSEWQAAAAAAAICYMAsAAAAAAAAQE2YBAAAAAAAAYsIsAAAAAAAAQEyYBQAAAAAA
AIgJswAAAAAAAAAxYRYAAAAAAAAgJswCAAAAAAAAxIRZAAAAAAAAgJgwCwAAAAAAABATZgEAAAAA
AABiwiwAAAAAAABATJgFAAAAAAAAiAmzAAAAAAAAADFhFgAAAAAAACAmzAIAAAAAAADEhFkAAAAA
AACAmDALAAAAAAAAEBNmAQAAAAAAAGLCLAAAAAAAAEBMmAUAAAAAAACICbMAAAAAAAAAMWEWAAAA
AAAAICbMAgAAAAAAAMSEWQAAAAAAAICYMAsAAAAAAAAQE2YBAAAAAAAAYsIsAAAAAAAAQEyYBQAA
AAAAAIgJswAAAAAAAAAxYRYAAAAAAAAgJswCAAAAAAAAxIRZAAAAAAAAgJgwCwAAAAAAABATZgEA
AAAAAABiwiwAAAAAAABATJgFAAAAAAAAiAmzAAAAAAAAADFhFgAAAAAAACAmzAIAAAAAAADEhFkA
AAAAAACAmDALAAAAAAAAEBNmAQAAAAAAAGLCLAAAAAAAAEBMmAUAAAAAAACICbMAAAAAAAAAMWEW
AAAAAAAAICbMAgAAAAAAAMSEWQAAAAAAAICYMAsAAAAAAAAQE2YBAAAAAAAAYsIsAAAAAAAAQEyY
BQAAAAAAAIgJswAAAAAAAAAxYRYAAAAAAAAgJswCAAAAAAAAxIRZAAAAAAAAgJgwCwAAAAAAABAT
ZgEAAAAAAABiYxyfuXoE7GAejhI8dZ7f1RNgD9OdBE/Nea2eAJv4rR4Af8/LDoC3GKsHwAb8mAUA
AAAAAACICbMAAAAAAAAAMWEWAAAAAAAAICbMAgAAAAAAAMSEWQAAAAAAAICYMAsAAAAAAAAQE2YB
AAAAAAAAYsIsAAAAAAAAQEyYBQAAAAAAAIgJswAAAAAAAAAxYRYAAAAAAAAgJswCAAAAAAAAxIRZ
AAAAAAAAgJgwCwAAAAAAABATZgEAAAAAAABiwiwAAAAAAABATJgFAAAAAAAAiAmzAAAAAAAAADFh
FgAAAAAAACAmzAIAAAAAAADEhFkAAAAAAACAmDALAAAAAAAAEBNmAQAAAAAAAGLCLAAAAAAAAEBM
mAUAAAAAAACICbMAAAAAAAAAMWEWAAAAAAAAICbMAgAAAAAAAMSEWQAAAAAAAICYMAsAAAAAAAAQ
E2YBAAAAAAAAYsIsAAAAAAAAQEyYBQAAAAAAAIgJswAAAAAAAAAxYRYAAAAAAAAgJswCAAAAAAAA
xIRZAAAAAAAAgJgwCwAAAAAAABATZgEAAAAAAABiwiwAAAAAAABATJgFAAAAAAAAiAmzAAAAAAAA
ADFhFgAAAAAAACAmzAIAAAAAAADEhFkAAAAAAACAmDALAAAAAAAAEBNmAQAAAAAAAGLCLAAAAAAA
AEBMmAUAAAAAAACICbMAAAAAAAAAMWEWAAAAAAAAICbMAgAAAAAAAMSEWQAAAAAAAICYMAsAAAAA
AAAQE2YBAAAAAAAAYsIsAAAAAAAAQEyYBQAAAAAAAIgJswAAAAAAAAAxYRYAAAAAAAAgJswCAAAA
AAAAxIRZAAAAAAAAgJgwCwAAAAAAABATZgEAAAAAAABiwiwAAAAAAABATJgFAAAAAAAAiAmzAAAA
AAAAADFhFgAAAAAAACAmzAIAAAAAAADEhFkAAAAAAACAmDALAAAAAAAAEBNmAQAAAAAAAGLCLAAA
AAAAAEBMmAUAAAAAAACICbMAAAAAAAAAMWEWAAAAAAAAICbMAgAAAAAAAMSEWQAAAAAAAICYMAsA
AAAAAAAQE2YBAAAAAAAAYsIsAAAAAAAAQEyYBQAAAAAAAIgJswAAAAAAAAAxYRYAAAAAAAAgJswC
AAAAAAAAxIRZAAAAAAAAgJgwCwAAAAAAABATZgEAAAAAAABiwiwAAAAAAABATJgFAAAAAAAAiAmz
AAAAAAAAADFhFgAAAAAAACAmzAIAAAAAAADEhFkAAAAAAACAmDALAAAAAAAAEBNmAQAAAAAAAGLC
LAAAAAAAAEBMmAUAAAAAAACICbMAAAAAAAAAMWEWAAAAAAAAICbMAgAAAAAAAMSEWQAAAAAAAICY
MAsAAAAAAAAQE2YBAAAAAAAAYsIsAAAAAAAAQEyYBQAAAAAAAIgJswAAAAAAAAAxYRYAAAAAAAAg
JswCAAAAAAAAxIRZAAAAAAAAgJgwCwAAAAAAABATZgEAAAAAAABiwiwAAAAAAABATJgFAAAAAAAA
iAmzAAAAAAAAADFhFgAAAAAAACAmzAIAAAAAAADEhFkAAAAAAACAmDALAAAAAAAAEBNmAQAAAAAA
AGLCLAAAAAAAAEBMmAUAAAAAAACICbMAAAAAAAAAMWEWAAAAAAAAICbMAgAAAAAAAMSEWQAAAAAA
AICYMAsAAAAAAAAQE2YBAAAAAAAAYsIsAAAAAAAAQEyYBQAAAAAAAIgJswAAAAAAAAAxYRYAAAAA
AAAgJswCAAAAAAAAxIRZAAAAAAAAgJgwCwAAAAAAABATZgEAAAAAAABiwiwAAAAAAABATJgFAAAA
AAAAiAmzAAAAAAAAADFhFgAAAAAAACAmzAIAAAAAAADEhFkAAAAAAACAmDALAAAAAAAAEBNmAQAA
AAAAAGLCLAAAAAAAAEBMmAUAAAAAAACICbMAAAAAAAAAMWEWAAAAAAAAICbMAgAAAAAAAMSEWQAA
AAAAAICYMAsAAAAAAAAQE2YBAAAAAAAAYsIsAAAAAAAAQEyYBQAAAAAAAIgJswAAAAAAAAAxYRYA
AAAAAAAgJswCAAAAAAAAxIRZAAAAAAAAgJgwCwAAAAAAABATZgEAAAAAAABiwiwAAAAAAABATJgF
AAAAAAAAiAmzAAAAAAAAADFhFgAAAAAAACAmzAIAAAAAAADEhFkAAAAAAACAmDALAAAAAAAAEBNm
AQAAAAAAAGLCLAAAAAAAAEBMmAUAAAAAAACICbMAAAAAAAAAMWEWuNuzYwEAAACAQf7Wo9hXGgEA
AAAAADATswAAAAAAAAAzMQsAAAAAAAAwE7MAAAAAAAAAMzELAAAAAAAAMBOzAAAAAAAAADMxCwAA
AAAAADATswAAAAAAAAAzMQsAAAAAAAAwE7MAAAAAAAAAMzELAAAAAAAAMBOzAAAAAAAAADMxCwAA
AAAAADATswAAAAAAAAAzMQsAAAAAAAAwE7MAAAAAAAAAMzELAAAAAAAAMBOzAAAAAAAAADMxCwAA
AAAAADATswAAAAAAAAAzMQsAAAAAAAAwE7MAAAAAAAAAMzELAAAAAAAAMBOzAAAAAAAAADMxCwAA
AAAAADATswAAAAAAAAAzMQsAAAAAAAAwE7MAAAAAAAAAMzELAAAAAAAAMBOzAAAAAAAAADMxCwAA
AAAAADATswAAAAAAAAAzMQsAAAAAAAAwE7MAAAAAAAAAMzELAAAAAAAAMBOzAAAAAAAAADMxCwAA
AAAAADATswAAAAAAAAAzMQsAAAAAAAAwE7MAAAAAAAAAMzELAAAAAAAAMBOzAAAAAAAAADMxCwAA
AAAAADATswAAAAAAAAAzMQsAAAAAAAAwE7MAAAAAAAAAMzELAAAAAAAAMBOzAAAAAAAAADMxCwAA
AAAAADATswAAAAAAAAAzMQsAAAAAAAAwE7MAAAAAAAAAMzELAAAAAAAAMBOzAAAAAAAAADMxCwAA
AAAAADATswAAAAAAAAAzMQsAAAAAAAAwE7MAAAAAAAAAMzELAAAAAAAAMBOzAAAAAAAAADMxCwAA
AAAAADATswAAAAAAAAAzMQsAAAAAAAAwE7MAAAAAAAAAMzELAAAAAAAAMBOzAAAAAAAAADMxCwAA
AAAAADATswAAAAAAAAAzMQsAAAAAAAAwE7MAAAAAAAAAMzELAAAAAAAAMBOzAAAAAAAAADMxCwAA
AAAAADATswAAAAAAAAAzMQsAAAAAAAAwE7MAAAAAAAAAMzELAAAAAAAAMBOzAAAAAAAAADMxCwAA
AAAAADATswAAAAAAAAAzMQsAAAAAAAAwE7MAAAAAAAAAMzELAAAAAAAAMBOzAAAAAAAAADMxCwAA
AAAAADATswAAAAAAAAAzMQsAAAAAAAAwE7MAAAAAAAAAMzELAAAAAAAAMBOzAAAAAAAAADMxCwAA
AAAAADATswAAAAAAAAAzMQsAAAAAAAAwE7MAAAAAAAAAMzELAAAAAAAAMBOzAAAAAAAAADMxCwAA
AAAAADATswAAAAAAAAAzMQsAAAAAAAAwE7MAAAAAAAAAMzELAAAAAAAAMBOzAAAAAAAAADMxCwAA
AAAAADATswAAAAAAAAAzMQsAAAAAAAAwE7MAAAAAAAAAMzELAAAAAAAAMBOzAAAAAAAAADMxCwAA
AAAAADATswAAAAAAAAAzMQsAAAAAAAAwE7MAAAAAAAAAMzELAAAAAAAAMBOzAAAAAAAAADMxCwAA
AAAAADATswAAAAAAAAAzMQsAAAAAAAAwE7MAAAAAAAAAMzELAAAAAAAAMBOzAAAAAAAAADMxCwAA
AAAAADATswAAAAAAAAAzMQsAAAAAAAAwE7MAAAAAAAAAMzELAAAAAAAAMBOzAAAAAAAAADMxCwAA
AAAAADATswAAAAAAAAAzMQsAAAAAAAAwE7MAAAAAAAAAMzELAAAAAAAAMBOzAAAAAAAAADMxCwAA
AAAAADATswAAAAAAAAAzMQsAAAAAAAAwE7MAAAAAAAAAMzELAAAAAAAAMBOzAAAAAAAAADMxCwAA
AAAAADATswAAAAAAAAAzMQsAAAAAAAAwE7MAAAAAAAAAMzELAAAAAAAAMBOzAAAAAAAAADMxCwAA
AAAAADATswAAAAAAAAAzMQsAAAAAAAAwE7MAAAAAAAAAMzELAAAAAAAAMBOzAAAAAAAAADMxCwAA
AAAAADATswAAAAAAAAAzMQsAAAAAAAAwE7MAAAAAAAAAMzELAAAAAAAAMBOzAAAAAAAAADMxCwAA
AAAAADATswAAAAAAAAAzMQsAAAAAAAAwE7MAAAAAAAAAMzELAAAAAAAAMBOzAAAAAAAAADMxCwAA
AAAAADATswAAAAAAAAAzMQsAAAAAAAAwE7MAAAAAAAAAMzELAAAAAAAAMBOzAAAAAAAAADMxCwAA
AAAAADATswAAAAAAAAAzMQsAAAAAAAAwE7MAAAAAAAAAMzELAAAAAAAAMBOzAAAAAAAAADMxCwAA
AAAAADATswAAAAAAAAAzMQsAAAAAAAAwE7MAAAAAAAAAMzELAAAAAAAAMBOzAAAAAAAAADMxCwAA
AAAAADATswAAAAAAAAAzMQsAAAAAAAAwE7MAAAAAAAAAMzELAAAAAAAAMBOzAAAAAAAAADMxCwAA
AAAAADATswAAAAAAAAAzMQsAAAAAAAAwE7MAAAAAAAAAMzELAAAAAAAAMBOzAAAAAAAAADMxCwAA
AAAAADATswAAAAAAAAAzMQsAAAAAAAAwE7MAAAAAAAAAMzELAAAAAAAAMBOzAAAAAAAAADMxCwAA
AAAAADATswAAAAAAAAAzMQsAAAAAAAAwE7MAAAAAAAAAMzELAAAAAAAAMBOzAAAAAAAAADMxCwAA
AAAAADATswAAAAAAAAAzMQsAAAAAAAAwE7MAAAAAAAAAMzELAAAAAAAAMBOzAAAAAAAAADMxCwAA
AAAAADATswAAAAAAAAAzMQsAAAAAAAAwE7MAAAAAAAAAMzELAAAAAAAAMBOzAAAAAAAAADMxCwAA
AAAAADATswAAAAAAAAAzMQsAAAAAAAAwE7MAAAAAAAAAMzELAAAAAAAAMBOzAAAAAAAAADMxCwAA
AAAAADATswAAAAAAAAAzMQsAAAAAAAAwE7MAAAAAAAAAMzELAAAAAAAAMBOzAAAAAAAAADMxCwAA
AAAAADATswAAAAAAAAAzMQsAAAAAAAAwE7MAAAAAAAAAMzELAAAAAAAAMBOzAAAAAAAAADMxCwAA
AAAAADATswAAAAAAAAAzMQsAAAAAAAAwE7MAAAAAAAAAMzELAAAAAAAAMBOzAAAAAAAAADMxCwAA
AAAAADATswAAAAAAAAAzMQsAAAAAAAAwE7MAAAAAAAAAMzELAAAAAAAAMBOzAAAAAAAAADMxCwAA
AAAAADATswAAAAAAAAAzMQsAAAAAAAAwE7MAAAAAAAAAMzELAAAAAAAAMBOzAAAAAAAAADMxCwAA
AAAAADATswAAAAAAAAAzMQsAAAAAAAAwE7MAAAAAAAAAMzELAAAAAAAAMBOzAAAAAAAAADMxCwAA
AAAAADATswAAAAAAAAAzMQsAAAAAAAAwE7MAAAAAAAAAMzELAAAAAAAAMBOzAAAAAAAAADMxCwAA
AAAAADATswAAAAAAAAAzMQsAAAAAAAAwE7MAAAAAAAAAMzELAAAAAAAAMBOzAAAAAAAAADMxCwAA
AAAAADATswAAAAAAAAAzMQsAAAAAAAAwE7MAAAAAAAAAMzELAAAAAAAAMBOzAAAAAAAAADMxCwAA
AAAAADATswAAAAAAAAAzMQsAAAAAAAAwE7MAAAAAAAAAMzELAAAAAAAAMBOzAAAAAAAAADMxCwAA
AAAAADATswAAAAAAAAAzMQsAAAAAAAAwE7MAAAAAAAAAMzELAAAAAAAAMAttgzCTMC95agAAAABJ
RU5ErkJggg==
" transform="translate(219, 47)"></image></g><defs><clipPath id="clip233"><rect x="2160" y="47" width="73" height="1377"></rect></clipPath></defs><g clip-path="url(#clip233)"><image width="72" height="1376" xlink:href="data:image/png;base64,
iVBORw0KGgoAAAANSUhEUgAAAEgAAAVgCAYAAADsKhu7AAAL6UlEQVR4nO3dwZEjNxBFQVBR/lsh
L6UFZIHqHclDpgUTL35wCXTP7Off+/c7/K+/vv0D/DqBgkBBoCBQmPv+/fbP8NMsKAgUBAoChXnv
z7d/hp9mQUGgIFAQKAgUHDWCBQWBgkBBoDDPh/TKgoJAQaAgUJh3fUhvLCgIFAQKAgWBgqNGsKAg
UBAoCBR8SAcLCgIFgYJAwX1QsKAgUBAoCBQECnMcNVYWFAQKAgWBgvugYEFBoCBQECgIFOa4MFtZ
UBAoCBQECnPuP9/+GX6aBQWBgkBBoODSPlhQECgIFAQKAgX3QcGCgkBBoCBQ8CEdLCgIFAQKAgX3
QcGCgkBBoCBQECjMx1FjZUFBoCBQECjMuf5XhI0FBYGCQEGgIFBw1AgWFAQKAgWBgqNGsKAgUBAo
CBS8HxQsKAgUBAoCBYHCfBw1VhYUBAoCBYGCt1yDBQWBgkBBoOCbdLCgIFAQKAgUBAoePQcLCgIF
gYJAwVEjWFAQKAgUBAoCBUeNYEFBoCBQECg4agQLCgIFgYJAYc693/4ZfpoFBYGCQEGgIFBw1AgW
FAQKAgWBgkv7YEFBoCBQECj4kA4WFAQKAgWBgkBhPp5qrCwoCBQECgIFR41gQUGgIFAQKAgUvEAV
LCgIFAQKAgX3QcGCgkBBoCBQcB8ULCgIFAQKAgWBgvugYEFBoCBQECj4kA4WFAQKAgWBgl/qDRYU
BAoCBYGCQMFRI1hQECgIFAQKPqSDBQWBgkBBoCBQ8K9YsKAgUBAoCBR8SAcLCgIFgYJAYc7zIb2x
oCBQECgIFAQKjhrBgoJAQaAgUPAhHSwoCBQECgIFH9LBgoJAQaAgUBAozLnv2z/DT7OgIFAQKAgU
HDWCBQWBgkBBoCBQcNQIFhQECgIFgYKjRrCgIFAQKAgUfJMOFhQECgIFgYJAYY6TxsqCgkBBoCBQ
mPMcNTYWFAQKAgWBgm/SwYKCQEGgIFAQKPhXLFhQECgIFAQK44/g7SwoCBQECgIFgYKjRrCgIFAQ
KAgUfEgHCwoCBYGCQGHO/Xz7Z/hpFhQECgIFgYJAYd7zr9jGgoJAQaAgUHAfFCwoCBQECgIF90HB
goJAQaAgUBAozLsabdQJAgWBgkDBUSNYUBAoCBQECgKFOR49rywoCBQECgKFeY4aKwsKAgWBgkBh
jkv7lTpBoCBQECgIFBw1ggUFgYJAQaDg0j5YUBAoCBQECl7iDOoEgYJAQaAgUPCWa7CgIFAQKAgU
XNoHCwoCBYGCQEGgMO9ptFEnCBQECgIF90HBgoJAQaAgUHAfFCwoCBQECgIFgcIc90ErdYJAQaAg
UHDUCBYUBAoCBYGCD+lgQUGgIFAQKAgU/NZzsKAgUBAoCBT81nNQJwgUBAoCBYHCPEeNlQUFgYJA
QaDgqUawoCBQECgIFPyvCEGdIFAQKAgUBArug4IFBYGCQEGg4D4oWFAQKAgUBAq+SQcLCgIFgYJA
QaDgLdegThAoCBQECo4awYKCQEGgIFAQKHiqESwoCBQECgIFR41gQUGgIFAQKPiva4IFBYGCQEGg
IFDwv2QGdYJAQaAgUHAfFCwoCBQECgIFT1aDBQWBgkBBoCBQcNQIFhQECgIFgcJcH9IrCwoCBYGC
QEGg4LeegzpBoCBQECi4DwoWFAQKAgWBgg/pYEFBoCBQECgIFLxAFSwoCBQECgIFR41gQUGgIFAQ
KPiQDhYUBAoCBYGCQMGfpgjqBIGCQEGgMNel/cqCgkBBoCBQECi4MAsWFAQKAgWBgg/pYEFBoCBQ
ECj4kA4WFAQKAgWBgkDBH1gKFhQECgIFgYKjRrCgIFAQKAgUfEgHCwoCBYGCQEGg4FcRgjpBoCBQ
ECj4VYRgQUGgIFAQKAgUXJgFCwoCBYGCQMGHdLCgIFAQKAgUvMQZLCgIFAQKAgWBgqNGsKAgUBAo
CBTmHR/SGwsKAgWBgkDBfVCwoCBQECgIFAQK7oOCBQWBgkBBoOCoESwoCBQECgIFgYKjRrCgIFAQ
KAgUHDWCBQWBgkBBoOCbdLCgIFAQKAgUBAr+FQsWFAQKAgWBwly/irCyoCBQECgIFHyTDhYUBAoC
BYGCQMGj52BBQaAgUBAozHvf/hF+mwUFgYJAQaAgUHDUCBYUBAoCBYGCv4IXLCgIFAQKAgXfpIMF
BYGCQEGgIFDwAlWwoCBQECgIFPwqQrCgIFAQKAgUvB8ULCgIFAQKAgWBgqcawYKCQEGgIFBwaR8s
KAgUBAoCBYGCpxrBgoJAQaAgUHAfFCwoCBQECgIFj56DBQWBgkBBoCBQcB8ULCgIFAQKAgWPnoMF
BYGCQEGgMPfbP8GPs6AgUBAoCBQECo4awYKCQEGgIFDwflCwoCBQECgIFAQKLsyCBQWBgkBBoOA+
KFhQECgIFAQKvkkHCwoCBYGCQEGg4KgRLCgIFAQKAgWPnoMFBYGCQEGgMP4yxc6CgkBBoCBQECg4
agQLCgIFgYJAwaPnYEFBoCBQECgIFDx6DhYUBAoCBYGCo0awoCBQECgIFHyTDhYUBAoCBYGCQGGu
N6hWFhQECgIFgYL7oGBBQaAgUBAouA8KFhQECgIFgYJAwVEjWFAQKAgUBArzXNqvLCgIFAQKAgWB
wtzjwmxjQUGgIFAQKHg/KFhQECgIFAQK/gpesKAgUBAoCBQECv4KXrCgIFAQKAgUPHoOFhQECgIF
gYKXOIMFBYGCQEGgIFDwC3XBgoJAQaAgUHDUCBYUBAoCBYGCQMFbrsGCgkBBoCBQ8JZrsKAgUBAo
CBR8kw4WFAQKAgWBgkDBW67BgoJAQaAgUPD3g4IFBYGCQEGg4D4oWFAQKAgUBAoCBY+egwUFgYJA
QaDgqBEsKAgUBAoCBYGCo0awoCBQECgIFBw1ggUFgYJAQaDgQzpYUBAoCBQECgIF90HBgoJAQaAg
UHDUCBYUBAoCBYGCb9LBgoJAQaAgUBAoOGoECwoCBYGCQMHfDwoWFAQKAgWBgkDB/+0TLCgIFAQK
AgX3QcGCgkBBoCBQmHd8Sm8sKAgUBAoCBYGCo0awoCBQECgIFDx6DhYUBAoCBYGCJ6vBgoJAQaAg
UBAouA8KFhQECgIFgYJHz8GCgkBBoCBQECg4agQLCgIFgYJAwR9YChYUBAoCBYHCXC8IrSwoCBQE
CgIFgYIXqIIFBYGCQEGgMM9RY2VBQaAgUBAo+CYdLCgIFAQKAgWBgqcawYKCQEGgIFDwflCwoCBQ
ECgIFAQKc/1C3cqCgkBBoCBQcB8ULCgIFAQKAgV/miJYUBAoCBQECgIFL1AFCwoCBYGCQMGlfbCg
IFAQKAgU3AcFCwoCBYGCQEGgMPe4EdpYUBAoCBQECu6DggUFgYJAQaAgUPCvWLCgIFAQKAgUPNUI
FhQECgIFgYJL+2BBQaAgUBAoCBTmfhw1NhYUBAoCBYGCo0awoCBQECgIFOb5kF5ZUBAoCBQECgIF
R41gQUGgIFAQKMz9+JDeWFAQKAgUBAoCBUeNYEFBoCBQECh4qhEsKAgUBAoCBd+kgwUFgYJAQaAg
UPCvWLCgIFAQKAgUPHoOFhQECgIFgcK88+fbP8NPs6AgUBAoCBQECu6DggUFgYJAQaDg/aBgQUGg
IFAQKAgU5j4XZhsLCgIFgYJAwVEjWFAQKAgUBApzPXpeWVAQKAgUBAoCBUeNYEFBoCBQECg4agQL
CgIFgYJAYd7zTXpjQUGgIFAQKAgU3AcFCwoCBYGCQMFLnMGCgkBBoCBQECg4agQLCgIFgYJAYZ6j
xsqCgkBBoCBQ8E06WFAQKAgUBAoChbleoFpZUBAoCBQECv7gdrCgIFAQKAgU/CpCsKAgUBAoCBQE
Cp5qBAsKAgWBgkDBUSNYUBAoCBQECgIF/4oFCwoCBYGCQMGj52BBQaAgUBAo+CYdLCgIFAQKAgWB
whyPnlcWFAQKAgWBgqNGsKAgUBAoCBS8xBksKAgUBAoCBYHCHEeNlQUFgYJAQaDg/aBgQUGgIFAQ
KAgUPHoOFhQECgIFgYL7oGBBQaAgUBAozDvv2z/DT7OgIFAQKAgUBArug4IFBYGCQEGgMMdRY2VB
QaAgUBAo/AdhU+3PqlcPeQAAAABJRU5ErkJggg==
" transform="translate(2161, 47)"></image></g><path clip-path="url(#clip230)" d="M2280.7 1233.86 Q2277.09 1233.86 2275.26 1237.42 Q2273.45 1240.96 2273.45 1248.09 Q2273.45 1255.2 2275.26 1258.76 Q2277.09 1262.31 2280.7 1262.31 Q2284.33 1262.31 2286.14 1258.76 Q2287.97 1255.2 2287.97 1248.09 Q2287.97 1240.96 2286.14 1237.42 Q2284.33 1233.86 2280.7 1233.86 M2280.7 1230.15 Q2286.51 1230.15 2289.57 1234.76 Q2292.64 1239.34 2292.64 1248.09 Q2292.64 1256.82 2289.57 1261.43 Q2286.51 1266.01 2280.7 1266.01 Q2274.89 1266.01 2271.81 1261.43 Q2268.76 1256.82 2268.76 1248.09 Q2268.76 1239.34 2271.81 1234.76 Q2274.89 1230.15 2280.7 1230.15 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip230)" d="M2300.86 1259.46 L2305.75 1259.46 L2305.75 1265.34 L2300.86 1265.34 L2300.86 1259.46 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip230)" d="M2316.74 1261.4 L2324.38 1261.4 L2324.38 1235.04 L2316.07 1236.7 L2316.07 1232.44 L2324.33 1230.78 L2329.01 1230.78 L2329.01 1261.4 L2336.65 1261.4 L2336.65 1265.34 L2316.74 1265.34 L2316.74 1261.4 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip230)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="2232.76,1251.69 2256.76,1251.69 "></polyline><path clip-path="url(#clip230)" d="M2280.7 1060.82 Q2277.09 1060.82 2275.26 1064.38 Q2273.45 1067.92 2273.45 1075.05 Q2273.45 1082.16 2275.26 1085.72 Q2277.09 1089.26 2280.7 1089.26 Q2284.33 1089.26 2286.14 1085.72 Q2287.97 1082.16 2287.97 1075.05 Q2287.97 1067.92 2286.14 1064.38 Q2284.33 1060.82 2280.7 1060.82 M2280.7 1057.11 Q2286.51 1057.11 2289.57 1061.72 Q2292.64 1066.3 2292.64 1075.05 Q2292.64 1083.78 2289.57 1088.38 Q2286.51 1092.97 2280.7 1092.97 Q2274.89 1092.97 2271.81 1088.38 Q2268.76 1083.78 2268.76 1075.05 Q2268.76 1066.3 2271.81 1061.72 Q2274.89 1057.11 2280.7 1057.11 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip230)" d="M2300.86 1086.42 L2305.75 1086.42 L2305.75 1092.3 L2300.86 1092.3 L2300.86 1086.42 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip230)" d="M2319.96 1088.36 L2336.28 1088.36 L2336.28 1092.3 L2314.33 1092.3 L2314.33 1088.36 Q2317 1085.61 2321.58 1080.98 Q2326.19 1076.32 2327.37 1074.98 Q2329.61 1072.46 2330.49 1070.72 Q2331.39 1068.96 2331.39 1067.27 Q2331.39 1064.52 2329.45 1062.78 Q2327.53 1061.05 2324.43 1061.05 Q2322.23 1061.05 2319.77 1061.81 Q2317.34 1062.57 2314.57 1064.13 L2314.57 1059.4 Q2317.39 1058.27 2319.84 1057.69 Q2322.3 1057.11 2324.33 1057.11 Q2329.7 1057.11 2332.9 1059.8 Q2336.09 1062.48 2336.09 1066.97 Q2336.09 1069.1 2335.28 1071.02 Q2334.5 1072.92 2332.39 1075.51 Q2331.81 1076.19 2328.71 1079.4 Q2325.61 1082.6 2319.96 1088.36 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip230)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="2232.76,1078.65 2256.76,1078.65 "></polyline><path clip-path="url(#clip230)" d="M2280.7 887.774 Q2277.09 887.774 2275.26 891.339 Q2273.45 894.881 2273.45 902.01 Q2273.45 909.117 2275.26 912.681 Q2277.09 916.223 2280.7 916.223 Q2284.33 916.223 2286.14 912.681 Q2287.97 909.117 2287.97 902.01 Q2287.97 894.881 2286.14 891.339 Q2284.33 887.774 2280.7 887.774 M2280.7 884.071 Q2286.51 884.071 2289.57 888.677 Q2292.64 893.26 2292.64 902.01 Q2292.64 910.737 2289.57 915.344 Q2286.51 919.927 2280.7 919.927 Q2274.89 919.927 2271.81 915.344 Q2268.76 910.737 2268.76 902.01 Q2268.76 893.26 2271.81 888.677 Q2274.89 884.071 2280.7 884.071 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip230)" d="M2300.86 913.376 L2305.75 913.376 L2305.75 919.256 L2300.86 919.256 L2300.86 913.376 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip230)" d="M2330.1 900.621 Q2333.45 901.339 2335.33 903.607 Q2337.23 905.876 2337.23 909.209 Q2337.23 914.325 2333.71 917.126 Q2330.19 919.927 2323.71 919.927 Q2321.53 919.927 2319.22 919.487 Q2316.93 919.07 2314.47 918.214 L2314.47 913.7 Q2316.42 914.834 2318.73 915.413 Q2321.05 915.992 2323.57 915.992 Q2327.97 915.992 2330.26 914.256 Q2332.58 912.519 2332.58 909.209 Q2332.58 906.154 2330.42 904.441 Q2328.29 902.705 2324.47 902.705 L2320.45 902.705 L2320.45 898.862 L2324.66 898.862 Q2328.11 898.862 2329.94 897.496 Q2331.76 896.108 2331.76 893.515 Q2331.76 890.853 2329.87 889.441 Q2327.99 888.006 2324.47 888.006 Q2322.55 888.006 2320.35 888.422 Q2318.15 888.839 2315.51 889.719 L2315.51 885.552 Q2318.18 884.811 2320.49 884.441 Q2322.83 884.071 2324.89 884.071 Q2330.21 884.071 2333.32 886.501 Q2336.42 888.908 2336.42 893.029 Q2336.42 895.899 2334.77 897.89 Q2333.13 899.857 2330.1 900.621 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip230)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="2232.76,905.604 2256.76,905.604 "></polyline><path clip-path="url(#clip230)" d="M2280.7 714.733 Q2277.09 714.733 2275.26 718.298 Q2273.45 721.84 2273.45 728.969 Q2273.45 736.076 2275.26 739.641 Q2277.09 743.182 2280.7 743.182 Q2284.33 743.182 2286.14 739.641 Q2287.97 736.076 2287.97 728.969 Q2287.97 721.84 2286.14 718.298 Q2284.33 714.733 2280.7 714.733 M2280.7 711.03 Q2286.51 711.03 2289.57 715.636 Q2292.64 720.219 2292.64 728.969 Q2292.64 737.696 2289.57 742.303 Q2286.51 746.886 2280.7 746.886 Q2274.89 746.886 2271.81 742.303 Q2268.76 737.696 2268.76 728.969 Q2268.76 720.219 2271.81 715.636 Q2274.89 711.03 2280.7 711.03 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip230)" d="M2300.86 740.335 L2305.75 740.335 L2305.75 746.215 L2300.86 746.215 L2300.86 740.335 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip230)" d="M2328.78 715.729 L2316.97 734.178 L2328.78 734.178 L2328.78 715.729 M2327.55 711.655 L2333.43 711.655 L2333.43 734.178 L2338.36 734.178 L2338.36 738.066 L2333.43 738.066 L2333.43 746.215 L2328.78 746.215 L2328.78 738.066 L2313.18 738.066 L2313.18 733.553 L2327.55 711.655 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip230)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="2232.76,732.563 2256.76,732.563 "></polyline><path clip-path="url(#clip230)" d="M2280.7 541.692 Q2277.09 541.692 2275.26 545.257 Q2273.45 548.799 2273.45 555.928 Q2273.45 563.035 2275.26 566.6 Q2277.09 570.141 2280.7 570.141 Q2284.33 570.141 2286.14 566.6 Q2287.97 563.035 2287.97 555.928 Q2287.97 548.799 2286.14 545.257 Q2284.33 541.692 2280.7 541.692 M2280.7 537.989 Q2286.51 537.989 2289.57 542.595 Q2292.64 547.178 2292.64 555.928 Q2292.64 564.655 2289.57 569.262 Q2286.51 573.845 2280.7 573.845 Q2274.89 573.845 2271.81 569.262 Q2268.76 564.655 2268.76 555.928 Q2268.76 547.178 2271.81 542.595 Q2274.89 537.989 2280.7 537.989 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip230)" d="M2300.86 567.294 L2305.75 567.294 L2305.75 573.174 L2300.86 573.174 L2300.86 567.294 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip230)" d="M2315.98 538.614 L2334.33 538.614 L2334.33 542.549 L2320.26 542.549 L2320.26 551.021 Q2321.28 550.674 2322.3 550.512 Q2323.32 550.326 2324.33 550.326 Q2330.12 550.326 2333.5 553.498 Q2336.88 556.669 2336.88 562.086 Q2336.88 567.664 2333.41 570.766 Q2329.94 573.845 2323.62 573.845 Q2321.44 573.845 2319.17 573.474 Q2316.93 573.104 2314.52 572.363 L2314.52 567.664 Q2316.6 568.799 2318.83 569.354 Q2321.05 569.91 2323.52 569.91 Q2327.53 569.91 2329.87 567.803 Q2332.2 565.697 2332.2 562.086 Q2332.2 558.475 2329.87 556.368 Q2327.53 554.262 2323.52 554.262 Q2321.65 554.262 2319.77 554.678 Q2317.92 555.095 2315.98 555.975 L2315.98 538.614 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip230)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="2232.76,559.522 2256.76,559.522 "></polyline><path clip-path="url(#clip230)" d="M2280.7 368.651 Q2277.09 368.651 2275.26 372.216 Q2273.45 375.758 2273.45 382.887 Q2273.45 389.994 2275.26 393.559 Q2277.09 397.1 2280.7 397.1 Q2284.33 397.1 2286.14 393.559 Q2287.97 389.994 2287.97 382.887 Q2287.97 375.758 2286.14 372.216 Q2284.33 368.651 2280.7 368.651 M2280.7 364.948 Q2286.51 364.948 2289.57 369.554 Q2292.64 374.137 2292.64 382.887 Q2292.64 391.614 2289.57 396.221 Q2286.51 400.804 2280.7 400.804 Q2274.89 400.804 2271.81 396.221 Q2268.76 391.614 2268.76 382.887 Q2268.76 374.137 2271.81 369.554 Q2274.89 364.948 2280.7 364.948 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip230)" d="M2300.86 394.253 L2305.75 394.253 L2305.75 400.133 L2300.86 400.133 L2300.86 394.253 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip230)" d="M2326.51 380.989 Q2323.36 380.989 2321.51 383.142 Q2319.68 385.295 2319.68 389.045 Q2319.68 392.772 2321.51 394.947 Q2323.36 397.1 2326.51 397.1 Q2329.66 397.1 2331.49 394.947 Q2333.34 392.772 2333.34 389.045 Q2333.34 385.295 2331.49 383.142 Q2329.66 380.989 2326.51 380.989 M2335.79 366.336 L2335.79 370.596 Q2334.03 369.762 2332.23 369.323 Q2330.45 368.883 2328.69 368.883 Q2324.06 368.883 2321.6 372.008 Q2319.17 375.133 2318.83 381.452 Q2320.19 379.438 2322.25 378.373 Q2324.31 377.285 2326.79 377.285 Q2332 377.285 2335.01 380.457 Q2338.04 383.605 2338.04 389.045 Q2338.04 394.369 2334.89 397.586 Q2331.74 400.804 2326.51 400.804 Q2320.51 400.804 2317.34 396.221 Q2314.17 391.614 2314.17 382.887 Q2314.17 374.693 2318.06 369.832 Q2321.95 364.948 2328.5 364.948 Q2330.26 364.948 2332.04 365.295 Q2333.85 365.642 2335.79 366.336 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip230)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="2232.76,386.481 2256.76,386.481 "></polyline><path clip-path="url(#clip230)" d="M2280.7 195.61 Q2277.09 195.61 2275.26 199.175 Q2273.45 202.717 2273.45 209.846 Q2273.45 216.953 2275.26 220.518 Q2277.09 224.059 2280.7 224.059 Q2284.33 224.059 2286.14 220.518 Q2287.97 216.953 2287.97 209.846 Q2287.97 202.717 2286.14 199.175 Q2284.33 195.61 2280.7 195.61 M2280.7 191.907 Q2286.51 191.907 2289.57 196.513 Q2292.64 201.096 2292.64 209.846 Q2292.64 218.573 2289.57 223.18 Q2286.51 227.763 2280.7 227.763 Q2274.89 227.763 2271.81 223.18 Q2268.76 218.573 2268.76 209.846 Q2268.76 201.096 2271.81 196.513 Q2274.89 191.907 2280.7 191.907 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip230)" d="M2300.86 221.212 L2305.75 221.212 L2305.75 227.092 L2300.86 227.092 L2300.86 221.212 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip230)" d="M2314.75 192.532 L2336.97 192.532 L2336.97 194.522 L2324.43 227.092 L2319.54 227.092 L2331.35 196.467 L2314.75 196.467 L2314.75 192.532 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip230)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="2232.76,213.44 2256.76,213.44 "></polyline><polyline clip-path="url(#clip230)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="2232.76,1423.18 2232.76,47.2441 "></polyline></svg><h2 id="Summary" tabindex="-1">Summary <a class="header-anchor" href="#Summary" aria-label="Permalink to &quot;Summary {#Summary}&quot;">​</a></h2><p>When predicting a token, if not all the input tokens are relevant, the RNN encoder–decoder with the Bahdanau attention mechanism selectively aggregates different parts of the input sequence. This is achieved by treating the state (context variable) as an output of additive attention pooling. In the RNN encoder–decoder, the Bahdanau attention mechanism treats the decoder hidden state at the previous time step as the query, and the encoder hidden states at all the time steps as both the keys and values.</p><h2 id="Exercises" tabindex="-1">Exercises <a class="header-anchor" href="#Exercises" aria-label="Permalink to &quot;Exercises {#Exercises}&quot;">​</a></h2><ol><li><p>Replace GRU with LSTM in the experiment.</p></li><li><p>Modify the experiment to replace the additive attention scoring function with the scaled dot-product. How does it influence the training efficiency?</p></li></ol><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"></span></code></pre></div><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"></span></code></pre></div>`,31))])}const G=n(h,[["render",Z]]);export{q as __pageData,G as default};
