import{_ as i,c as s,o as e,j as A,aA as l,a}from"./chunks/framework.DjA5121Y.js";const Q="/d2l-julia/previews/PR1/assets/attention-output.M0vp1OKa.svg",H1=JSON.parse('{"title":"Attention Scoring Functions","description":"","frontmatter":{},"headers":[],"relativePath":"CH10.Attention_Mechanisms_and_Transformers/ATTN_3.md","filePath":"CH10.Attention_Mechanisms_and_Transformers/ATTN_3.md","lastUpdated":null}'),n={name:"CH10.Attention_Mechanisms_and_Transformers/ATTN_3.md"},o={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},T={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.023ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.197ex",height:"1.02ex",role:"img",focusable:"false",viewBox:"0 -441 529 451","aria-hidden":"true"},r={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},d={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.156ex",height:"1.025ex",role:"img",focusable:"false",viewBox:"0 -442 511 453","aria-hidden":"true"},p={class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},h={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.552ex"},xmlns:"http://www.w3.org/2000/svg",width:"52.192ex",height:"4.588ex",role:"img",focusable:"false",viewBox:"0 -1342 23068.7 2028","aria-hidden":"true"},g={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},m={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.373ex",height:"1.457ex",role:"img",focusable:"false",viewBox:"0 -450 607 644","aria-hidden":"true"},k={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},c={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"6.253ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 2763.6 1000","aria-hidden":"true"},u={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},w={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"0"},xmlns:"http://www.w3.org/2000/svg",width:"1.131ex",height:"1.507ex",role:"img",focusable:"false",viewBox:"0 -666 500 666","aria-hidden":"true"},L={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},C={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.375ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 1934 1000","aria-hidden":"true"},B={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},x={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.113ex",height:"1.927ex",role:"img",focusable:"false",viewBox:"0 -694 934 851.8","aria-hidden":"true"},E={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},H={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.023ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.197ex",height:"1.02ex",role:"img",focusable:"false",viewBox:"0 -441 529 451","aria-hidden":"true"},y={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},f={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"6.792ex",height:"2.37ex",role:"img",focusable:"false",viewBox:"0 -853.7 3002.3 1047.7","aria-hidden":"true"},I={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},V={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"7.532ex",height:"2.288ex",role:"img",focusable:"false",viewBox:"0 -853.7 3329.2 1011.5","aria-hidden":"true"},F={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},M={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.023ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.176ex",height:"1.593ex",role:"img",focusable:"false",viewBox:"0 -694 520 704","aria-hidden":"true"},D={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},v={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"0"},xmlns:"http://www.w3.org/2000/svg",width:"1.131ex",height:"1.507ex",role:"img",focusable:"false",viewBox:"0 -666 500 666","aria-hidden":"true"},b={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Z={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.369ex",height:"2.759ex",role:"img",focusable:"false",viewBox:"0 -969.5 2373 1219.5","aria-hidden":"true"},_={class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},j={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"20.252ex",height:"2.867ex",role:"img",focusable:"false",viewBox:"0 -1017.3 8951.3 1267.3","aria-hidden":"true"},R={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Y={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.448ex",height:"1.025ex",role:"img",focusable:"false",viewBox:"0 -442 640 453","aria-hidden":"true"},U={class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},S={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-3.075ex"},xmlns:"http://www.w3.org/2000/svg",width:"52.512ex",height:"6.875ex",role:"img",focusable:"false",viewBox:"0 -1679.5 23210.5 3038.6","aria-hidden":"true"},X={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},O={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.777ex"},xmlns:"http://www.w3.org/2000/svg",width:"15.364ex",height:"2.563ex",role:"img",focusable:"false",viewBox:"0 -789.6 6790.9 1132.9","aria-hidden":"true"},G={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},K={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.777ex"},xmlns:"http://www.w3.org/2000/svg",width:"15.364ex",height:"2.966ex",role:"img",focusable:"false",viewBox:"0 -967.8 6790.9 1311.1","aria-hidden":"true"},P={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},N={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.312ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.049ex",height:"1.882ex",role:"img",focusable:"false",viewBox:"0 -694 2231.6 832","aria-hidden":"true"},z={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},q={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.113ex",height:"1.361ex",role:"img",focusable:"false",viewBox:"0 -444 934 601.8","aria-hidden":"true"},J={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},W={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.09ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.472ex",height:"1.661ex",role:"img",focusable:"false",viewBox:"0 -694 1976.6 734","aria-hidden":"true"},$={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},AA={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.186ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.01ex",height:"2.14ex",role:"img",focusable:"false",viewBox:"0 -864 2214.6 946","aria-hidden":"true"},tA={class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},aA={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"63.482ex",height:"2.61ex",role:"img",focusable:"false",viewBox:"0 -903.7 28058.9 1153.7","aria-hidden":"true"},sA={class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},eA={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"51.262ex",height:"2.285ex",role:"img",focusable:"false",viewBox:"0 -760.2 22657.9 1010.2","aria-hidden":"true"},lA={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},iA={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.023ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.176ex",height:"1.593ex",role:"img",focusable:"false",viewBox:"0 -694 520 704","aria-hidden":"true"},QA={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},nA={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.179ex",height:"2.329ex",role:"img",focusable:"false",viewBox:"0 -835.3 1847.1 1029.3","aria-hidden":"true"},oA={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},TA={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"6.65ex",height:"2.329ex",role:"img",focusable:"false",viewBox:"0 -835.3 2939.1 1029.3","aria-hidden":"true"},rA={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},dA={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"0"},xmlns:"http://www.w3.org/2000/svg",width:"2.471ex",height:"1.552ex",role:"img",focusable:"false",viewBox:"0 -686 1092 686","aria-hidden":"true"},pA={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},hA={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.357ex",height:"1.025ex",role:"img",focusable:"false",viewBox:"0 -442 600 453","aria-hidden":"true"},gA={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},mA={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.986ex",height:"1.025ex",role:"img",focusable:"false",viewBox:"0 -442 878 453","aria-hidden":"true"},kA={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},cA={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.023ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.176ex",height:"1.593ex",role:"img",focusable:"false",viewBox:"0 -694 520 704","aria-hidden":"true"},uA={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},wA={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.097ex",height:"1.027ex",role:"img",focusable:"false",viewBox:"0 -443 485 454","aria-hidden":"true"},LA={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},CA={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.437ex"},xmlns:"http://www.w3.org/2000/svg",width:"9.578ex",height:"2.368ex",role:"img",focusable:"false",viewBox:"0 -853.7 4233.6 1046.7","aria-hidden":"true"},BA={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},xA={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.09ex"},xmlns:"http://www.w3.org/2000/svg",width:"10.107ex",height:"2.022ex",role:"img",focusable:"false",viewBox:"0 -853.7 4467.2 893.7","aria-hidden":"true"},EA={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},HA={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.09ex"},xmlns:"http://www.w3.org/2000/svg",width:"9.978ex",height:"1.697ex",role:"img",focusable:"false",viewBox:"0 -710.2 4410.5 750.2","aria-hidden":"true"},yA={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},fA={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"0"},xmlns:"http://www.w3.org/2000/svg",width:"1.131ex",height:"1.507ex",role:"img",focusable:"false",viewBox:"0 -666 500 666","aria-hidden":"true"},IA={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},VA={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.05ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.262ex",height:"1.557ex",role:"img",focusable:"false",viewBox:"0 -666 1000 688","aria-hidden":"true"},FA={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},MA={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"0"},xmlns:"http://www.w3.org/2000/svg",width:"1.131ex",height:"1.532ex",role:"img",focusable:"false",viewBox:"0 -677 500 677","aria-hidden":"true"},DA={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},vA={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"0"},xmlns:"http://www.w3.org/2000/svg",width:"1.131ex",height:"1.507ex",role:"img",focusable:"false",viewBox:"0 -666 500 666","aria-hidden":"true"},bA={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},ZA={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.05ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.131ex",height:"1.557ex",role:"img",focusable:"false",viewBox:"0 -666 500 688","aria-hidden":"true"},_A={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},jA={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"0"},xmlns:"http://www.w3.org/2000/svg",width:"8.925ex",height:"1.532ex",role:"img",focusable:"false",viewBox:"0 -677 3944.9 677","aria-hidden":"true"},RA={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},YA={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.373ex",height:"1.457ex",role:"img",focusable:"false",viewBox:"0 -450 607 644","aria-hidden":"true"},UA={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},SA={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"0"},xmlns:"http://www.w3.org/2000/svg",width:"1.373ex",height:"1.57ex",role:"img",focusable:"false",viewBox:"0 -694 607 694","aria-hidden":"true"},XA={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},OA={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"6.65ex",height:"2.329ex",role:"img",focusable:"false",viewBox:"0 -835.3 2939.1 1029.3","aria-hidden":"true"},GA={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},KA={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"6.696ex",height:"1.984ex",role:"img",focusable:"false",viewBox:"0 -683 2959.8 877","aria-hidden":"true"},PA={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},NA={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.09ex"},xmlns:"http://www.w3.org/2000/svg",width:"6.794ex",height:"2.022ex",role:"img",focusable:"false",viewBox:"0 -853.7 3003 893.7","aria-hidden":"true"},zA={class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},qA={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.65ex"},xmlns:"http://www.w3.org/2000/svg",width:"37.192ex",height:"2.653ex",role:"img",focusable:"false",viewBox:"0 -885.3 16439 1172.5","aria-hidden":"true"},JA={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},WA={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.65ex"},xmlns:"http://www.w3.org/2000/svg",width:"11.103ex",height:"2.581ex",role:"img",focusable:"false",viewBox:"0 -853.7 4907.5 1140.9","aria-hidden":"true"},$A={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},A1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"11.298ex",height:"2.288ex",role:"img",focusable:"false",viewBox:"0 -853.7 4993.8 1011.5","aria-hidden":"true"},t1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},a1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"8.352ex",height:"2.288ex",role:"img",focusable:"false",viewBox:"0 -853.7 3691.8 1011.5","aria-hidden":"true"},s1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},e1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.527ex",height:"1.595ex",role:"img",focusable:"false",viewBox:"0 -694 2001 705","aria-hidden":"true"},l1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},i1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"8.297ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 3667.3 1000","aria-hidden":"true"},Q1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},n1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"8.297ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 3667.3 1000","aria-hidden":"true"},o1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},T1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"8.297ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 3667.3 1000","aria-hidden":"true"},r1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},d1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.05ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.262ex",height:"1.557ex",role:"img",focusable:"false",viewBox:"0 -666 1000 688","aria-hidden":"true"},p1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},h1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.029ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 2222.7 1000","aria-hidden":"true"},g1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},m1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.029ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 2222.7 1000","aria-hidden":"true"},k1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},c1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.363ex",height:"2.452ex",role:"img",focusable:"false",viewBox:"0 -833.9 2370.5 1083.9","aria-hidden":"true"};function u1(w1,t,L1,C1,B1,x1){return e(),s("div",null,[t[225]||(t[225]=A("h1",{id:"Attention-Scoring-Functions",tabindex:"-1"},[a("Attention Scoring Functions "),A("a",{class:"header-anchor",href:"#Attention-Scoring-Functions","aria-label":'Permalink to "Attention Scoring Functions {#Attention-Scoring-Functions}"'},"​")],-1)),A("p",null,[t[2]||(t[2]=a("In :numref:")),t[3]||(t[3]=A("code",null,"sec_attention-pooling",-1)),t[4]||(t[4]=a(", we used a number of different distance-based kernels, including a Gaussian kernel to model interactions between queries and keys. As it turns out, distance functions are slightly more expensive to compute than dot products. As such, with the softmax operation to ensure nonnegative attention weights, much of the work has gone into ")),t[5]||(t[5]=A("em",null,"attention scoring functions",-1)),t[6]||(t[6]=a()),A("mjx-container",o,[(e(),s("svg",T,t[0]||(t[0]=[A("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[A("g",{"data-mml-node":"math"},[A("g",{"data-mml-node":"mi"},[A("path",{"data-c":"1D44E",d:"M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z",style:{"stroke-width":"3"}})])])],-1)]))),t[1]||(t[1]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("mi",null,"a")])],-1))]),t[7]||(t[7]=a(" in :eqref:")),t[8]||(t[8]=A("code",null,"eq_softmax_attention",-1)),t[9]||(t[9]=a(" and ")),t[10]||(t[10]=A("a",{href:"/d2l-julia/previews/PR1/CH10.Attention_Mechanisms_and_Transformers/ATTN_3#fig_attention_output"},"Figure",-1)),t[11]||(t[11]=a(" that are simpler to compute. ")),t[12]||(t[12]=A("img",{src:Q,id:"fig_attention_output"},null,-1))]),A("p",null,[A("em",null,[t[15]||(t[15]=a("Computing the output of attention pooling as a weighted average of values, where weights are computed with the attention scoring function ")),A("mjx-container",r,[(e(),s("svg",d,t[13]||(t[13]=[l('<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="61" d="M418 53Q418 26 438 26Q466 26 494 131Q500 151 504 152Q507 153 516 153H521Q531 153 534 153T540 150T543 144Q543 141 540 126T529 88T509 43T477 5T434 -11Q404 -11 383 3T354 30T347 48H346Q345 47 342 45T337 40Q282 -11 228 -11Q172 -11 137 34T101 146Q101 260 177 351T333 442Q343 442 352 441T369 437T382 431T393 425T402 417T409 410T414 402T419 396Q423 406 436 414T461 422Q475 422 484 413T494 395Q494 384 459 244T420 88Q418 80 418 58V53ZM397 323Q397 344 382 374T333 405Q302 405 271 372Q249 349 235 316T203 215Q184 135 184 108V100V94Q184 54 207 35Q218 26 235 26Q279 26 330 91Q343 109 346 118T372 217Q397 317 397 323Z" style="stroke-width:3;"></path></g></g></g></g>',1)]))),t[14]||(t[14]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{"data-mjx-variant":"-tex-mathit",mathvariant:"italic"},"a")])])],-1))]),t[16]||(t[16]=a(" and the softmax operation."))])]),t[226]||(t[226]=l(`<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Pkg; Pkg</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">activate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;../../d2lai&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d2lai</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Flux </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Downloads</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> StatsBase</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Plots</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> CUDA, cuDNN</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>  Activating project at \`/workspace/workspace/d2l-julia/d2lai\`</span></span></code></pre></div><h2 id="Dot-Product-Attention" tabindex="-1">Dot Product Attention <a class="header-anchor" href="#Dot-Product-Attention" aria-label="Permalink to &quot;Dot Product Attention {#Dot-Product-Attention}&quot;">​</a></h2><p>Let&#39;s review the attention function (without exponentiation) from the Gaussian kernel for a moment:</p>`,4)),A("mjx-container",p,[(e(),s("svg",h,t[17]||(t[17]=[l('<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(529,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" style="stroke-width:3;"></path></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(918,0)"><g data-mml-node="mi"><path data-c="1D42A" d="M38 220Q38 273 54 314T95 380T152 421T211 443T264 449Q368 449 429 386L438 377L484 450H540V-132H609V-194H600Q582 -191 475 -191Q360 -191 351 -194H342V-132H411V42Q409 41 399 34T383 25T367 16T347 7T324 1T296 -4T264 -6Q162 -6 100 56T38 220ZM287 46Q368 46 417 127V301L412 312Q398 347 369 371T302 395Q282 395 263 388T225 362T194 308T182 221Q182 126 214 86T287 46Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mo" transform="translate(1525,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" style="stroke-width:3;"></path></g><g data-mml-node="msub" transform="translate(1969.7,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D424" d="M32 686L123 690Q214 694 215 694H221V255L377 382H346V444H355Q370 441 476 441Q544 441 556 444H562V382H476L347 277L515 62H587V0H579Q564 3 476 3Q370 3 352 0H343V62H358L373 63L260 206L237 189L216 172V62H285V0H277Q259 3 157 3Q46 3 37 0H29V62H98V332Q98 387 98 453T99 534Q99 593 97 605T83 620Q69 624 42 624H29V686H32Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mi" transform="translate(640,-150) scale(0.707)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mo" transform="translate(2903.6,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(3570.4,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(4626.2,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" style="stroke-width:3;"></path></g><g data-mml-node="mfrac" transform="translate(5404.2,0)"><g data-mml-node="mn" transform="translate(220,676)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" style="stroke-width:3;"></path></g><g data-mml-node="mn" transform="translate(220,-686)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" style="stroke-width:3;"></path></g><rect width="700" height="60" x="120" y="220"></rect></g><g data-mml-node="mo" transform="translate(6344.2,0)"><path data-c="2225" d="M133 736Q138 750 153 750Q164 750 170 739Q172 735 172 250T170 -239Q164 -250 152 -250Q144 -250 138 -244L137 -243Q133 -241 133 -179T132 250Q132 731 133 736ZM329 739Q334 750 346 750Q353 750 361 744L362 743Q366 741 366 679T367 250T367 -178T362 -243L361 -244Q355 -250 347 -250Q335 -250 329 -239Q327 -235 327 250T329 739Z" style="stroke-width:3;"></path></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(6844.2,0)"><g data-mml-node="mi"><path data-c="1D42A" d="M38 220Q38 273 54 314T95 380T152 421T211 443T264 449Q368 449 429 386L438 377L484 450H540V-132H609V-194H600Q582 -191 475 -191Q360 -191 351 -194H342V-132H411V42Q409 41 399 34T383 25T367 16T347 7T324 1T296 -4T264 -6Q162 -6 100 56T38 220ZM287 46Q368 46 417 127V301L412 312Q398 347 369 371T302 395Q282 395 263 388T225 362T194 308T182 221Q182 126 214 86T287 46Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mo" transform="translate(7673.4,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" style="stroke-width:3;"></path></g><g data-mml-node="msub" transform="translate(8673.6,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D424" d="M32 686L123 690Q214 694 215 694H221V255L377 382H346V444H355Q370 441 476 441Q544 441 556 444H562V382H476L347 277L515 62H587V0H579Q564 3 476 3Q370 3 352 0H343V62H358L373 63L260 206L237 189L216 172V62H285V0H277Q259 3 157 3Q46 3 37 0H29V62H98V332Q98 387 98 453T99 534Q99 593 97 605T83 620Q69 624 42 624H29V686H32Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mi" transform="translate(640,-150) scale(0.707)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" style="stroke-width:3;"></path></g></g><g data-mml-node="msup" transform="translate(9607.6,0)"><g data-mml-node="mo"><path data-c="2225" d="M133 736Q138 750 153 750Q164 750 170 739Q172 735 172 250T170 -239Q164 -250 152 -250Q144 -250 138 -244L137 -243Q133 -241 133 -179T132 250Q132 731 133 736ZM329 739Q334 750 346 750Q353 750 361 744L362 743Q366 741 366 679T367 250T367 -178T362 -243L361 -244Q355 -250 347 -250Q335 -250 329 -239Q327 -235 327 250T329 739Z" style="stroke-width:3;"></path></g><g data-mml-node="mn" transform="translate(533,413) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mo" transform="translate(10821.9,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" style="stroke-width:3;"></path></g><g data-mml-node="msup" transform="translate(11877.7,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D42A" d="M38 220Q38 273 54 314T95 380T152 421T211 443T264 449Q368 449 429 386L438 377L484 450H540V-132H609V-194H600Q582 -191 475 -191Q360 -191 351 -194H342V-132H411V42Q409 41 399 34T383 25T367 16T347 7T324 1T296 -4T264 -6Q162 -6 100 56T38 220ZM287 46Q368 46 417 127V301L412 312Q398 347 369 371T302 395Q282 395 263 388T225 362T194 308T182 221Q182 126 214 86T287 46Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mi" transform="translate(640,413) scale(0.707)"><path data-c="22A4" d="M55 642T55 648T59 659T66 666T71 668H708Q723 660 723 648T708 628H409V15Q402 2 391 0Q387 0 384 1T379 3T375 6T373 9T371 13T369 16V628H71Q70 628 67 630T59 637Z" style="stroke-width:3;"></path></g></g><g data-mml-node="msub" transform="translate(13117.8,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D424" d="M32 686L123 690Q214 694 215 694H221V255L377 382H346V444H355Q370 441 476 441Q544 441 556 444H562V382H476L347 277L515 62H587V0H579Q564 3 476 3Q370 3 352 0H343V62H358L373 63L260 206L237 189L216 172V62H285V0H277Q259 3 157 3Q46 3 37 0H29V62H98V332Q98 387 98 453T99 534Q99 593 97 605T83 620Q69 624 42 624H29V686H32Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mi" transform="translate(640,-150) scale(0.707)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mo" transform="translate(14274,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" style="stroke-width:3;"></path></g><g data-mml-node="mfrac" transform="translate(15274.2,0)"><g data-mml-node="mn" transform="translate(220,676)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" style="stroke-width:3;"></path></g><g data-mml-node="mn" transform="translate(220,-686)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" style="stroke-width:3;"></path></g><rect width="700" height="60" x="120" y="220"></rect></g><g data-mml-node="mo" transform="translate(16214.2,0)"><path data-c="2225" d="M133 736Q138 750 153 750Q164 750 170 739Q172 735 172 250T170 -239Q164 -250 152 -250Q144 -250 138 -244L137 -243Q133 -241 133 -179T132 250Q132 731 133 736ZM329 739Q334 750 346 750Q353 750 361 744L362 743Q366 741 366 679T367 250T367 -178T362 -243L361 -244Q355 -250 347 -250Q335 -250 329 -239Q327 -235 327 250T329 739Z" style="stroke-width:3;"></path></g><g data-mml-node="msub" transform="translate(16714.2,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D424" d="M32 686L123 690Q214 694 215 694H221V255L377 382H346V444H355Q370 441 476 441Q544 441 556 444H562V382H476L347 277L515 62H587V0H579Q564 3 476 3Q370 3 352 0H343V62H358L373 63L260 206L237 189L216 172V62H285V0H277Q259 3 157 3Q46 3 37 0H29V62H98V332Q98 387 98 453T99 534Q99 593 97 605T83 620Q69 624 42 624H29V686H32Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mi" transform="translate(640,-150) scale(0.707)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" style="stroke-width:3;"></path></g></g><g data-mml-node="msup" transform="translate(17648.2,0)"><g data-mml-node="mo"><path data-c="2225" d="M133 736Q138 750 153 750Q164 750 170 739Q172 735 172 250T170 -239Q164 -250 152 -250Q144 -250 138 -244L137 -243Q133 -241 133 -179T132 250Q132 731 133 736ZM329 739Q334 750 346 750Q353 750 361 744L362 743Q366 741 366 679T367 250T367 -178T362 -243L361 -244Q355 -250 347 -250Q335 -250 329 -239Q327 -235 327 250T329 739Z" style="stroke-width:3;"></path></g><g data-mml-node="mn" transform="translate(533,413) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mo" transform="translate(18806.9,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" style="stroke-width:3;"></path></g><g data-mml-node="mfrac" transform="translate(19807.2,0)"><g data-mml-node="mn" transform="translate(220,676)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" style="stroke-width:3;"></path></g><g data-mml-node="mn" transform="translate(220,-686)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" style="stroke-width:3;"></path></g><rect width="700" height="60" x="120" y="220"></rect></g><g data-mml-node="mo" transform="translate(20747.2,0)"><path data-c="2225" d="M133 736Q138 750 153 750Q164 750 170 739Q172 735 172 250T170 -239Q164 -250 152 -250Q144 -250 138 -244L137 -243Q133 -241 133 -179T132 250Q132 731 133 736ZM329 739Q334 750 346 750Q353 750 361 744L362 743Q366 741 366 679T367 250T367 -178T362 -243L361 -244Q355 -250 347 -250Q335 -250 329 -239Q327 -235 327 250T329 739Z" style="stroke-width:3;"></path></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(21247.2,0)"><g data-mml-node="mi"><path data-c="1D42A" d="M38 220Q38 273 54 314T95 380T152 421T211 443T264 449Q368 449 429 386L438 377L484 450H540V-132H609V-194H600Q582 -191 475 -191Q360 -191 351 -194H342V-132H411V42Q409 41 399 34T383 25T367 16T347 7T324 1T296 -4T264 -6Q162 -6 100 56T38 220ZM287 46Q368 46 417 127V301L412 312Q398 347 369 371T302 395Q282 395 263 388T225 362T194 308T182 221Q182 126 214 86T287 46Z" style="stroke-width:3;"></path></g></g><g data-mml-node="msup" transform="translate(21854.2,0)"><g data-mml-node="mo"><path data-c="2225" d="M133 736Q138 750 153 750Q164 750 170 739Q172 735 172 250T170 -239Q164 -250 152 -250Q144 -250 138 -244L137 -243Q133 -241 133 -179T132 250Q132 731 133 736ZM329 739Q334 750 346 750Q353 750 361 744L362 743Q366 741 366 679T367 250T367 -178T362 -243L361 -244Q355 -250 347 -250Q335 -250 329 -239Q327 -235 327 250T329 739Z" style="stroke-width:3;"></path></g><g data-mml-node="mn" transform="translate(533,413) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mo" transform="translate(22790.7,0)"><path data-c="2E" d="M78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0T96 17T78 60Z" style="stroke-width:3;"></path></g></g></g>',1)]))),t[18]||(t[18]=A("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[A("mi",null,"a"),A("mo",{stretchy:"false"},"("),A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"q")]),A("mo",null,","),A("msub",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"k")]),A("mi",null,"i")]),A("mo",{stretchy:"false"},")"),A("mo",null,"="),A("mo",null,"−"),A("mfrac",null,[A("mn",null,"1"),A("mn",null,"2")]),A("mo",{"data-mjx-texclass":"ORD"},"∥"),A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"q")]),A("mo",null,"−"),A("msub",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"k")]),A("mi",null,"i")]),A("msup",null,[A("mo",{"data-mjx-texclass":"ORD"},"∥"),A("mn",null,"2")]),A("mo",null,"="),A("msup",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"q")]),A("mi",{mathvariant:"normal"},"⊤")]),A("msub",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"k")]),A("mi",null,"i")]),A("mo",null,"−"),A("mfrac",null,[A("mn",null,"1"),A("mn",null,"2")]),A("mo",{"data-mjx-texclass":"ORD"},"∥"),A("msub",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"k")]),A("mi",null,"i")]),A("msup",null,[A("mo",{"data-mjx-texclass":"ORD"},"∥"),A("mn",null,"2")]),A("mo",null,"−"),A("mfrac",null,[A("mn",null,"1"),A("mn",null,"2")]),A("mo",{"data-mjx-texclass":"ORD"},"∥"),A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"q")]),A("msup",null,[A("mo",{"data-mjx-texclass":"ORD"},"∥"),A("mn",null,"2")]),A("mo",null,".")])],-1))]),A("p",null,[t[31]||(t[31]=a("First, note that the final term depends on ")),A("mjx-container",g,[(e(),s("svg",m,t[19]||(t[19]=[l('<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D42A" d="M38 220Q38 273 54 314T95 380T152 421T211 443T264 449Q368 449 429 386L438 377L484 450H540V-132H609V-194H600Q582 -191 475 -191Q360 -191 351 -194H342V-132H411V42Q409 41 399 34T383 25T367 16T347 7T324 1T296 -4T264 -6Q162 -6 100 56T38 220ZM287 46Q368 46 417 127V301L412 312Q398 347 369 371T302 395Q282 395 263 388T225 362T194 308T182 221Q182 126 214 86T287 46Z" style="stroke-width:3;"></path></g></g></g></g>',1)]))),t[20]||(t[20]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"q")])])],-1))]),t[32]||(t[32]=a(" only. As such it is identical for all ")),A("mjx-container",k,[(e(),s("svg",c,t[21]||(t[21]=[l('<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" style="stroke-width:3;"></path></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(389,0)"><g data-mml-node="mi"><path data-c="1D42A" d="M38 220Q38 273 54 314T95 380T152 421T211 443T264 449Q368 449 429 386L438 377L484 450H540V-132H609V-194H600Q582 -191 475 -191Q360 -191 351 -194H342V-132H411V42Q409 41 399 34T383 25T367 16T347 7T324 1T296 -4T264 -6Q162 -6 100 56T38 220ZM287 46Q368 46 417 127V301L412 312Q398 347 369 371T302 395Q282 395 263 388T225 362T194 308T182 221Q182 126 214 86T287 46Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mo" transform="translate(996,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" style="stroke-width:3;"></path></g><g data-mml-node="msub" transform="translate(1440.7,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D424" d="M32 686L123 690Q214 694 215 694H221V255L377 382H346V444H355Q370 441 476 441Q544 441 556 444H562V382H476L347 277L515 62H587V0H579Q564 3 476 3Q370 3 352 0H343V62H358L373 63L260 206L237 189L216 172V62H285V0H277Q259 3 157 3Q46 3 37 0H29V62H98V332Q98 387 98 453T99 534Q99 593 97 605T83 620Q69 624 42 624H29V686H32Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mi" transform="translate(640,-150) scale(0.707)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mo" transform="translate(2374.6,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" style="stroke-width:3;"></path></g></g></g>',1)]))),t[22]||(t[22]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("mo",{stretchy:"false"},"("),A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"q")]),A("mo",null,","),A("msub",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"k")]),A("mi",null,"i")]),A("mo",{stretchy:"false"},")")])],-1))]),t[33]||(t[33]=a(" pairs. Normalizing the attention weights to ")),A("mjx-container",u,[(e(),s("svg",w,t[23]||(t[23]=[A("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[A("g",{"data-mml-node":"math"},[A("g",{"data-mml-node":"mn"},[A("path",{"data-c":"31",d:"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z",style:{"stroke-width":"3"}})])])],-1)]))),t[24]||(t[24]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("mn",null,"1")])],-1))]),t[34]||(t[34]=a(", as is done in :eqref:")),t[35]||(t[35]=A("code",null,"eq_softmax_attention",-1)),t[36]||(t[36]=a(", ensures that this term disappears entirely. Second, note that both batch and layer normalization (to be discussed later) lead to activations that have well-bounded, and often constant, norms ")),A("mjx-container",L,[(e(),s("svg",C,t[25]||(t[25]=[l('<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2225" d="M133 736Q138 750 153 750Q164 750 170 739Q172 735 172 250T170 -239Q164 -250 152 -250Q144 -250 138 -244L137 -243Q133 -241 133 -179T132 250Q132 731 133 736ZM329 739Q334 750 346 750Q353 750 361 744L362 743Q366 741 366 679T367 250T367 -178T362 -243L361 -244Q355 -250 347 -250Q335 -250 329 -239Q327 -235 327 250T329 739Z" style="stroke-width:3;"></path></g><g data-mml-node="msub" transform="translate(500,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D424" d="M32 686L123 690Q214 694 215 694H221V255L377 382H346V444H355Q370 441 476 441Q544 441 556 444H562V382H476L347 277L515 62H587V0H579Q564 3 476 3Q370 3 352 0H343V62H358L373 63L260 206L237 189L216 172V62H285V0H277Q259 3 157 3Q46 3 37 0H29V62H98V332Q98 387 98 453T99 534Q99 593 97 605T83 620Q69 624 42 624H29V686H32Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mi" transform="translate(640,-150) scale(0.707)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mo" transform="translate(1434,0)"><path data-c="2225" d="M133 736Q138 750 153 750Q164 750 170 739Q172 735 172 250T170 -239Q164 -250 152 -250Q144 -250 138 -244L137 -243Q133 -241 133 -179T132 250Q132 731 133 736ZM329 739Q334 750 346 750Q353 750 361 744L362 743Q366 741 366 679T367 250T367 -178T362 -243L361 -244Q355 -250 347 -250Q335 -250 329 -239Q327 -235 327 250T329 739Z" style="stroke-width:3;"></path></g></g></g>',1)]))),t[26]||(t[26]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("mo",{"data-mjx-texclass":"ORD"},"∥"),A("msub",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"k")]),A("mi",null,"i")]),A("mo",{"data-mjx-texclass":"ORD"},"∥")])],-1))]),t[37]||(t[37]=a(". This is the case, for instance, whenever the keys ")),A("mjx-container",B,[(e(),s("svg",x,t[27]||(t[27]=[l('<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D424" d="M32 686L123 690Q214 694 215 694H221V255L377 382H346V444H355Q370 441 476 441Q544 441 556 444H562V382H476L347 277L515 62H587V0H579Q564 3 476 3Q370 3 352 0H343V62H358L373 63L260 206L237 189L216 172V62H285V0H277Q259 3 157 3Q46 3 37 0H29V62H98V332Q98 387 98 453T99 534Q99 593 97 605T83 620Q69 624 42 624H29V686H32Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mi" transform="translate(640,-150) scale(0.707)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" style="stroke-width:3;"></path></g></g></g></g>',1)]))),t[28]||(t[28]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("msub",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"k")]),A("mi",null,"i")])])],-1))]),t[38]||(t[38]=a(" were generated by a layer norm. As such, we can drop it from the definition of ")),A("mjx-container",E,[(e(),s("svg",H,t[29]||(t[29]=[A("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[A("g",{"data-mml-node":"math"},[A("g",{"data-mml-node":"mi"},[A("path",{"data-c":"1D44E",d:"M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z",style:{"stroke-width":"3"}})])])],-1)]))),t[30]||(t[30]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("mi",null,"a")])],-1))]),t[39]||(t[39]=a(" without any major change in the outcome."))]),A("p",null,[t[50]||(t[50]=a("Last, we need to keep the order of magnitude of the arguments in the exponential function under control. Assume that all the elements of the query ")),A("mjx-container",y,[(e(),s("svg",f,t[40]||(t[40]=[l('<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D42A" d="M38 220Q38 273 54 314T95 380T152 421T211 443T264 449Q368 449 429 386L438 377L484 450H540V-132H609V-194H600Q582 -191 475 -191Q360 -191 351 -194H342V-132H411V42Q409 41 399 34T383 25T367 16T347 7T324 1T296 -4T264 -6Q162 -6 100 56T38 220ZM287 46Q368 46 417 127V301L412 312Q398 347 369 371T302 395Q282 395 263 388T225 362T194 308T182 221Q182 126 214 86T287 46Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mo" transform="translate(884.8,0)"><path data-c="2208" d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540T469 540H568Q583 532 583 520Q583 511 570 501L466 500Q355 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112T231 48T328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 446 -40T417 -41Q262 -41 172 45Q84 127 84 250Z" style="stroke-width:3;"></path></g><g data-mml-node="msup" transform="translate(1829.6,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="211D" d="M17 665Q17 672 28 683H221Q415 681 439 677Q461 673 481 667T516 654T544 639T566 623T584 607T597 592T607 578T614 565T618 554L621 548Q626 530 626 497Q626 447 613 419Q578 348 473 326L455 321Q462 310 473 292T517 226T578 141T637 72T686 35Q705 30 705 16Q705 7 693 -1H510Q503 6 404 159L306 310H268V183Q270 67 271 59Q274 42 291 38Q295 37 319 35Q344 35 353 28Q362 17 353 3L346 -1H28Q16 5 16 16Q16 35 55 35Q96 38 101 52Q106 60 106 341T101 632Q95 645 55 648Q17 648 17 665ZM241 35Q238 42 237 45T235 78T233 163T233 337V621L237 635L244 648H133Q136 641 137 638T139 603T141 517T141 341Q141 131 140 89T134 37Q133 36 133 35H241ZM457 496Q457 540 449 570T425 615T400 634T377 643Q374 643 339 648Q300 648 281 635Q271 628 270 610T268 481V346H284Q327 346 375 352Q421 364 439 392T457 496ZM492 537T492 496T488 427T478 389T469 371T464 361Q464 360 465 360Q469 360 497 370Q593 400 593 495Q593 592 477 630L457 637L461 626Q474 611 488 561Q492 537 492 496ZM464 243Q411 317 410 317Q404 317 401 315Q384 315 370 312H346L526 35H619L606 50Q553 109 464 243Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mi" transform="translate(755,363) scale(0.707)"><path data-c="1D451" d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z" style="stroke-width:3;"></path></g></g></g></g>',1)]))),t[41]||(t[41]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"q")]),A("mo",null,"∈"),A("msup",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"double-struck"},"R")]),A("mi",null,"d")])])],-1))]),t[51]||(t[51]=a(" and the key ")),A("mjx-container",I,[(e(),s("svg",V,t[42]||(t[42]=[l('<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D424" d="M32 686L123 690Q214 694 215 694H221V255L377 382H346V444H355Q370 441 476 441Q544 441 556 444H562V382H476L347 277L515 62H587V0H579Q564 3 476 3Q370 3 352 0H343V62H358L373 63L260 206L237 189L216 172V62H285V0H277Q259 3 157 3Q46 3 37 0H29V62H98V332Q98 387 98 453T99 534Q99 593 97 605T83 620Q69 624 42 624H29V686H32Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mi" transform="translate(640,-150) scale(0.707)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mo" transform="translate(1211.7,0)"><path data-c="2208" d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540T469 540H568Q583 532 583 520Q583 511 570 501L466 500Q355 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112T231 48T328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 446 -40T417 -41Q262 -41 172 45Q84 127 84 250Z" style="stroke-width:3;"></path></g><g data-mml-node="msup" transform="translate(2156.5,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="211D" d="M17 665Q17 672 28 683H221Q415 681 439 677Q461 673 481 667T516 654T544 639T566 623T584 607T597 592T607 578T614 565T618 554L621 548Q626 530 626 497Q626 447 613 419Q578 348 473 326L455 321Q462 310 473 292T517 226T578 141T637 72T686 35Q705 30 705 16Q705 7 693 -1H510Q503 6 404 159L306 310H268V183Q270 67 271 59Q274 42 291 38Q295 37 319 35Q344 35 353 28Q362 17 353 3L346 -1H28Q16 5 16 16Q16 35 55 35Q96 38 101 52Q106 60 106 341T101 632Q95 645 55 648Q17 648 17 665ZM241 35Q238 42 237 45T235 78T233 163T233 337V621L237 635L244 648H133Q136 641 137 638T139 603T141 517T141 341Q141 131 140 89T134 37Q133 36 133 35H241ZM457 496Q457 540 449 570T425 615T400 634T377 643Q374 643 339 648Q300 648 281 635Q271 628 270 610T268 481V346H284Q327 346 375 352Q421 364 439 392T457 496ZM492 537T492 496T488 427T478 389T469 371T464 361Q464 360 465 360Q469 360 497 370Q593 400 593 495Q593 592 477 630L457 637L461 626Q474 611 488 561Q492 537 492 496ZM464 243Q411 317 410 317Q404 317 401 315Q384 315 370 312H346L526 35H619L606 50Q553 109 464 243Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mi" transform="translate(755,363) scale(0.707)"><path data-c="1D451" d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z" style="stroke-width:3;"></path></g></g></g></g>',1)]))),t[43]||(t[43]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("msub",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"k")]),A("mi",null,"i")]),A("mo",null,"∈"),A("msup",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"double-struck"},"R")]),A("mi",null,"d")])])],-1))]),t[52]||(t[52]=a(" are independent and identically drawn random variables with zero mean and unit variance. The dot product between both vectors has zero mean and a variance of ")),A("mjx-container",F,[(e(),s("svg",M,t[44]||(t[44]=[A("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[A("g",{"data-mml-node":"math"},[A("g",{"data-mml-node":"mi"},[A("path",{"data-c":"1D451",d:"M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z",style:{"stroke-width":"3"}})])])],-1)]))),t[45]||(t[45]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("mi",null,"d")])],-1))]),t[53]||(t[53]=a(". To ensure that the variance of the dot product still remains ")),A("mjx-container",D,[(e(),s("svg",v,t[46]||(t[46]=[A("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[A("g",{"data-mml-node":"math"},[A("g",{"data-mml-node":"mn"},[A("path",{"data-c":"31",d:"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z",style:{"stroke-width":"3"}})])])],-1)]))),t[47]||(t[47]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("mn",null,"1")])],-1))]),t[54]||(t[54]=a(" regardless of vector length, we use the ")),t[55]||(t[55]=A("em",null,"scaled dot product attention",-1)),t[56]||(t[56]=a(" scoring function. That is, we rescale the dot product by ")),A("mjx-container",b,[(e(),s("svg",Z,t[48]||(t[48]=[l('<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" style="stroke-width:3;"></path></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(500,0)"><g data-mml-node="mo"><path data-c="2F" d="M423 750Q432 750 438 744T444 730Q444 725 271 248T92 -240Q85 -250 75 -250Q68 -250 62 -245T56 -231Q56 -221 230 257T407 740Q411 750 423 750Z" style="stroke-width:3;"></path></g></g><g data-mml-node="msqrt" transform="translate(1000,0)"><g transform="translate(853,0)"><g data-mml-node="mi"><path data-c="1D451" d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mo" transform="translate(0,109.5)"><path data-c="221A" d="M95 178Q89 178 81 186T72 200T103 230T169 280T207 309Q209 311 212 311H213Q219 311 227 294T281 177Q300 134 312 108L397 -77Q398 -77 501 136T707 565T814 786Q820 800 834 800Q841 800 846 794T853 782V776L620 293L385 -193Q381 -200 366 -200Q357 -200 354 -197Q352 -195 256 15L160 225L144 214Q129 202 113 190T95 178Z" style="stroke-width:3;"></path></g><rect width="520" height="60" x="853" y="849.5"></rect></g></g></g>',1)]))),t[49]||(t[49]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("mn",null,"1"),A("mrow",{"data-mjx-texclass":"ORD"},[A("mo",null,"/")]),A("msqrt",null,[A("mi",null,"d")])])],-1))]),t[57]||(t[57]=a(". We thus arrive at the first commonly used attention function that is used, e.g., in Transformers ")),t[58]||(t[58]=A("a",{href:"./@cite"},"Vaswani.Shazeer.Parmar.ea.2017",-1)),t[59]||(t[59]=a(":"))]),A("mjx-container",_,[(e(),s("svg",j,t[60]||(t[60]=[l('<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(529,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" style="stroke-width:3;"></path></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(918,0)"><g data-mml-node="mi"><path data-c="1D42A" d="M38 220Q38 273 54 314T95 380T152 421T211 443T264 449Q368 449 429 386L438 377L484 450H540V-132H609V-194H600Q582 -191 475 -191Q360 -191 351 -194H342V-132H411V42Q409 41 399 34T383 25T367 16T347 7T324 1T296 -4T264 -6Q162 -6 100 56T38 220ZM287 46Q368 46 417 127V301L412 312Q398 347 369 371T302 395Q282 395 263 388T225 362T194 308T182 221Q182 126 214 86T287 46Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mo" transform="translate(1525,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" style="stroke-width:3;"></path></g><g data-mml-node="msub" transform="translate(1969.7,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D424" d="M32 686L123 690Q214 694 215 694H221V255L377 382H346V444H355Q370 441 476 441Q544 441 556 444H562V382H476L347 277L515 62H587V0H579Q564 3 476 3Q370 3 352 0H343V62H358L373 63L260 206L237 189L216 172V62H285V0H277Q259 3 157 3Q46 3 37 0H29V62H98V332Q98 387 98 453T99 534Q99 593 97 605T83 620Q69 624 42 624H29V686H32Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mi" transform="translate(640,-150) scale(0.707)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mo" transform="translate(2903.6,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(3570.4,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" style="stroke-width:3;"></path></g><g data-mml-node="msup" transform="translate(4626.2,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D42A" d="M38 220Q38 273 54 314T95 380T152 421T211 443T264 449Q368 449 429 386L438 377L484 450H540V-132H609V-194H600Q582 -191 475 -191Q360 -191 351 -194H342V-132H411V42Q409 41 399 34T383 25T367 16T347 7T324 1T296 -4T264 -6Q162 -6 100 56T38 220ZM287 46Q368 46 417 127V301L412 312Q398 347 369 371T302 395Q282 395 263 388T225 362T194 308T182 221Q182 126 214 86T287 46Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mi" transform="translate(640,413) scale(0.707)"><path data-c="22A4" d="M55 642T55 648T59 659T66 666T71 668H708Q723 660 723 648T708 628H409V15Q402 2 391 0Q387 0 384 1T379 3T375 6T373 9T371 13T369 16V628H71Q70 628 67 630T59 637Z" style="stroke-width:3;"></path></g></g><g data-mml-node="msub" transform="translate(5866.3,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D424" d="M32 686L123 690Q214 694 215 694H221V255L377 382H346V444H355Q370 441 476 441Q544 441 556 444H562V382H476L347 277L515 62H587V0H579Q564 3 476 3Q370 3 352 0H343V62H358L373 63L260 206L237 189L216 172V62H285V0H277Q259 3 157 3Q46 3 37 0H29V62H98V332Q98 387 98 453T99 534Q99 593 97 605T83 620Q69 624 42 624H29V686H32Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mi" transform="translate(640,-150) scale(0.707)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" style="stroke-width:3;"></path></g></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(6800.3,0)"><g data-mml-node="mo"><path data-c="2F" d="M423 750Q432 750 438 744T444 730Q444 725 271 248T92 -240Q85 -250 75 -250Q68 -250 62 -245T56 -231Q56 -221 230 257T407 740Q411 750 423 750Z" style="stroke-width:3;"></path></g></g><g data-mml-node="msqrt" transform="translate(7300.3,0)"><g transform="translate(853,0)"><g data-mml-node="mi"><path data-c="1D451" d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mo" transform="translate(0,157.2)"><path data-c="221A" d="M95 178Q89 178 81 186T72 200T103 230T169 280T207 309Q209 311 212 311H213Q219 311 227 294T281 177Q300 134 312 108L397 -77Q398 -77 501 136T707 565T814 786Q820 800 834 800Q841 800 846 794T853 782V776L620 293L385 -193Q381 -200 366 -200Q357 -200 354 -197Q352 -195 256 15L160 225L144 214Q129 202 113 190T95 178Z" style="stroke-width:3;"></path></g><rect width="520" height="60" x="853" y="897.2"></rect></g><g data-mml-node="mo" transform="translate(8673.3,0)"><path data-c="2E" d="M78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0T96 17T78 60Z" style="stroke-width:3;"></path></g></g></g>',1)]))),t[61]||(t[61]=A("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[A("mi",null,"a"),A("mo",{stretchy:"false"},"("),A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"q")]),A("mo",null,","),A("msub",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"k")]),A("mi",null,"i")]),A("mo",{stretchy:"false"},")"),A("mo",null,"="),A("msup",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"q")]),A("mi",{mathvariant:"normal"},"⊤")]),A("msub",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"k")]),A("mi",null,"i")]),A("mrow",{"data-mjx-texclass":"ORD"},[A("mo",null,"/")]),A("msqrt",null,[A("mi",null,"d")]),A("mo",null,".")])],-1))]),t[227]||(t[227]=A("p",null,[a(":eqlabel:"),A("code",null,"eq_dot_product_attention")],-1)),A("p",null,[t[64]||(t[64]=a("Note that attention weights ")),A("mjx-container",R,[(e(),s("svg",Y,t[62]||(t[62]=[A("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[A("g",{"data-mml-node":"math"},[A("g",{"data-mml-node":"mi"},[A("path",{"data-c":"1D6FC",d:"M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z",style:{"stroke-width":"3"}})])])],-1)]))),t[63]||(t[63]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("mi",null,"α")])],-1))]),t[65]||(t[65]=a(" still need normalizing. We can simplify this further via :eqref:")),t[66]||(t[66]=A("code",null,"eq_softmax_attention",-1)),t[67]||(t[67]=a(" by using the softmax operation:"))]),A("mjx-container",U,[(e(),s("svg",S,t[68]||(t[68]=[l('<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D6FC" d="M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(640,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" style="stroke-width:3;"></path></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(1029,0)"><g data-mml-node="mi"><path data-c="1D42A" d="M38 220Q38 273 54 314T95 380T152 421T211 443T264 449Q368 449 429 386L438 377L484 450H540V-132H609V-194H600Q582 -191 475 -191Q360 -191 351 -194H342V-132H411V42Q409 41 399 34T383 25T367 16T347 7T324 1T296 -4T264 -6Q162 -6 100 56T38 220ZM287 46Q368 46 417 127V301L412 312Q398 347 369 371T302 395Q282 395 263 388T225 362T194 308T182 221Q182 126 214 86T287 46Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mo" transform="translate(1636,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" style="stroke-width:3;"></path></g><g data-mml-node="msub" transform="translate(2080.7,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D424" d="M32 686L123 690Q214 694 215 694H221V255L377 382H346V444H355Q370 441 476 441Q544 441 556 444H562V382H476L347 277L515 62H587V0H579Q564 3 476 3Q370 3 352 0H343V62H358L373 63L260 206L237 189L216 172V62H285V0H277Q259 3 157 3Q46 3 37 0H29V62H98V332Q98 387 98 453T99 534Q99 593 97 605T83 620Q69 624 42 624H29V686H32Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mi" transform="translate(640,-150) scale(0.707)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mo" transform="translate(3014.6,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(3681.4,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" style="stroke-width:3;"></path></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(4737.2,0)"><g data-mml-node="mi"><path data-c="73" d="M295 316Q295 356 268 385T190 414Q154 414 128 401Q98 382 98 349Q97 344 98 336T114 312T157 287Q175 282 201 278T245 269T277 256Q294 248 310 236T342 195T359 133Q359 71 321 31T198 -10H190Q138 -10 94 26L86 19L77 10Q71 4 65 -1L54 -11H46H42Q39 -11 33 -5V74V132Q33 153 35 157T45 162H54Q66 162 70 158T75 146T82 119T101 77Q136 26 198 26Q295 26 295 104Q295 133 277 151Q257 175 194 187T111 210Q75 227 54 256T33 318Q33 357 50 384T93 424T143 442T187 447H198Q238 447 268 432L283 424L292 431Q302 440 314 448H322H326Q329 448 335 442V310L329 304H301Q295 310 295 316Z" style="stroke-width:3;"></path><path data-c="6F" d="M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z" transform="translate(394,0)" style="stroke-width:3;"></path><path data-c="66" d="M273 0Q255 3 146 3Q43 3 34 0H26V46H42Q70 46 91 49Q99 52 103 60Q104 62 104 224V385H33V431H104V497L105 564L107 574Q126 639 171 668T266 704Q267 704 275 704T289 705Q330 702 351 679T372 627Q372 604 358 590T321 576T284 590T270 627Q270 647 288 667H284Q280 668 273 668Q245 668 223 647T189 592Q183 572 182 497V431H293V385H185V225Q185 63 186 61T189 57T194 54T199 51T206 49T213 48T222 47T231 47T241 46T251 46H282V0H273Z" transform="translate(894,0)" style="stroke-width:3;"></path><path data-c="74" d="M27 422Q80 426 109 478T141 600V615H181V431H316V385H181V241Q182 116 182 100T189 68Q203 29 238 29Q282 29 292 100Q293 108 293 146V181H333V146V134Q333 57 291 17Q264 -10 221 -10Q187 -10 162 2T124 33T105 68T98 100Q97 107 97 248V385H18V422H27Z" transform="translate(1200,0)" style="stroke-width:3;"></path><path data-c="6D" d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q351 442 364 440T387 434T406 426T421 417T432 406T441 395T448 384T452 374T455 366L457 361L460 365Q463 369 466 373T475 384T488 397T503 410T523 422T546 432T572 439T603 442Q729 442 740 329Q741 322 741 190V104Q741 66 743 59T754 49Q775 46 803 46H819V0H811L788 1Q764 2 737 2T699 3Q596 3 587 0H579V46H595Q656 46 656 62Q657 64 657 200Q656 335 655 343Q649 371 635 385T611 402T585 404Q540 404 506 370Q479 343 472 315T464 232V168V108Q464 78 465 68T468 55T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z" transform="translate(1589,0)" style="stroke-width:3;"></path><path data-c="61" d="M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z" transform="translate(2422,0)" style="stroke-width:3;"></path><path data-c="78" d="M201 0Q189 3 102 3Q26 3 17 0H11V46H25Q48 47 67 52T96 61T121 78T139 96T160 122T180 150L226 210L168 288Q159 301 149 315T133 336T122 351T113 363T107 370T100 376T94 379T88 381T80 383Q74 383 44 385H16V431H23Q59 429 126 429Q219 429 229 431H237V385Q201 381 201 369Q201 367 211 353T239 315T268 274L272 270L297 304Q329 345 329 358Q329 364 327 369T322 376T317 380T310 384L307 385H302V431H309Q324 428 408 428Q487 428 493 431H499V385H492Q443 385 411 368Q394 360 377 341T312 257L296 236L358 151Q424 61 429 57T446 50Q464 46 499 46H516V0H510H502Q494 1 482 1T457 2T432 2T414 3Q403 3 377 3T327 1L304 0H295V46H298Q309 46 320 51T331 63Q331 65 291 120L250 175Q249 174 219 133T185 88Q181 83 181 74Q181 63 188 55T206 46Q208 46 208 23V0H201Z" transform="translate(2922,0)" style="stroke-width:3;"></path></g></g><g data-mml-node="mo" transform="translate(8187.2,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" style="stroke-width:3;"></path></g><g data-mml-node="mi" transform="translate(8576.2,0)"><path data-c="1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(9105.2,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" style="stroke-width:3;"></path></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(9494.2,0)"><g data-mml-node="mi"><path data-c="1D42A" d="M38 220Q38 273 54 314T95 380T152 421T211 443T264 449Q368 449 429 386L438 377L484 450H540V-132H609V-194H600Q582 -191 475 -191Q360 -191 351 -194H342V-132H411V42Q409 41 399 34T383 25T367 16T347 7T324 1T296 -4T264 -6Q162 -6 100 56T38 220ZM287 46Q368 46 417 127V301L412 312Q398 347 369 371T302 395Q282 395 263 388T225 362T194 308T182 221Q182 126 214 86T287 46Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mo" transform="translate(10101.2,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" style="stroke-width:3;"></path></g><g data-mml-node="msub" transform="translate(10545.8,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D424" d="M32 686L123 690Q214 694 215 694H221V255L377 382H346V444H355Q370 441 476 441Q544 441 556 444H562V382H476L347 277L515 62H587V0H579Q564 3 476 3Q370 3 352 0H343V62H358L373 63L260 206L237 189L216 172V62H285V0H277Q259 3 157 3Q46 3 37 0H29V62H98V332Q98 387 98 453T99 534Q99 593 97 605T83 620Q69 624 42 624H29V686H32Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mi" transform="translate(640,-150) scale(0.707)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mo" transform="translate(11479.8,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(11868.8,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(12535.6,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" style="stroke-width:3;"></path></g><g data-mml-node="mfrac" transform="translate(13591.3,0)"><g data-mml-node="mrow" transform="translate(1494,710)"><g data-mml-node="mi"><path data-c="65" d="M28 218Q28 273 48 318T98 391T163 433T229 448Q282 448 320 430T378 380T406 316T415 245Q415 238 408 231H126V216Q126 68 226 36Q246 30 270 30Q312 30 342 62Q359 79 369 104L379 128Q382 131 395 131H398Q415 131 415 121Q415 117 412 108Q393 53 349 21T250 -11Q155 -11 92 58T28 218ZM333 275Q322 403 238 411H236Q228 411 220 410T195 402T166 381T143 340T127 274V267H333V275Z" style="stroke-width:3;"></path><path data-c="78" d="M201 0Q189 3 102 3Q26 3 17 0H11V46H25Q48 47 67 52T96 61T121 78T139 96T160 122T180 150L226 210L168 288Q159 301 149 315T133 336T122 351T113 363T107 370T100 376T94 379T88 381T80 383Q74 383 44 385H16V431H23Q59 429 126 429Q219 429 229 431H237V385Q201 381 201 369Q201 367 211 353T239 315T268 274L272 270L297 304Q329 345 329 358Q329 364 327 369T322 376T317 380T310 384L307 385H302V431H309Q324 428 408 428Q487 428 493 431H499V385H492Q443 385 411 368Q394 360 377 341T312 257L296 236L358 151Q424 61 429 57T446 50Q464 46 499 46H516V0H510H502Q494 1 482 1T457 2T432 2T414 3Q403 3 377 3T327 1L304 0H295V46H298Q309 46 320 51T331 63Q331 65 291 120L250 175Q249 174 219 133T185 88Q181 83 181 74Q181 63 188 55T206 46Q208 46 208 23V0H201Z" transform="translate(444,0)" style="stroke-width:3;"></path><path data-c="70" d="M36 -148H50Q89 -148 97 -134V-126Q97 -119 97 -107T97 -77T98 -38T98 6T98 55T98 106Q98 140 98 177T98 243T98 296T97 335T97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 61 434T98 436Q115 437 135 438T165 441T176 442H179V416L180 390L188 397Q247 441 326 441Q407 441 464 377T522 216Q522 115 457 52T310 -11Q242 -11 190 33L182 40V-45V-101Q182 -128 184 -134T195 -145Q216 -148 244 -148H260V-194H252L228 -193Q205 -192 178 -192T140 -191Q37 -191 28 -194H20V-148H36ZM424 218Q424 292 390 347T305 402Q234 402 182 337V98Q222 26 294 26Q345 26 384 80T424 218Z" transform="translate(972,0)" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(1528,0)"><path data-c="2061" d="" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(1528,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" style="stroke-width:3;"></path></g><g data-mml-node="msup" transform="translate(1917,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D42A" d="M38 220Q38 273 54 314T95 380T152 421T211 443T264 449Q368 449 429 386L438 377L484 450H540V-132H609V-194H600Q582 -191 475 -191Q360 -191 351 -194H342V-132H411V42Q409 41 399 34T383 25T367 16T347 7T324 1T296 -4T264 -6Q162 -6 100 56T38 220ZM287 46Q368 46 417 127V301L412 312Q398 347 369 371T302 395Q282 395 263 388T225 362T194 308T182 221Q182 126 214 86T287 46Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mi" transform="translate(640,363) scale(0.707)"><path data-c="22A4" d="M55 642T55 648T59 659T66 666T71 668H708Q723 660 723 648T708 628H409V15Q402 2 391 0Q387 0 384 1T379 3T375 6T373 9T371 13T369 16V628H71Q70 628 67 630T59 637Z" style="stroke-width:3;"></path></g></g><g data-mml-node="msub" transform="translate(3157.1,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D424" d="M32 686L123 690Q214 694 215 694H221V255L377 382H346V444H355Q370 441 476 441Q544 441 556 444H562V382H476L347 277L515 62H587V0H579Q564 3 476 3Q370 3 352 0H343V62H358L373 63L260 206L237 189L216 172V62H285V0H277Q259 3 157 3Q46 3 37 0H29V62H98V332Q98 387 98 453T99 534Q99 593 97 605T83 620Q69 624 42 624H29V686H32Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mi" transform="translate(640,-150) scale(0.707)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" style="stroke-width:3;"></path></g></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(4091.1,0)"><g data-mml-node="mo"><path data-c="2F" d="M423 750Q432 750 438 744T444 730Q444 725 271 248T92 -240Q85 -250 75 -250Q68 -250 62 -245T56 -231Q56 -221 230 257T407 740Q411 750 423 750Z" style="stroke-width:3;"></path></g></g><g data-mml-node="msqrt" transform="translate(4591.1,0)"><g transform="translate(853,0)"><g data-mml-node="mi"><path data-c="1D451" d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mo" transform="translate(0,109.5)"><path data-c="221A" d="M95 178Q89 178 81 186T72 200T103 230T169 280T207 309Q209 311 212 311H213Q219 311 227 294T281 177Q300 134 312 108L397 -77Q398 -77 501 136T707 565T814 786Q820 800 834 800Q841 800 846 794T853 782V776L620 293L385 -193Q381 -200 366 -200Q357 -200 354 -197Q352 -195 256 15L160 225L144 214Q129 202 113 190T95 178Z" style="stroke-width:3;"></path></g><rect width="520" height="60" x="853" y="849.5"></rect></g><g data-mml-node="mo" transform="translate(5964.1,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mrow" transform="translate(220,-929.5)"><g data-mml-node="munder"><g data-mml-node="mo"><path data-c="2211" d="M61 748Q64 750 489 750H913L954 640Q965 609 976 579T993 533T999 516H979L959 517Q936 579 886 621T777 682Q724 700 655 705T436 710H319Q183 710 183 709Q186 706 348 484T511 259Q517 250 513 244L490 216Q466 188 420 134T330 27L149 -187Q149 -188 362 -188Q388 -188 436 -188T506 -189Q679 -189 778 -162T936 -43Q946 -27 959 6H999L913 -249L489 -250Q65 -250 62 -248Q56 -246 56 -239Q56 -234 118 -161Q186 -81 245 -11L428 206Q428 207 242 462L57 717L56 728Q56 744 61 748Z" style="stroke-width:3;"></path></g><g data-mml-node="TeXAtom" transform="translate(1089,-285.4) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D457" d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(412,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" style="stroke-width:3;"></path></g><g data-mml-node="mn" transform="translate(1190,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" style="stroke-width:3;"></path></g></g></g><g data-mml-node="mi" transform="translate(2500.7,0)"><path data-c="65" d="M28 218Q28 273 48 318T98 391T163 433T229 448Q282 448 320 430T378 380T406 316T415 245Q415 238 408 231H126V216Q126 68 226 36Q246 30 270 30Q312 30 342 62Q359 79 369 104L379 128Q382 131 395 131H398Q415 131 415 121Q415 117 412 108Q393 53 349 21T250 -11Q155 -11 92 58T28 218ZM333 275Q322 403 238 411H236Q228 411 220 410T195 402T166 381T143 340T127 274V267H333V275Z" style="stroke-width:3;"></path><path data-c="78" d="M201 0Q189 3 102 3Q26 3 17 0H11V46H25Q48 47 67 52T96 61T121 78T139 96T160 122T180 150L226 210L168 288Q159 301 149 315T133 336T122 351T113 363T107 370T100 376T94 379T88 381T80 383Q74 383 44 385H16V431H23Q59 429 126 429Q219 429 229 431H237V385Q201 381 201 369Q201 367 211 353T239 315T268 274L272 270L297 304Q329 345 329 358Q329 364 327 369T322 376T317 380T310 384L307 385H302V431H309Q324 428 408 428Q487 428 493 431H499V385H492Q443 385 411 368Q394 360 377 341T312 257L296 236L358 151Q424 61 429 57T446 50Q464 46 499 46H516V0H510H502Q494 1 482 1T457 2T432 2T414 3Q403 3 377 3T327 1L304 0H295V46H298Q309 46 320 51T331 63Q331 65 291 120L250 175Q249 174 219 133T185 88Q181 83 181 74Q181 63 188 55T206 46Q208 46 208 23V0H201Z" transform="translate(444,0)" style="stroke-width:3;"></path><path data-c="70" d="M36 -148H50Q89 -148 97 -134V-126Q97 -119 97 -107T97 -77T98 -38T98 6T98 55T98 106Q98 140 98 177T98 243T98 296T97 335T97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 61 434T98 436Q115 437 135 438T165 441T176 442H179V416L180 390L188 397Q247 441 326 441Q407 441 464 377T522 216Q522 115 457 52T310 -11Q242 -11 190 33L182 40V-45V-101Q182 -128 184 -134T195 -145Q216 -148 244 -148H260V-194H252L228 -193Q205 -192 178 -192T140 -191Q37 -191 28 -194H20V-148H36ZM424 218Q424 292 390 347T305 402Q234 402 182 337V98Q222 26 294 26Q345 26 384 80T424 218Z" transform="translate(972,0)" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(4028.7,0)"><path data-c="2061" d="" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(4028.7,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" style="stroke-width:3;"></path></g><g data-mml-node="msup" transform="translate(4417.7,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D42A" d="M38 220Q38 273 54 314T95 380T152 421T211 443T264 449Q368 449 429 386L438 377L484 450H540V-132H609V-194H600Q582 -191 475 -191Q360 -191 351 -194H342V-132H411V42Q409 41 399 34T383 25T367 16T347 7T324 1T296 -4T264 -6Q162 -6 100 56T38 220ZM287 46Q368 46 417 127V301L412 312Q398 347 369 371T302 395Q282 395 263 388T225 362T194 308T182 221Q182 126 214 86T287 46Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mi" transform="translate(640,289) scale(0.707)"><path data-c="22A4" d="M55 642T55 648T59 659T66 666T71 668H708Q723 660 723 648T708 628H409V15Q402 2 391 0Q387 0 384 1T379 3T375 6T373 9T371 13T369 16V628H71Q70 628 67 630T59 637Z" style="stroke-width:3;"></path></g></g><g data-mml-node="msub" transform="translate(5657.8,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D424" d="M32 686L123 690Q214 694 215 694H221V255L377 382H346V444H355Q370 441 476 441Q544 441 556 444H562V382H476L347 277L515 62H587V0H579Q564 3 476 3Q370 3 352 0H343V62H358L373 63L260 206L237 189L216 172V62H285V0H277Q259 3 157 3Q46 3 37 0H29V62H98V332Q98 387 98 453T99 534Q99 593 97 605T83 620Q69 624 42 624H29V686H32Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mi" transform="translate(640,-150) scale(0.707)"><path data-c="1D457" d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z" style="stroke-width:3;"></path></g></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(6639.1,0)"><g data-mml-node="mo"><path data-c="2F" d="M423 750Q432 750 438 744T444 730Q444 725 271 248T92 -240Q85 -250 75 -250Q68 -250 62 -245T56 -231Q56 -221 230 257T407 740Q411 750 423 750Z" style="stroke-width:3;"></path></g></g><g data-mml-node="msqrt" transform="translate(7139.1,0)"><g transform="translate(853,0)"><g data-mml-node="mi"><path data-c="1D451" d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mo" transform="translate(0,109.5)"><path data-c="221A" d="M95 178Q89 178 81 186T72 200T103 230T169 280T207 309Q209 311 212 311H213Q219 311 227 294T281 177Q300 134 312 108L397 -77Q398 -77 501 136T707 565T814 786Q820 800 834 800Q841 800 846 794T853 782V776L620 293L385 -193Q381 -200 366 -200Q357 -200 354 -197Q352 -195 256 15L160 225L144 214Q129 202 113 190T95 178Z" style="stroke-width:3;"></path></g><rect width="520" height="60" x="853" y="849.5"></rect></g><g data-mml-node="mo" transform="translate(8512.1,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" style="stroke-width:3;"></path></g></g><rect width="9101.1" height="60" x="120" y="220"></rect></g><g data-mml-node="mo" transform="translate(22932.5,0)"><path data-c="2E" d="M78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0T96 17T78 60Z" style="stroke-width:3;"></path></g></g></g>',1)]))),t[69]||(t[69]=A("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[A("mi",null,"α"),A("mo",{stretchy:"false"},"("),A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"q")]),A("mo",null,","),A("msub",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"k")]),A("mi",null,"i")]),A("mo",{stretchy:"false"},")"),A("mo",null,"="),A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{"data-mjx-auto-op":"false"},"softmax")]),A("mo",{stretchy:"false"},"("),A("mi",null,"a"),A("mo",{stretchy:"false"},"("),A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"q")]),A("mo",null,","),A("msub",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"k")]),A("mi",null,"i")]),A("mo",{stretchy:"false"},")"),A("mo",{stretchy:"false"},")"),A("mo",null,"="),A("mfrac",null,[A("mrow",null,[A("mi",null,"exp"),A("mo",{"data-mjx-texclass":"NONE"},"⁡"),A("mo",{stretchy:"false"},"("),A("msup",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"q")]),A("mi",{mathvariant:"normal"},"⊤")]),A("msub",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"k")]),A("mi",null,"i")]),A("mrow",{"data-mjx-texclass":"ORD"},[A("mo",null,"/")]),A("msqrt",null,[A("mi",null,"d")]),A("mo",{stretchy:"false"},")")]),A("mrow",null,[A("munder",null,[A("mo",{"data-mjx-texclass":"OP"},"∑"),A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",null,"j"),A("mo",null,"="),A("mn",null,"1")])]),A("mi",null,"exp"),A("mo",{"data-mjx-texclass":"NONE"},"⁡"),A("mo",{stretchy:"false"},"("),A("msup",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"q")]),A("mi",{mathvariant:"normal"},"⊤")]),A("msub",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"k")]),A("mi",null,"j")]),A("mrow",{"data-mjx-texclass":"ORD"},[A("mo",null,"/")]),A("msqrt",null,[A("mi",null,"d")]),A("mo",{stretchy:"false"},")")])]),A("mo",null,".")])],-1))]),t[228]||(t[228]=l(`<p>:eqlabel:<code>eq_attn-scoring-alpha</code></p><p>As it turns out, all popular attention mechanisms use the softmax, hence we will limit ourselves to that in the remainder of this chapter.</p><h2 id="Convenience-Functions" tabindex="-1">Convenience Functions <a class="header-anchor" href="#Convenience-Functions" aria-label="Permalink to &quot;Convenience Functions {#Convenience-Functions}&quot;">​</a></h2><p>We need a few functions to make the attention mechanism efficient to deploy. This includes tools for dealing with strings of variable lengths (common for natural language processing) and tools for efficient evaluation on minibatches (batch matrix multiplication).</p><h3 id="Masked-Softmax-Operation" tabindex="-1">Masked Softmax Operation <a class="header-anchor" href="#Masked-Softmax-Operation" aria-label="Permalink to &quot;Masked Softmax Operation {#Masked-Softmax-Operation}&quot;">​</a></h3><p>One of the most popular applications of the attention mechanism is to sequence models. Hence we need to be able to deal with sequences of different lengths. In some cases, such sequences may end up in the same minibatch, necessitating padding with dummy tokens for shorter sequences (see :numref:<code>sec_machine_translation</code> for an example). These special tokens do not carry meaning. For instance, assume that we have the following three sentences:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Dive  into  Deep    Learning </span></span>
<span class="line"><span>Learn to    code    &lt;blank&gt;</span></span>
<span class="line"><span>Hello world &lt;blank&gt; &lt;blank&gt;</span></span></code></pre></div>`,7)),A("p",null,[t[76]||(t[76]=a("Since we do not want blanks in our attention model we simply need to limit ")),A("mjx-container",X,[(e(),s("svg",O,t[70]||(t[70]=[l('<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="munderover"><g data-mml-node="mo"><path data-c="2211" d="M61 748Q64 750 489 750H913L954 640Q965 609 976 579T993 533T999 516H979L959 517Q936 579 886 621T777 682Q724 700 655 705T436 710H319Q183 710 183 709Q186 706 348 484T511 259Q517 250 513 244L490 216Q466 188 420 134T330 27L149 -187Q149 -188 362 -188Q388 -188 436 -188T506 -189Q679 -189 778 -162T936 -43Q946 -27 959 6H999L913 -249L489 -250Q65 -250 62 -248Q56 -246 56 -239Q56 -234 118 -161Q186 -81 245 -11L428 206Q428 207 242 462L57 717L56 728Q56 744 61 748Z" style="stroke-width:3;"></path></g><g data-mml-node="mi" transform="translate(1089,477.1) scale(0.707)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" style="stroke-width:3;"></path></g><g data-mml-node="TeXAtom" transform="translate(1089,-285.4) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(345,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" style="stroke-width:3;"></path></g><g data-mml-node="mn" transform="translate(1123,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" style="stroke-width:3;"></path></g></g></g><g data-mml-node="mi" transform="translate(2453.3,0)"><path data-c="1D6FC" d="M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(3093.3,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" style="stroke-width:3;"></path></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(3482.3,0)"><g data-mml-node="mi"><path data-c="1D42A" d="M38 220Q38 273 54 314T95 380T152 421T211 443T264 449Q368 449 429 386L438 377L484 450H540V-132H609V-194H600Q582 -191 475 -191Q360 -191 351 -194H342V-132H411V42Q409 41 399 34T383 25T367 16T347 7T324 1T296 -4T264 -6Q162 -6 100 56T38 220ZM287 46Q368 46 417 127V301L412 312Q398 347 369 371T302 395Q282 395 263 388T225 362T194 308T182 221Q182 126 214 86T287 46Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mo" transform="translate(4089.3,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" style="stroke-width:3;"></path></g><g data-mml-node="msub" transform="translate(4534,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D424" d="M32 686L123 690Q214 694 215 694H221V255L377 382H346V444H355Q370 441 476 441Q544 441 556 444H562V382H476L347 277L515 62H587V0H579Q564 3 476 3Q370 3 352 0H343V62H358L373 63L260 206L237 189L216 172V62H285V0H277Q259 3 157 3Q46 3 37 0H29V62H98V332Q98 387 98 453T99 534Q99 593 97 605T83 620Q69 624 42 624H29V686H32Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mi" transform="translate(640,-150) scale(0.707)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mo" transform="translate(5467.9,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" style="stroke-width:3;"></path></g><g data-mml-node="msub" transform="translate(5856.9,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D42F" d="M401 444Q413 441 495 441Q568 441 574 444H580V382H510L409 156Q348 18 339 6Q331 -4 320 -4Q318 -4 313 -4T303 -3H288Q273 -3 264 12T221 102Q206 135 197 156L96 382H26V444H34Q49 441 145 441Q252 441 270 444H279V382H231L284 264Q335 149 338 149Q338 150 389 264T442 381Q442 382 418 382H394V444H401Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mi" transform="translate(640,-150) scale(0.707)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" style="stroke-width:3;"></path></g></g></g></g>',1)]))),t[71]||(t[71]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("munderover",null,[A("mo",{"data-mjx-texclass":"OP"},"∑"),A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",null,"i"),A("mo",null,"="),A("mn",null,"1")]),A("mi",null,"n")]),A("mi",null,"α"),A("mo",{stretchy:"false"},"("),A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"q")]),A("mo",null,","),A("msub",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"k")]),A("mi",null,"i")]),A("mo",{stretchy:"false"},")"),A("msub",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"v")]),A("mi",null,"i")])])],-1))]),t[77]||(t[77]=a(" to ")),A("mjx-container",G,[(e(),s("svg",K,t[72]||(t[72]=[l('<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="munderover"><g data-mml-node="mo"><path data-c="2211" d="M61 748Q64 750 489 750H913L954 640Q965 609 976 579T993 533T999 516H979L959 517Q936 579 886 621T777 682Q724 700 655 705T436 710H319Q183 710 183 709Q186 706 348 484T511 259Q517 250 513 244L490 216Q466 188 420 134T330 27L149 -187Q149 -188 362 -188Q388 -188 436 -188T506 -189Q679 -189 778 -162T936 -43Q946 -27 959 6H999L913 -249L489 -250Q65 -250 62 -248Q56 -246 56 -239Q56 -234 118 -161Q186 -81 245 -11L428 206Q428 207 242 462L57 717L56 728Q56 744 61 748Z" style="stroke-width:3;"></path></g><g data-mml-node="mi" transform="translate(1089,477.1) scale(0.707)"><path data-c="1D459" d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z" style="stroke-width:3;"></path></g><g data-mml-node="TeXAtom" transform="translate(1089,-285.4) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(345,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" style="stroke-width:3;"></path></g><g data-mml-node="mn" transform="translate(1123,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" style="stroke-width:3;"></path></g></g></g><g data-mml-node="mi" transform="translate(2453.3,0)"><path data-c="1D6FC" d="M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(3093.3,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" style="stroke-width:3;"></path></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(3482.3,0)"><g data-mml-node="mi"><path data-c="1D42A" d="M38 220Q38 273 54 314T95 380T152 421T211 443T264 449Q368 449 429 386L438 377L484 450H540V-132H609V-194H600Q582 -191 475 -191Q360 -191 351 -194H342V-132H411V42Q409 41 399 34T383 25T367 16T347 7T324 1T296 -4T264 -6Q162 -6 100 56T38 220ZM287 46Q368 46 417 127V301L412 312Q398 347 369 371T302 395Q282 395 263 388T225 362T194 308T182 221Q182 126 214 86T287 46Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mo" transform="translate(4089.3,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" style="stroke-width:3;"></path></g><g data-mml-node="msub" transform="translate(4534,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D424" d="M32 686L123 690Q214 694 215 694H221V255L377 382H346V444H355Q370 441 476 441Q544 441 556 444H562V382H476L347 277L515 62H587V0H579Q564 3 476 3Q370 3 352 0H343V62H358L373 63L260 206L237 189L216 172V62H285V0H277Q259 3 157 3Q46 3 37 0H29V62H98V332Q98 387 98 453T99 534Q99 593 97 605T83 620Q69 624 42 624H29V686H32Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mi" transform="translate(640,-150) scale(0.707)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mo" transform="translate(5467.9,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" style="stroke-width:3;"></path></g><g data-mml-node="msub" transform="translate(5856.9,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D42F" d="M401 444Q413 441 495 441Q568 441 574 444H580V382H510L409 156Q348 18 339 6Q331 -4 320 -4Q318 -4 313 -4T303 -3H288Q273 -3 264 12T221 102Q206 135 197 156L96 382H26V444H34Q49 441 145 441Q252 441 270 444H279V382H231L284 264Q335 149 338 149Q338 150 389 264T442 381Q442 382 418 382H394V444H401Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mi" transform="translate(640,-150) scale(0.707)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" style="stroke-width:3;"></path></g></g></g></g>',1)]))),t[73]||(t[73]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("munderover",null,[A("mo",{"data-mjx-texclass":"OP"},"∑"),A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",null,"i"),A("mo",null,"="),A("mn",null,"1")]),A("mi",null,"l")]),A("mi",null,"α"),A("mo",{stretchy:"false"},"("),A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"q")]),A("mo",null,","),A("msub",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"k")]),A("mi",null,"i")]),A("mo",{stretchy:"false"},")"),A("msub",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"v")]),A("mi",null,"i")])])],-1))]),t[78]||(t[78]=a(" for however long, ")),A("mjx-container",P,[(e(),s("svg",N,t[74]||(t[74]=[l('<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D459" d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(575.8,0)"><path data-c="2264" d="M674 636Q682 636 688 630T694 615T687 601Q686 600 417 472L151 346L399 228Q687 92 691 87Q694 81 694 76Q694 58 676 56H670L382 192Q92 329 90 331Q83 336 83 348Q84 359 96 365Q104 369 382 500T665 634Q669 636 674 636ZM84 -118Q84 -108 99 -98H678Q694 -104 694 -118Q694 -130 679 -138H98Q84 -131 84 -118Z" style="stroke-width:3;"></path></g><g data-mml-node="mi" transform="translate(1631.6,0)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" style="stroke-width:3;"></path></g></g></g>',1)]))),t[75]||(t[75]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("mi",null,"l"),A("mo",null,"≤"),A("mi",null,"n")])],-1))]),t[79]||(t[79]=a(", the actual sentence is. Since it is such a common problem, it has a name: the ")),t[80]||(t[80]=A("em",null,"masked softmax operation",-1)),t[81]||(t[81]=a("."))]),A("p",null,[t[88]||(t[88]=a("Let's implement it. Actually, the implementation cheats ever so slightly by setting the values of ")),A("mjx-container",z,[(e(),s("svg",q,t[82]||(t[82]=[l('<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D42F" d="M401 444Q413 441 495 441Q568 441 574 444H580V382H510L409 156Q348 18 339 6Q331 -4 320 -4Q318 -4 313 -4T303 -3H288Q273 -3 264 12T221 102Q206 135 197 156L96 382H26V444H34Q49 441 145 441Q252 441 270 444H279V382H231L284 264Q335 149 338 149Q338 150 389 264T442 381Q442 382 418 382H394V444H401Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mi" transform="translate(640,-150) scale(0.707)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" style="stroke-width:3;"></path></g></g></g></g>',1)]))),t[83]||(t[83]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("msub",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"v")]),A("mi",null,"i")])])],-1))]),t[89]||(t[89]=a(", for ")),A("mjx-container",J,[(e(),s("svg",W,t[84]||(t[84]=[l('<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(622.8,0)"><path data-c="3E" d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z" style="stroke-width:3;"></path></g><g data-mml-node="mi" transform="translate(1678.6,0)"><path data-c="1D459" d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z" style="stroke-width:3;"></path></g></g></g>',1)]))),t[85]||(t[85]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("mi",null,"i"),A("mo",null,">"),A("mi",null,"l")])],-1))]),t[90]||(t[90]=a(", to zero. Moreover, it sets the attention weights to a large negative number, such as ")),A("mjx-container",$,[(e(),s("svg",AA,t[86]||(t[86]=[l('<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" style="stroke-width:3;"></path></g><g data-mml-node="msup" transform="translate(778,0)"><g data-mml-node="mn"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" style="stroke-width:3;"></path><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" transform="translate(500,0)" style="stroke-width:3;"></path></g><g data-mml-node="TeXAtom" transform="translate(1033,393.1) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><path data-c="36" d="M42 313Q42 476 123 571T303 666Q372 666 402 630T432 550Q432 525 418 510T379 495Q356 495 341 509T326 548Q326 592 373 601Q351 623 311 626Q240 626 194 566Q147 500 147 364L148 360Q153 366 156 373Q197 433 263 433H267Q313 433 348 414Q372 400 396 374T435 317Q456 268 456 210V192Q456 169 451 149Q440 90 387 34T253 -22Q225 -22 199 -14T143 16T92 75T56 172T42 313ZM257 397Q227 397 205 380T171 335T154 278T148 216Q148 133 160 97T198 39Q222 21 251 21Q302 21 329 59Q342 77 347 104T352 209Q352 289 347 316T329 361Q302 397 257 397Z" style="stroke-width:3;"></path></g></g></g></g></g>',1)]))),t[87]||(t[87]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("mo",null,"−"),A("msup",null,[A("mn",null,"10"),A("mrow",{"data-mjx-texclass":"ORD"},[A("mn",null,"6")])])])],-1))]),t[91]||(t[91]=a(", in order to make their contribution to gradients and values vanish in practice. This is done since linear algebra kernels and operators are heavily optimized for GPUs and it is faster to be slightly wasteful in computation rather than to have code with conditional (if then else) statements."))]),t[229]||(t[229]=l(`<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> _sequence_mask_</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(X</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractArray</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, valid_len, value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">T</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">where</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {T}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    n, q, b </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> size</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(X)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    device </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> isa</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(X, CuArray) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> cu </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> identity</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    key_ids </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> reshape</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">device</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">collect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">n)), n, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> eltype</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(valid_len) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> AbstractVector</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        # valid_len is Vector of Vectors</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        # Build a (n, q, b) mask with broadcasting</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        valid_mat </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> zeros</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Int, q, b)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> j </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">b</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            valid_mat[:, j] .</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> valid_len[j]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        end</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        valid_mat </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> reshape</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">device</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(valid_mat), </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, q, b)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    else</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        # valid_len is simple vector</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        valid_mat </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> reshape</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">device</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">collect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(valid_len)), </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, b)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    end</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    mask </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> key_ids </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> valid_mat  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># shape: (n, q, b)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    mask_f </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> T</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.(mask)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> X </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> mask_f </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> .-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> mask_f)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">end</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> masked_softmax</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(X, valid_lens, value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> isnothing</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(valid_lens)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> softmax</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(X, dims </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    else</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        X_ </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> _sequence_mask_</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(X, valid_lens, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1e6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> softmax</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(X_, dims </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    end</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">end</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>masked_softmax (generic function with 2 methods)</span></span></code></pre></div><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">X </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> rand</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">valid_lens </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">masked_softmax</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(X, valid_lens)</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>4×2×2 Array{Float64, 3}:</span></span>
<span class="line"><span>[:, :, 1] =</span></span>
<span class="line"><span> 0.342791  0.525284</span></span>
<span class="line"><span> 0.657209  0.474716</span></span>
<span class="line"><span> 0.0       0.0</span></span>
<span class="line"><span> 0.0       0.0</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[:, :, 2] =</span></span>
<span class="line"><span> 0.391309  0.331539</span></span>
<span class="line"><span> 0.361107  0.283358</span></span>
<span class="line"><span> 0.247584  0.385103</span></span>
<span class="line"><span> 0.0       0.0</span></span></code></pre></div><p>If we need more fine-grained control to specify the valid length for each of the two vectors of every example, we simply use a two-dimensional tensor of valid lengths. This yields:</p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">masked_softmax</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(X, [[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]])</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>4×2×2 Array{Float64, 3}:</span></span>
<span class="line"><span>[:, :, 1] =</span></span>
<span class="line"><span> 1.0  0.384194</span></span>
<span class="line"><span> 0.0  0.347209</span></span>
<span class="line"><span> 0.0  0.268596</span></span>
<span class="line"><span> 0.0  0.0</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[:, :, 2] =</span></span>
<span class="line"><span> 0.52007  0.273421</span></span>
<span class="line"><span> 0.47993  0.233685</span></span>
<span class="line"><span> 0.0      0.317595</span></span>
<span class="line"><span> 0.0      0.175299</span></span></code></pre></div><h3 id="Batch-Matrix-Multiplication" tabindex="-1">Batch Matrix Multiplication <a class="header-anchor" href="#Batch-Matrix-Multiplication" aria-label="Permalink to &quot;Batch Matrix Multiplication {#Batch-Matrix-Multiplication}&quot;">​</a></h3><p>Another commonly used operation is to multiply batches of matrices by one another. This comes in handy when we have minibatches of queries, keys, and values. More specifically, assume that</p>`,9)),A("mjx-container",tA,[(e(),s("svg",aA,t[92]||(t[92]=[l('<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D410" d="M64 339Q64 431 96 502T182 614T295 675T420 696Q469 696 481 695Q620 680 709 589T798 339Q798 255 768 184Q720 77 611 26L600 21Q635 -26 682 -26H696Q769 -26 769 0Q769 7 774 12T787 18Q805 18 805 -7V-13Q803 -64 785 -106T737 -171Q720 -183 697 -191Q687 -193 668 -193Q636 -193 613 -182T575 -144T552 -94T532 -27Q531 -23 530 -16T528 -6T526 -3L512 -5Q499 -7 477 -8T431 -10Q393 -10 382 -9Q238 8 151 97T64 339ZM326 80Q326 113 356 138T430 163Q492 163 542 100L553 86Q554 85 561 91T578 108Q637 179 637 330Q637 430 619 498T548 604Q500 641 425 641Q408 641 390 637T347 623T299 590T259 535Q226 469 226 338Q226 244 246 180T318 79L325 74Q326 74 326 80ZM506 58Q480 112 433 112Q412 112 395 104T378 77Q378 44 431 44Q480 44 506 58Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mo" transform="translate(1141.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(2197.6,0)"><path data-c="5B" d="M118 -250V750H255V710H158V-210H255V-250H118Z" style="stroke-width:3;"></path></g><g data-mml-node="msub" transform="translate(2475.6,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D410" d="M64 339Q64 431 96 502T182 614T295 675T420 696Q469 696 481 695Q620 680 709 589T798 339Q798 255 768 184Q720 77 611 26L600 21Q635 -26 682 -26H696Q769 -26 769 0Q769 7 774 12T787 18Q805 18 805 -7V-13Q803 -64 785 -106T737 -171Q720 -183 697 -191Q687 -193 668 -193Q636 -193 613 -182T575 -144T552 -94T532 -27Q531 -23 530 -16T528 -6T526 -3L512 -5Q499 -7 477 -8T431 -10Q393 -10 382 -9Q238 8 151 97T64 339ZM326 80Q326 113 356 138T430 163Q492 163 542 100L553 86Q554 85 561 91T578 108Q637 179 637 330Q637 430 619 498T548 604Q500 641 425 641Q408 641 390 637T347 623T299 590T259 535Q226 469 226 338Q226 244 246 180T318 79L325 74Q326 74 326 80ZM506 58Q480 112 433 112Q412 112 395 104T378 77Q378 44 431 44Q480 44 506 58Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mn" transform="translate(897,-150) scale(0.707)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mo" transform="translate(3776.1,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" style="stroke-width:3;"></path></g><g data-mml-node="msub" transform="translate(4220.8,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D410" d="M64 339Q64 431 96 502T182 614T295 675T420 696Q469 696 481 695Q620 680 709 589T798 339Q798 255 768 184Q720 77 611 26L600 21Q635 -26 682 -26H696Q769 -26 769 0Q769 7 774 12T787 18Q805 18 805 -7V-13Q803 -64 785 -106T737 -171Q720 -183 697 -191Q687 -193 668 -193Q636 -193 613 -182T575 -144T552 -94T532 -27Q531 -23 530 -16T528 -6T526 -3L512 -5Q499 -7 477 -8T431 -10Q393 -10 382 -9Q238 8 151 97T64 339ZM326 80Q326 113 356 138T430 163Q492 163 542 100L553 86Q554 85 561 91T578 108Q637 179 637 330Q637 430 619 498T548 604Q500 641 425 641Q408 641 390 637T347 623T299 590T259 535Q226 469 226 338Q226 244 246 180T318 79L325 74Q326 74 326 80ZM506 58Q480 112 433 112Q412 112 395 104T378 77Q378 44 431 44Q480 44 506 58Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mn" transform="translate(897,-150) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mo" transform="translate(5521.3,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(5966,0)"><path data-c="2026" d="M78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0T96 17T78 60ZM525 60Q525 84 542 102T585 120Q609 120 627 104T646 61Q646 36 629 18T586 0T543 17T525 60ZM972 60Q972 84 989 102T1032 120Q1056 120 1074 104T1093 61Q1093 36 1076 18T1033 0T990 17T972 60Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(7304.7,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" style="stroke-width:3;"></path></g><g data-mml-node="msub" transform="translate(7749.3,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D410" d="M64 339Q64 431 96 502T182 614T295 675T420 696Q469 696 481 695Q620 680 709 589T798 339Q798 255 768 184Q720 77 611 26L600 21Q635 -26 682 -26H696Q769 -26 769 0Q769 7 774 12T787 18Q805 18 805 -7V-13Q803 -64 785 -106T737 -171Q720 -183 697 -191Q687 -193 668 -193Q636 -193 613 -182T575 -144T552 -94T532 -27Q531 -23 530 -16T528 -6T526 -3L512 -5Q499 -7 477 -8T431 -10Q393 -10 382 -9Q238 8 151 97T64 339ZM326 80Q326 113 356 138T430 163Q492 163 542 100L553 86Q554 85 561 91T578 108Q637 179 637 330Q637 430 619 498T548 604Q500 641 425 641Q408 641 390 637T347 623T299 590T259 535Q226 469 226 338Q226 244 246 180T318 79L325 74Q326 74 326 80ZM506 58Q480 112 433 112Q412 112 395 104T378 77Q378 44 431 44Q480 44 506 58Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mi" transform="translate(897,-150) scale(0.707)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mo" transform="translate(9120.6,0)"><path data-c="5D" d="M22 710V750H159V-250H22V-210H119V710H22Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(9676.4,0)"><path data-c="2208" d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540T469 540H568Q583 532 583 520Q583 511 570 501L466 500Q355 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112T231 48T328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 446 -40T417 -41Q262 -41 172 45Q84 127 84 250Z" style="stroke-width:3;"></path></g><g data-mml-node="msup" transform="translate(10621.1,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="211D" d="M17 665Q17 672 28 683H221Q415 681 439 677Q461 673 481 667T516 654T544 639T566 623T584 607T597 592T607 578T614 565T618 554L621 548Q626 530 626 497Q626 447 613 419Q578 348 473 326L455 321Q462 310 473 292T517 226T578 141T637 72T686 35Q705 30 705 16Q705 7 693 -1H510Q503 6 404 159L306 310H268V183Q270 67 271 59Q274 42 291 38Q295 37 319 35Q344 35 353 28Q362 17 353 3L346 -1H28Q16 5 16 16Q16 35 55 35Q96 38 101 52Q106 60 106 341T101 632Q95 645 55 648Q17 648 17 665ZM241 35Q238 42 237 45T235 78T233 163T233 337V621L237 635L244 648H133Q136 641 137 638T139 603T141 517T141 341Q141 131 140 89T134 37Q133 36 133 35H241ZM457 496Q457 540 449 570T425 615T400 634T377 643Q374 643 339 648Q300 648 281 635Q271 628 270 610T268 481V346H284Q327 346 375 352Q421 364 439 392T457 496ZM492 537T492 496T488 427T478 389T469 371T464 361Q464 360 465 360Q469 360 497 370Q593 400 593 495Q593 592 477 630L457 637L461 626Q474 611 488 561Q492 537 492 496ZM464 243Q411 317 410 317Q404 317 401 315Q384 315 370 312H346L526 35H619L606 50Q553 109 464 243Z" style="stroke-width:3;"></path></g></g><g data-mml-node="TeXAtom" transform="translate(755,413) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(600,0)"><path data-c="D7" d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z" style="stroke-width:3;"></path></g><g data-mml-node="mi" transform="translate(1378,0)"><path data-c="1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(1907,0)"><path data-c="D7" d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z" style="stroke-width:3;"></path></g><g data-mml-node="mi" transform="translate(2685,0)"><path data-c="1D44F" d="M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z" style="stroke-width:3;"></path></g></g></g><g data-mml-node="mo" transform="translate(13628.1,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" style="stroke-width:3;"></path></g><g data-mml-node="mspace" transform="translate(13906.1,0)"></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(14072.7,0)"><g data-mml-node="mi"><path data-c="1D40A" d="M400 0Q376 3 226 3Q75 3 51 0H39V62H147V624H39V686H51Q75 683 226 683Q376 683 400 686H412V624H304V338L472 483L634 624H565V686H576Q597 683 728 683Q814 683 829 686H836V624H730L614 524Q507 432 497 422Q496 422 498 418T514 395T553 342T627 241L759 63L805 62H852V0H842Q830 3 701 3Q550 3 526 0H513V62H549Q584 62 584 63Q583 65 486 196T388 328L304 256V62H412V0H400Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mo" transform="translate(15251.5,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(16307.3,0)"><path data-c="5B" d="M118 -250V750H255V710H158V-210H255V-250H118Z" style="stroke-width:3;"></path></g><g data-mml-node="msub" transform="translate(16585.3,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D40A" d="M400 0Q376 3 226 3Q75 3 51 0H39V62H147V624H39V686H51Q75 683 226 683Q376 683 400 686H412V624H304V338L472 483L634 624H565V686H576Q597 683 728 683Q814 683 829 686H836V624H730L614 524Q507 432 497 422Q496 422 498 418T514 395T553 342T627 241L759 63L805 62H852V0H842Q830 3 701 3Q550 3 526 0H513V62H549Q584 62 584 63Q583 65 486 196T388 328L304 256V62H412V0H400Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mn" transform="translate(934,-150) scale(0.707)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mo" transform="translate(17922.9,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" style="stroke-width:3;"></path></g><g data-mml-node="msub" transform="translate(18367.5,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D40A" d="M400 0Q376 3 226 3Q75 3 51 0H39V62H147V624H39V686H51Q75 683 226 683Q376 683 400 686H412V624H304V338L472 483L634 624H565V686H576Q597 683 728 683Q814 683 829 686H836V624H730L614 524Q507 432 497 422Q496 422 498 418T514 395T553 342T627 241L759 63L805 62H852V0H842Q830 3 701 3Q550 3 526 0H513V62H549Q584 62 584 63Q583 65 486 196T388 328L304 256V62H412V0H400Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mn" transform="translate(934,-150) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mo" transform="translate(19705.1,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(20149.7,0)"><path data-c="2026" d="M78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0T96 17T78 60ZM525 60Q525 84 542 102T585 120Q609 120 627 104T646 61Q646 36 629 18T586 0T543 17T525 60ZM972 60Q972 84 989 102T1032 120Q1056 120 1074 104T1093 61Q1093 36 1076 18T1033 0T990 17T972 60Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(21488.4,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" style="stroke-width:3;"></path></g><g data-mml-node="msub" transform="translate(21933.1,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D40A" d="M400 0Q376 3 226 3Q75 3 51 0H39V62H147V624H39V686H51Q75 683 226 683Q376 683 400 686H412V624H304V338L472 483L634 624H565V686H576Q597 683 728 683Q814 683 829 686H836V624H730L614 524Q507 432 497 422Q496 422 498 418T514 395T553 342T627 241L759 63L805 62H852V0H842Q830 3 701 3Q550 3 526 0H513V62H549Q584 62 584 63Q583 65 486 196T388 328L304 256V62H412V0H400Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mi" transform="translate(934,-150) scale(0.707)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mo" transform="translate(23341.3,0)"><path data-c="5D" d="M22 710V750H159V-250H22V-210H119V710H22Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(23897.1,0)"><path data-c="2208" d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540T469 540H568Q583 532 583 520Q583 511 570 501L466 500Q355 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112T231 48T328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 446 -40T417 -41Q262 -41 172 45Q84 127 84 250Z" style="stroke-width:3;"></path></g><g data-mml-node="msup" transform="translate(24841.9,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="211D" d="M17 665Q17 672 28 683H221Q415 681 439 677Q461 673 481 667T516 654T544 639T566 623T584 607T597 592T607 578T614 565T618 554L621 548Q626 530 626 497Q626 447 613 419Q578 348 473 326L455 321Q462 310 473 292T517 226T578 141T637 72T686 35Q705 30 705 16Q705 7 693 -1H510Q503 6 404 159L306 310H268V183Q270 67 271 59Q274 42 291 38Q295 37 319 35Q344 35 353 28Q362 17 353 3L346 -1H28Q16 5 16 16Q16 35 55 35Q96 38 101 52Q106 60 106 341T101 632Q95 645 55 648Q17 648 17 665ZM241 35Q238 42 237 45T235 78T233 163T233 337V621L237 635L244 648H133Q136 641 137 638T139 603T141 517T141 341Q141 131 140 89T134 37Q133 36 133 35H241ZM457 496Q457 540 449 570T425 615T400 634T377 643Q374 643 339 648Q300 648 281 635Q271 628 270 610T268 481V346H284Q327 346 375 352Q421 364 439 392T457 496ZM492 537T492 496T488 427T478 389T469 371T464 361Q464 360 465 360Q469 360 497 370Q593 400 593 495Q593 592 477 630L457 637L461 626Q474 611 488 561Q492 537 492 496ZM464 243Q411 317 410 317Q404 317 401 315Q384 315 370 312H346L526 35H619L606 50Q553 109 464 243Z" style="stroke-width:3;"></path></g></g><g data-mml-node="TeXAtom" transform="translate(755,413) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(600,0)"><path data-c="D7" d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z" style="stroke-width:3;"></path></g><g data-mml-node="mi" transform="translate(1378,0)"><path data-c="1D44F" d="M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(1807,0)"><path data-c="D7" d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z" style="stroke-width:3;"></path></g><g data-mml-node="mi" transform="translate(2585,0)"><path data-c="1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z" style="stroke-width:3;"></path></g></g></g><g data-mml-node="mo" transform="translate(27780.9,0)"><path data-c="2E" d="M78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0T96 17T78 60Z" style="stroke-width:3;"></path></g></g></g>',1)]))),t[93]||(t[93]=A("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"Q")]),A("mo",null,"="),A("mo",{stretchy:"false"},"["),A("msub",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"Q")]),A("mn",null,"1")]),A("mo",null,","),A("msub",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"Q")]),A("mn",null,"2")]),A("mo",null,","),A("mo",null,"…"),A("mo",null,","),A("msub",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"Q")]),A("mi",null,"n")]),A("mo",{stretchy:"false"},"]"),A("mo",null,"∈"),A("msup",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"double-struck"},"R")]),A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",null,"n"),A("mo",null,"×"),A("mi",null,"a"),A("mo",null,"×"),A("mi",null,"b")])]),A("mo",null,","),A("mspace",{linebreak:"newline"}),A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"K")]),A("mo",null,"="),A("mo",{stretchy:"false"},"["),A("msub",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"K")]),A("mn",null,"1")]),A("mo",null,","),A("msub",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"K")]),A("mn",null,"2")]),A("mo",null,","),A("mo",null,"…"),A("mo",null,","),A("msub",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"K")]),A("mi",null,"n")]),A("mo",{stretchy:"false"},"]"),A("mo",null,"∈"),A("msup",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"double-struck"},"R")]),A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",null,"n"),A("mo",null,"×"),A("mi",null,"b"),A("mo",null,"×"),A("mi",null,"c")])]),A("mo",null,".")])],-1))]),t[230]||(t[230]=A("p",null,"Then the batch matrix multiplication (BMM) computes the elementwise product",-1)),A("mjx-container",sA,[(e(),s("svg",eA,t[94]||(t[94]=[l('<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mtext"><path data-c="42" d="M131 622Q124 629 120 631T104 634T61 637H28V683H229H267H346Q423 683 459 678T531 651Q574 627 599 590T624 512Q624 461 583 419T476 360L466 357Q539 348 595 302T651 187Q651 119 600 67T469 3Q456 1 242 0H28V46H61Q103 47 112 49T131 61V622ZM511 513Q511 560 485 594T416 636Q415 636 403 636T371 636T333 637Q266 637 251 636T232 628Q229 624 229 499V374H312L396 375L406 377Q410 378 417 380T442 393T474 417T499 456T511 513ZM537 188Q537 239 509 282T430 336L329 337H229V200V116Q229 57 234 52Q240 47 334 47H383Q425 47 443 53Q486 67 511 104T537 188Z" style="stroke-width:3;"></path><path data-c="4D" d="M132 622Q125 629 121 631T105 634T62 637H29V683H135Q221 683 232 682T249 675Q250 674 354 398L458 124L562 398Q666 674 668 675Q671 681 683 682T781 683H887V637H854Q814 636 803 634T785 622V61Q791 51 802 49T854 46H887V0H876Q855 3 736 3Q605 3 596 0H585V46H618Q660 47 669 49T688 61V347Q688 424 688 461T688 546T688 613L687 632Q454 14 450 7Q446 1 430 1T410 7Q409 9 292 316L176 624V606Q175 588 175 543T175 463T175 356L176 86Q187 50 261 46H278V0H269Q254 3 154 3Q52 3 37 0H29V46H46Q78 48 98 56T122 69T132 86V622Z" transform="translate(708,0)" style="stroke-width:3;"></path><path data-c="4D" d="M132 622Q125 629 121 631T105 634T62 637H29V683H135Q221 683 232 682T249 675Q250 674 354 398L458 124L562 398Q666 674 668 675Q671 681 683 682T781 683H887V637H854Q814 636 803 634T785 622V61Q791 51 802 49T854 46H887V0H876Q855 3 736 3Q605 3 596 0H585V46H618Q660 47 669 49T688 61V347Q688 424 688 461T688 546T688 613L687 632Q454 14 450 7Q446 1 430 1T410 7Q409 9 292 316L176 624V606Q175 588 175 543T175 463T175 356L176 86Q187 50 261 46H278V0H269Q254 3 154 3Q52 3 37 0H29V46H46Q78 48 98 56T122 69T132 86V622Z" transform="translate(1625,0)" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(2542,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" style="stroke-width:3;"></path></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(2931,0)"><g data-mml-node="mi"><path data-c="1D410" d="M64 339Q64 431 96 502T182 614T295 675T420 696Q469 696 481 695Q620 680 709 589T798 339Q798 255 768 184Q720 77 611 26L600 21Q635 -26 682 -26H696Q769 -26 769 0Q769 7 774 12T787 18Q805 18 805 -7V-13Q803 -64 785 -106T737 -171Q720 -183 697 -191Q687 -193 668 -193Q636 -193 613 -182T575 -144T552 -94T532 -27Q531 -23 530 -16T528 -6T526 -3L512 -5Q499 -7 477 -8T431 -10Q393 -10 382 -9Q238 8 151 97T64 339ZM326 80Q326 113 356 138T430 163Q492 163 542 100L553 86Q554 85 561 91T578 108Q637 179 637 330Q637 430 619 498T548 604Q500 641 425 641Q408 641 390 637T347 623T299 590T259 535Q226 469 226 338Q226 244 246 180T318 79L325 74Q326 74 326 80ZM506 58Q480 112 433 112Q412 112 395 104T378 77Q378 44 431 44Q480 44 506 58Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mo" transform="translate(3795,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" style="stroke-width:3;"></path></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(4239.7,0)"><g data-mml-node="mi"><path data-c="1D40A" d="M400 0Q376 3 226 3Q75 3 51 0H39V62H147V624H39V686H51Q75 683 226 683Q376 683 400 686H412V624H304V338L472 483L634 624H565V686H576Q597 683 728 683Q814 683 829 686H836V624H730L614 524Q507 432 497 422Q496 422 498 418T514 395T553 342T627 241L759 63L805 62H852V0H842Q830 3 701 3Q550 3 526 0H513V62H549Q584 62 584 63Q583 65 486 196T388 328L304 256V62H412V0H400Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mo" transform="translate(5140.7,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(5807.4,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(6863.2,0)"><path data-c="5B" d="M118 -250V750H255V710H158V-210H255V-250H118Z" style="stroke-width:3;"></path></g><g data-mml-node="msub" transform="translate(7141.2,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D410" d="M64 339Q64 431 96 502T182 614T295 675T420 696Q469 696 481 695Q620 680 709 589T798 339Q798 255 768 184Q720 77 611 26L600 21Q635 -26 682 -26H696Q769 -26 769 0Q769 7 774 12T787 18Q805 18 805 -7V-13Q803 -64 785 -106T737 -171Q720 -183 697 -191Q687 -193 668 -193Q636 -193 613 -182T575 -144T552 -94T532 -27Q531 -23 530 -16T528 -6T526 -3L512 -5Q499 -7 477 -8T431 -10Q393 -10 382 -9Q238 8 151 97T64 339ZM326 80Q326 113 356 138T430 163Q492 163 542 100L553 86Q554 85 561 91T578 108Q637 179 637 330Q637 430 619 498T548 604Q500 641 425 641Q408 641 390 637T347 623T299 590T259 535Q226 469 226 338Q226 244 246 180T318 79L325 74Q326 74 326 80ZM506 58Q480 112 433 112Q412 112 395 104T378 77Q378 44 431 44Q480 44 506 58Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mn" transform="translate(897,-150) scale(0.707)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" style="stroke-width:3;"></path></g></g><g data-mml-node="msub" transform="translate(8441.8,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D40A" d="M400 0Q376 3 226 3Q75 3 51 0H39V62H147V624H39V686H51Q75 683 226 683Q376 683 400 686H412V624H304V338L472 483L634 624H565V686H576Q597 683 728 683Q814 683 829 686H836V624H730L614 524Q507 432 497 422Q496 422 498 418T514 395T553 342T627 241L759 63L805 62H852V0H842Q830 3 701 3Q550 3 526 0H513V62H549Q584 62 584 63Q583 65 486 196T388 328L304 256V62H412V0H400Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mn" transform="translate(934,-150) scale(0.707)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mo" transform="translate(9779.3,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" style="stroke-width:3;"></path></g><g data-mml-node="msub" transform="translate(10224,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D410" d="M64 339Q64 431 96 502T182 614T295 675T420 696Q469 696 481 695Q620 680 709 589T798 339Q798 255 768 184Q720 77 611 26L600 21Q635 -26 682 -26H696Q769 -26 769 0Q769 7 774 12T787 18Q805 18 805 -7V-13Q803 -64 785 -106T737 -171Q720 -183 697 -191Q687 -193 668 -193Q636 -193 613 -182T575 -144T552 -94T532 -27Q531 -23 530 -16T528 -6T526 -3L512 -5Q499 -7 477 -8T431 -10Q393 -10 382 -9Q238 8 151 97T64 339ZM326 80Q326 113 356 138T430 163Q492 163 542 100L553 86Q554 85 561 91T578 108Q637 179 637 330Q637 430 619 498T548 604Q500 641 425 641Q408 641 390 637T347 623T299 590T259 535Q226 469 226 338Q226 244 246 180T318 79L325 74Q326 74 326 80ZM506 58Q480 112 433 112Q412 112 395 104T378 77Q378 44 431 44Q480 44 506 58Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mn" transform="translate(897,-150) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" style="stroke-width:3;"></path></g></g><g data-mml-node="msub" transform="translate(11524.5,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D40A" d="M400 0Q376 3 226 3Q75 3 51 0H39V62H147V624H39V686H51Q75 683 226 683Q376 683 400 686H412V624H304V338L472 483L634 624H565V686H576Q597 683 728 683Q814 683 829 686H836V624H730L614 524Q507 432 497 422Q496 422 498 418T514 395T553 342T627 241L759 63L805 62H852V0H842Q830 3 701 3Q550 3 526 0H513V62H549Q584 62 584 63Q583 65 486 196T388 328L304 256V62H412V0H400Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mn" transform="translate(934,-150) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mo" transform="translate(12862.1,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(13306.8,0)"><path data-c="2026" d="M78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0T96 17T78 60ZM525 60Q525 84 542 102T585 120Q609 120 627 104T646 61Q646 36 629 18T586 0T543 17T525 60ZM972 60Q972 84 989 102T1032 120Q1056 120 1074 104T1093 61Q1093 36 1076 18T1033 0T990 17T972 60Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(14645.4,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" style="stroke-width:3;"></path></g><g data-mml-node="msub" transform="translate(15090.1,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D410" d="M64 339Q64 431 96 502T182 614T295 675T420 696Q469 696 481 695Q620 680 709 589T798 339Q798 255 768 184Q720 77 611 26L600 21Q635 -26 682 -26H696Q769 -26 769 0Q769 7 774 12T787 18Q805 18 805 -7V-13Q803 -64 785 -106T737 -171Q720 -183 697 -191Q687 -193 668 -193Q636 -193 613 -182T575 -144T552 -94T532 -27Q531 -23 530 -16T528 -6T526 -3L512 -5Q499 -7 477 -8T431 -10Q393 -10 382 -9Q238 8 151 97T64 339ZM326 80Q326 113 356 138T430 163Q492 163 542 100L553 86Q554 85 561 91T578 108Q637 179 637 330Q637 430 619 498T548 604Q500 641 425 641Q408 641 390 637T347 623T299 590T259 535Q226 469 226 338Q226 244 246 180T318 79L325 74Q326 74 326 80ZM506 58Q480 112 433 112Q412 112 395 104T378 77Q378 44 431 44Q480 44 506 58Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mi" transform="translate(897,-150) scale(0.707)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" style="stroke-width:3;"></path></g></g><g data-mml-node="msub" transform="translate(16461.4,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D40A" d="M400 0Q376 3 226 3Q75 3 51 0H39V62H147V624H39V686H51Q75 683 226 683Q376 683 400 686H412V624H304V338L472 483L634 624H565V686H576Q597 683 728 683Q814 683 829 686H836V624H730L614 524Q507 432 497 422Q496 422 498 418T514 395T553 342T627 241L759 63L805 62H852V0H842Q830 3 701 3Q550 3 526 0H513V62H549Q584 62 584 63Q583 65 486 196T388 328L304 256V62H412V0H400Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mi" transform="translate(934,-150) scale(0.707)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mo" transform="translate(17869.6,0)"><path data-c="5D" d="M22 710V750H159V-250H22V-210H119V710H22Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(18425.4,0)"><path data-c="2208" d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540T469 540H568Q583 532 583 520Q583 511 570 501L466 500Q355 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112T231 48T328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 446 -40T417 -41Q262 -41 172 45Q84 127 84 250Z" style="stroke-width:3;"></path></g><g data-mml-node="msup" transform="translate(19370.2,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="211D" d="M17 665Q17 672 28 683H221Q415 681 439 677Q461 673 481 667T516 654T544 639T566 623T584 607T597 592T607 578T614 565T618 554L621 548Q626 530 626 497Q626 447 613 419Q578 348 473 326L455 321Q462 310 473 292T517 226T578 141T637 72T686 35Q705 30 705 16Q705 7 693 -1H510Q503 6 404 159L306 310H268V183Q270 67 271 59Q274 42 291 38Q295 37 319 35Q344 35 353 28Q362 17 353 3L346 -1H28Q16 5 16 16Q16 35 55 35Q96 38 101 52Q106 60 106 341T101 632Q95 645 55 648Q17 648 17 665ZM241 35Q238 42 237 45T235 78T233 163T233 337V621L237 635L244 648H133Q136 641 137 638T139 603T141 517T141 341Q141 131 140 89T134 37Q133 36 133 35H241ZM457 496Q457 540 449 570T425 615T400 634T377 643Q374 643 339 648Q300 648 281 635Q271 628 270 610T268 481V346H284Q327 346 375 352Q421 364 439 392T457 496ZM492 537T492 496T488 427T478 389T469 371T464 361Q464 360 465 360Q469 360 497 370Q593 400 593 495Q593 592 477 630L457 637L461 626Q474 611 488 561Q492 537 492 496ZM464 243Q411 317 410 317Q404 317 401 315Q384 315 370 312H346L526 35H619L606 50Q553 109 464 243Z" style="stroke-width:3;"></path></g></g><g data-mml-node="TeXAtom" transform="translate(755,413) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(600,0)"><path data-c="D7" d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z" style="stroke-width:3;"></path></g><g data-mml-node="mi" transform="translate(1378,0)"><path data-c="1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(1907,0)"><path data-c="D7" d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z" style="stroke-width:3;"></path></g><g data-mml-node="mi" transform="translate(2685,0)"><path data-c="1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z" style="stroke-width:3;"></path></g></g></g><g data-mml-node="mo" transform="translate(22379.9,0)"><path data-c="2E" d="M78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0T96 17T78 60Z" style="stroke-width:3;"></path></g></g></g>',1)]))),t[95]||(t[95]=A("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[A("mtext",null,"BMM"),A("mo",{stretchy:"false"},"("),A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"Q")]),A("mo",null,","),A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"K")]),A("mo",{stretchy:"false"},")"),A("mo",null,"="),A("mo",{stretchy:"false"},"["),A("msub",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"Q")]),A("mn",null,"1")]),A("msub",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"K")]),A("mn",null,"1")]),A("mo",null,","),A("msub",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"Q")]),A("mn",null,"2")]),A("msub",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"K")]),A("mn",null,"2")]),A("mo",null,","),A("mo",null,"…"),A("mo",null,","),A("msub",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"Q")]),A("mi",null,"n")]),A("msub",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"K")]),A("mi",null,"n")]),A("mo",{stretchy:"false"},"]"),A("mo",null,"∈"),A("msup",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"double-struck"},"R")]),A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",null,"n"),A("mo",null,"×"),A("mi",null,"a"),A("mo",null,"×"),A("mi",null,"c")])]),A("mo",null,".")])],-1))]),t[231]||(t[231]=l(`<p>:eqlabel:<code>eq_batch-matrix-mul</code></p><p>Let&#39;s see this in action in a deep learning framework.</p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Q </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> randn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">K </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> randn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">M </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> batched_mul</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Q, K)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">@assert</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> size</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(M) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h2 id="Scaled-Dot-Product-Attention" tabindex="-1">Scaled Dot Product Attention <a class="header-anchor" href="#Scaled-Dot-Product-Attention" aria-label="Permalink to &quot;Scaled Dot Product Attention {#Scaled-Dot-Product-Attention}&quot;">​</a></h2>`,4)),A("p",null,[t[104]||(t[104]=a("Let's return to the dot product attention introduced in :eqref:")),t[105]||(t[105]=A("code",null,"eq_dot_product_attention",-1)),t[106]||(t[106]=a(". In general, it requires that both the query and the key have the same vector length, say ")),A("mjx-container",lA,[(e(),s("svg",iA,t[96]||(t[96]=[A("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[A("g",{"data-mml-node":"math"},[A("g",{"data-mml-node":"mi"},[A("path",{"data-c":"1D451",d:"M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z",style:{"stroke-width":"3"}})])])],-1)]))),t[97]||(t[97]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("mi",null,"d")])],-1))]),t[107]||(t[107]=a(", even though this can be addressed easily by replacing ")),A("mjx-container",QA,[(e(),s("svg",nA,t[98]||(t[98]=[l('<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D42A" d="M38 220Q38 273 54 314T95 380T152 421T211 443T264 449Q368 449 429 386L438 377L484 450H540V-132H609V-194H600Q582 -191 475 -191Q360 -191 351 -194H342V-132H411V42Q409 41 399 34T383 25T367 16T347 7T324 1T296 -4T264 -6Q162 -6 100 56T38 220ZM287 46Q368 46 417 127V301L412 312Q398 347 369 371T302 395Q282 395 263 388T225 362T194 308T182 221Q182 126 214 86T287 46Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mi" transform="translate(640,363) scale(0.707)"><path data-c="22A4" d="M55 642T55 648T59 659T66 666T71 668H708Q723 660 723 648T708 628H409V15Q402 2 391 0Q387 0 384 1T379 3T375 6T373 9T371 13T369 16V628H71Q70 628 67 630T59 637Z" style="stroke-width:3;"></path></g></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(1240.1,0)"><g data-mml-node="mi"><path data-c="1D424" d="M32 686L123 690Q214 694 215 694H221V255L377 382H346V444H355Q370 441 476 441Q544 441 556 444H562V382H476L347 277L515 62H587V0H579Q564 3 476 3Q370 3 352 0H343V62H358L373 63L260 206L237 189L216 172V62H285V0H277Q259 3 157 3Q46 3 37 0H29V62H98V332Q98 387 98 453T99 534Q99 593 97 605T83 620Q69 624 42 624H29V686H32Z" style="stroke-width:3;"></path></g></g></g></g>',1)]))),t[99]||(t[99]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("msup",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"q")]),A("mi",{mathvariant:"normal"},"⊤")]),A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"k")])])],-1))]),t[108]||(t[108]=a(" with ")),A("mjx-container",oA,[(e(),s("svg",TA,t[100]||(t[100]=[l('<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D42A" d="M38 220Q38 273 54 314T95 380T152 421T211 443T264 449Q368 449 429 386L438 377L484 450H540V-132H609V-194H600Q582 -191 475 -191Q360 -191 351 -194H342V-132H411V42Q409 41 399 34T383 25T367 16T347 7T324 1T296 -4T264 -6Q162 -6 100 56T38 220ZM287 46Q368 46 417 127V301L412 312Q398 347 369 371T302 395Q282 395 263 388T225 362T194 308T182 221Q182 126 214 86T287 46Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mi" transform="translate(640,363) scale(0.707)"><path data-c="22A4" d="M55 642T55 648T59 659T66 666T71 668H708Q723 660 723 648T708 628H409V15Q402 2 391 0Q387 0 384 1T379 3T375 6T373 9T371 13T369 16V628H71Q70 628 67 630T59 637Z" style="stroke-width:3;"></path></g></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(1240.1,0)"><g data-mml-node="mi"><path data-c="1D40C" d="M314 0Q296 3 181 3T48 0H39V62H147V624H39V686H305Q316 679 323 667Q330 653 434 414L546 157L658 414Q766 662 773 674Q778 681 788 686H1052V624H944V62H1052V0H1040Q1016 3 874 3T708 0H696V62H804V341L803 618L786 580Q770 543 735 462T671 315Q540 13 536 9Q528 1 507 1Q485 1 477 9Q472 14 408 162T281 457T217 603Q215 603 215 334V62H323V0H314Z" style="stroke-width:3;"></path></g></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(2332.1,0)"><g data-mml-node="mi"><path data-c="1D424" d="M32 686L123 690Q214 694 215 694H221V255L377 382H346V444H355Q370 441 476 441Q544 441 556 444H562V382H476L347 277L515 62H587V0H579Q564 3 476 3Q370 3 352 0H343V62H358L373 63L260 206L237 189L216 172V62H285V0H277Q259 3 157 3Q46 3 37 0H29V62H98V332Q98 387 98 453T99 534Q99 593 97 605T83 620Q69 624 42 624H29V686H32Z" style="stroke-width:3;"></path></g></g></g></g>',1)]))),t[101]||(t[101]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("msup",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"q")]),A("mi",{mathvariant:"normal"},"⊤")]),A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"M")]),A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"k")])])],-1))]),t[109]||(t[109]=a(" where ")),A("mjx-container",rA,[(e(),s("svg",dA,t[102]||(t[102]=[l('<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D40C" d="M314 0Q296 3 181 3T48 0H39V62H147V624H39V686H305Q316 679 323 667Q330 653 434 414L546 157L658 414Q766 662 773 674Q778 681 788 686H1052V624H944V62H1052V0H1040Q1016 3 874 3T708 0H696V62H804V341L803 618L786 580Q770 543 735 462T671 315Q540 13 536 9Q528 1 507 1Q485 1 477 9Q472 14 408 162T281 457T217 603Q215 603 215 334V62H323V0H314Z" style="stroke-width:3;"></path></g></g></g></g>',1)]))),t[103]||(t[103]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"M")])])],-1))]),t[110]||(t[110]=a(" is a matrix suitably chosen for translating between both spaces. For now assume that the dimensions match."))]),A("p",null,[t[125]||(t[125]=a("In practice, we often think of minibatches for efficiency, such as computing attention for ")),A("mjx-container",pA,[(e(),s("svg",hA,t[111]||(t[111]=[A("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[A("g",{"data-mml-node":"math"},[A("g",{"data-mml-node":"mi"},[A("path",{"data-c":"1D45B",d:"M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z",style:{"stroke-width":"3"}})])])],-1)]))),t[112]||(t[112]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("mi",null,"n")])],-1))]),t[126]||(t[126]=a(" queries and ")),A("mjx-container",gA,[(e(),s("svg",mA,t[113]||(t[113]=[A("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[A("g",{"data-mml-node":"math"},[A("g",{"data-mml-node":"mi"},[A("path",{"data-c":"1D45A",d:"M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z",style:{"stroke-width":"3"}})])])],-1)]))),t[114]||(t[114]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("mi",null,"m")])],-1))]),t[127]||(t[127]=a(" key-value pairs, where queries and keys are of length ")),A("mjx-container",kA,[(e(),s("svg",cA,t[115]||(t[115]=[A("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[A("g",{"data-mml-node":"math"},[A("g",{"data-mml-node":"mi"},[A("path",{"data-c":"1D451",d:"M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z",style:{"stroke-width":"3"}})])])],-1)]))),t[116]||(t[116]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("mi",null,"d")])],-1))]),t[128]||(t[128]=a(" and values are of length ")),A("mjx-container",uA,[(e(),s("svg",wA,t[117]||(t[117]=[A("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[A("g",{"data-mml-node":"math"},[A("g",{"data-mml-node":"mi"},[A("path",{"data-c":"1D463",d:"M173 380Q173 405 154 405Q130 405 104 376T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Q21 294 29 316T53 368T97 419T160 441Q202 441 225 417T249 361Q249 344 246 335Q246 329 231 291T200 202T182 113Q182 86 187 69Q200 26 250 26Q287 26 319 60T369 139T398 222T409 277Q409 300 401 317T383 343T365 361T357 383Q357 405 376 424T417 443Q436 443 451 425T467 367Q467 340 455 284T418 159T347 40T241 -11Q177 -11 139 22Q102 54 102 117Q102 148 110 181T151 298Q173 362 173 380Z",style:{"stroke-width":"3"}})])])],-1)]))),t[118]||(t[118]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("mi",null,"v")])],-1))]),t[129]||(t[129]=a(". The scaled dot product attention of queries ")),A("mjx-container",LA,[(e(),s("svg",CA,t[119]||(t[119]=[l('<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D410" d="M64 339Q64 431 96 502T182 614T295 675T420 696Q469 696 481 695Q620 680 709 589T798 339Q798 255 768 184Q720 77 611 26L600 21Q635 -26 682 -26H696Q769 -26 769 0Q769 7 774 12T787 18Q805 18 805 -7V-13Q803 -64 785 -106T737 -171Q720 -183 697 -191Q687 -193 668 -193Q636 -193 613 -182T575 -144T552 -94T532 -27Q531 -23 530 -16T528 -6T526 -3L512 -5Q499 -7 477 -8T431 -10Q393 -10 382 -9Q238 8 151 97T64 339ZM326 80Q326 113 356 138T430 163Q492 163 542 100L553 86Q554 85 561 91T578 108Q637 179 637 330Q637 430 619 498T548 604Q500 641 425 641Q408 641 390 637T347 623T299 590T259 535Q226 469 226 338Q226 244 246 180T318 79L325 74Q326 74 326 80ZM506 58Q480 112 433 112Q412 112 395 104T378 77Q378 44 431 44Q480 44 506 58Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mo" transform="translate(1141.8,0)"><path data-c="2208" d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540T469 540H568Q583 532 583 520Q583 511 570 501L466 500Q355 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112T231 48T328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 446 -40T417 -41Q262 -41 172 45Q84 127 84 250Z" style="stroke-width:3;"></path></g><g data-mml-node="msup" transform="translate(2086.6,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="211D" d="M17 665Q17 672 28 683H221Q415 681 439 677Q461 673 481 667T516 654T544 639T566 623T584 607T597 592T607 578T614 565T618 554L621 548Q626 530 626 497Q626 447 613 419Q578 348 473 326L455 321Q462 310 473 292T517 226T578 141T637 72T686 35Q705 30 705 16Q705 7 693 -1H510Q503 6 404 159L306 310H268V183Q270 67 271 59Q274 42 291 38Q295 37 319 35Q344 35 353 28Q362 17 353 3L346 -1H28Q16 5 16 16Q16 35 55 35Q96 38 101 52Q106 60 106 341T101 632Q95 645 55 648Q17 648 17 665ZM241 35Q238 42 237 45T235 78T233 163T233 337V621L237 635L244 648H133Q136 641 137 638T139 603T141 517T141 341Q141 131 140 89T134 37Q133 36 133 35H241ZM457 496Q457 540 449 570T425 615T400 634T377 643Q374 643 339 648Q300 648 281 635Q271 628 270 610T268 481V346H284Q327 346 375 352Q421 364 439 392T457 496ZM492 537T492 496T488 427T478 389T469 371T464 361Q464 360 465 360Q469 360 497 370Q593 400 593 495Q593 592 477 630L457 637L461 626Q474 611 488 561Q492 537 492 496ZM464 243Q411 317 410 317Q404 317 401 315Q384 315 370 312H346L526 35H619L606 50Q553 109 464 243Z" style="stroke-width:3;"></path></g></g><g data-mml-node="TeXAtom" transform="translate(755,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(600,0)"><path data-c="D7" d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z" style="stroke-width:3;"></path></g><g data-mml-node="mi" transform="translate(1378,0)"><path data-c="1D451" d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z" style="stroke-width:3;"></path></g></g></g></g></g>',1)]))),t[120]||(t[120]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"Q")]),A("mo",null,"∈"),A("msup",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"double-struck"},"R")]),A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",null,"n"),A("mo",null,"×"),A("mi",null,"d")])])])],-1))]),t[130]||(t[130]=a(", keys ")),A("mjx-container",BA,[(e(),s("svg",xA,t[121]||(t[121]=[l('<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D40A" d="M400 0Q376 3 226 3Q75 3 51 0H39V62H147V624H39V686H51Q75 683 226 683Q376 683 400 686H412V624H304V338L472 483L634 624H565V686H576Q597 683 728 683Q814 683 829 686H836V624H730L614 524Q507 432 497 422Q496 422 498 418T514 395T553 342T627 241L759 63L805 62H852V0H842Q830 3 701 3Q550 3 526 0H513V62H549Q584 62 584 63Q583 65 486 196T388 328L304 256V62H412V0H400Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mo" transform="translate(1178.8,0)"><path data-c="2208" d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540T469 540H568Q583 532 583 520Q583 511 570 501L466 500Q355 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112T231 48T328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 446 -40T417 -41Q262 -41 172 45Q84 127 84 250Z" style="stroke-width:3;"></path></g><g data-mml-node="msup" transform="translate(2123.6,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="211D" d="M17 665Q17 672 28 683H221Q415 681 439 677Q461 673 481 667T516 654T544 639T566 623T584 607T597 592T607 578T614 565T618 554L621 548Q626 530 626 497Q626 447 613 419Q578 348 473 326L455 321Q462 310 473 292T517 226T578 141T637 72T686 35Q705 30 705 16Q705 7 693 -1H510Q503 6 404 159L306 310H268V183Q270 67 271 59Q274 42 291 38Q295 37 319 35Q344 35 353 28Q362 17 353 3L346 -1H28Q16 5 16 16Q16 35 55 35Q96 38 101 52Q106 60 106 341T101 632Q95 645 55 648Q17 648 17 665ZM241 35Q238 42 237 45T235 78T233 163T233 337V621L237 635L244 648H133Q136 641 137 638T139 603T141 517T141 341Q141 131 140 89T134 37Q133 36 133 35H241ZM457 496Q457 540 449 570T425 615T400 634T377 643Q374 643 339 648Q300 648 281 635Q271 628 270 610T268 481V346H284Q327 346 375 352Q421 364 439 392T457 496ZM492 537T492 496T488 427T478 389T469 371T464 361Q464 360 465 360Q469 360 497 370Q593 400 593 495Q593 592 477 630L457 637L461 626Q474 611 488 561Q492 537 492 496ZM464 243Q411 317 410 317Q404 317 401 315Q384 315 370 312H346L526 35H619L606 50Q553 109 464 243Z" style="stroke-width:3;"></path></g></g><g data-mml-node="TeXAtom" transform="translate(755,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D45A" d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(878,0)"><path data-c="D7" d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z" style="stroke-width:3;"></path></g><g data-mml-node="mi" transform="translate(1656,0)"><path data-c="1D451" d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z" style="stroke-width:3;"></path></g></g></g></g></g>',1)]))),t[122]||(t[122]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"K")]),A("mo",null,"∈"),A("msup",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"double-struck"},"R")]),A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",null,"m"),A("mo",null,"×"),A("mi",null,"d")])])])],-1))]),t[131]||(t[131]=a(", and values ")),A("mjx-container",EA,[(e(),s("svg",HA,t[123]||(t[123]=[l('<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D415" d="M592 686H604Q615 685 631 685T666 684T700 684T724 683Q829 683 835 686H843V624H744L611 315Q584 254 546 165Q492 40 482 19T461 -6L460 -7H409Q398 -4 391 9Q385 20 257 315L124 624H25V686H36Q57 683 190 683Q340 683 364 686H377V624H289L384 403L480 185L492 212Q504 240 529 298T575 405L670 624H582V686H592Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mo" transform="translate(1146.8,0)"><path data-c="2208" d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540T469 540H568Q583 532 583 520Q583 511 570 501L466 500Q355 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112T231 48T328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 446 -40T417 -41Q262 -41 172 45Q84 127 84 250Z" style="stroke-width:3;"></path></g><g data-mml-node="msup" transform="translate(2091.6,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="211D" d="M17 665Q17 672 28 683H221Q415 681 439 677Q461 673 481 667T516 654T544 639T566 623T584 607T597 592T607 578T614 565T618 554L621 548Q626 530 626 497Q626 447 613 419Q578 348 473 326L455 321Q462 310 473 292T517 226T578 141T637 72T686 35Q705 30 705 16Q705 7 693 -1H510Q503 6 404 159L306 310H268V183Q270 67 271 59Q274 42 291 38Q295 37 319 35Q344 35 353 28Q362 17 353 3L346 -1H28Q16 5 16 16Q16 35 55 35Q96 38 101 52Q106 60 106 341T101 632Q95 645 55 648Q17 648 17 665ZM241 35Q238 42 237 45T235 78T233 163T233 337V621L237 635L244 648H133Q136 641 137 638T139 603T141 517T141 341Q141 131 140 89T134 37Q133 36 133 35H241ZM457 496Q457 540 449 570T425 615T400 634T377 643Q374 643 339 648Q300 648 281 635Q271 628 270 610T268 481V346H284Q327 346 375 352Q421 364 439 392T457 496ZM492 537T492 496T488 427T478 389T469 371T464 361Q464 360 465 360Q469 360 497 370Q593 400 593 495Q593 592 477 630L457 637L461 626Q474 611 488 561Q492 537 492 496ZM464 243Q411 317 410 317Q404 317 401 315Q384 315 370 312H346L526 35H619L606 50Q553 109 464 243Z" style="stroke-width:3;"></path></g></g><g data-mml-node="TeXAtom" transform="translate(755,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D45A" d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(878,0)"><path data-c="D7" d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z" style="stroke-width:3;"></path></g><g data-mml-node="mi" transform="translate(1656,0)"><path data-c="1D463" d="M173 380Q173 405 154 405Q130 405 104 376T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Q21 294 29 316T53 368T97 419T160 441Q202 441 225 417T249 361Q249 344 246 335Q246 329 231 291T200 202T182 113Q182 86 187 69Q200 26 250 26Q287 26 319 60T369 139T398 222T409 277Q409 300 401 317T383 343T365 361T357 383Q357 405 376 424T417 443Q436 443 451 425T467 367Q467 340 455 284T418 159T347 40T241 -11Q177 -11 139 22Q102 54 102 117Q102 148 110 181T151 298Q173 362 173 380Z" style="stroke-width:3;"></path></g></g></g></g></g>',1)]))),t[124]||(t[124]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"V")]),A("mo",null,"∈"),A("msup",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"double-struck"},"R")]),A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",null,"m"),A("mo",null,"×"),A("mi",null,"v")])])])],-1))]),t[132]||(t[132]=a(" thus can be written as"))]),t[232]||(t[232]=l(`<p>$</p><p>\\mathrm{softmax}\\left(\\frac{\\mathbf Q \\mathbf K^\\top }{\\sqrt{d}}\\right) \\mathbf V \\in \\mathbb{R}^{n\\times v}.$ :eqlabel:<code>eq_softmax_QK_V</code></p><p>Note that when applying this to a minibatch, we need the batch matrix multiplication introduced in :eqref:<code>eq_batch-matrix-mul</code>. In the following implementation of the scaled dot product attention, we use dropout for model regularization.</p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">struct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> DotProductAttention{D, A}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    dropout</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">D</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    args</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">A</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">end</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (m</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">DotProductAttention</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)(queries, keys, values, valid_len </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> nothing</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # keys -&gt; d x num_keys x batch_size</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # queries -&gt; d x num_queries x batch_size</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    d </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> size</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(queries, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    scores </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> batched_mul</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">batched_transpose</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(keys), queries) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">./</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> sqrt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(d)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # scores -&gt; num_keys x num_queries x batch_size </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    attention_weights </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> masked_softmax</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(scores, valid_len)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # attention_weights -&gt; num_keys x num_queries x batch_size</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> batched_mul</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(values, m</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">dropout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(attention_weights)), attention_weights</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">end</span></span></code></pre></div>`,4)),A("p",null,[t[145]||(t[145]=a("To illustrate how the ")),t[146]||(t[146]=A("code",null,"DotProductAttention",-1)),t[147]||(t[147]=a(" works, we use the same keys, values, and valid lengths from the earlier toy example for additive attention. For the purpose of our example we assume that we have a minibatch size of ")),A("mjx-container",yA,[(e(),s("svg",fA,t[133]||(t[133]=[A("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[A("g",{"data-mml-node":"math"},[A("g",{"data-mml-node":"mn"},[A("path",{"data-c":"32",d:"M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z",style:{"stroke-width":"3"}})])])],-1)]))),t[134]||(t[134]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("mn",null,"2")])],-1))]),t[148]||(t[148]=a(", a total of ")),A("mjx-container",IA,[(e(),s("svg",VA,t[135]||(t[135]=[l('<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" style="stroke-width:3;"></path><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" transform="translate(500,0)" style="stroke-width:3;"></path></g></g></g>',1)]))),t[136]||(t[136]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("mn",null,"10")])],-1))]),t[149]||(t[149]=a(" keys and values, and that the dimensionality of the values is ")),A("mjx-container",FA,[(e(),s("svg",MA,t[137]||(t[137]=[A("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[A("g",{"data-mml-node":"math"},[A("g",{"data-mml-node":"mn"},[A("path",{"data-c":"34",d:"M462 0Q444 3 333 3Q217 3 199 0H190V46H221Q241 46 248 46T265 48T279 53T286 61Q287 63 287 115V165H28V211L179 442Q332 674 334 675Q336 677 355 677H373L379 671V211H471V165H379V114Q379 73 379 66T385 54Q393 47 442 46H471V0H462ZM293 211V545L74 212L183 211H293Z",style:{"stroke-width":"3"}})])])],-1)]))),t[138]||(t[138]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("mn",null,"4")])],-1))]),t[150]||(t[150]=a(". Lastly, we assume that the valid length per observation is ")),A("mjx-container",DA,[(e(),s("svg",vA,t[139]||(t[139]=[A("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[A("g",{"data-mml-node":"math"},[A("g",{"data-mml-node":"mn"},[A("path",{"data-c":"32",d:"M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z",style:{"stroke-width":"3"}})])])],-1)]))),t[140]||(t[140]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("mn",null,"2")])],-1))]),t[151]||(t[151]=a(" and ")),A("mjx-container",bA,[(e(),s("svg",ZA,t[141]||(t[141]=[A("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[A("g",{"data-mml-node":"math"},[A("g",{"data-mml-node":"mn"},[A("path",{"data-c":"36",d:"M42 313Q42 476 123 571T303 666Q372 666 402 630T432 550Q432 525 418 510T379 495Q356 495 341 509T326 548Q326 592 373 601Q351 623 311 626Q240 626 194 566Q147 500 147 364L148 360Q153 366 156 373Q197 433 263 433H267Q313 433 348 414Q372 400 396 374T435 317Q456 268 456 210V192Q456 169 451 149Q440 90 387 34T253 -22Q225 -22 199 -14T143 16T92 75T56 172T42 313ZM257 397Q227 397 205 380T171 335T154 278T148 216Q148 133 160 97T198 39Q222 21 251 21Q302 21 329 59Q342 77 347 104T352 209Q352 289 347 316T329 361Q302 397 257 397Z",style:{"stroke-width":"3"}})])])],-1)]))),t[142]||(t[142]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("mn",null,"6")])],-1))]),t[152]||(t[152]=a(" respectively. Given that, we expect the output to be a ")),A("mjx-container",_A,[(e(),s("svg",jA,t[143]||(t[143]=[l('<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(722.2,0)"><path data-c="D7" d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z" style="stroke-width:3;"></path></g><g data-mml-node="mn" transform="translate(1722.4,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(2444.7,0)"><path data-c="D7" d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z" style="stroke-width:3;"></path></g><g data-mml-node="mn" transform="translate(3444.9,0)"><path data-c="34" d="M462 0Q444 3 333 3Q217 3 199 0H190V46H221Q241 46 248 46T265 48T279 53T286 61Q287 63 287 115V165H28V211L179 442Q332 674 334 675Q336 677 355 677H373L379 671V211H471V165H379V114Q379 73 379 66T385 54Q393 47 442 46H471V0H462ZM293 211V545L74 212L183 211H293Z" style="stroke-width:3;"></path></g></g></g>',1)]))),t[144]||(t[144]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("mn",null,"2"),A("mo",null,"×"),A("mn",null,"1"),A("mo",null,"×"),A("mn",null,"4")])],-1))]),t[153]||(t[153]=a(" tensor, i.e., one row per example of the minibatch."))]),t[233]||(t[233]=l(`<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">batch_size </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">num_key_val </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">num_queries </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">d </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d_k </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d_q </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">d_v </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">queries </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> randn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(d, num_queries, batch_size)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">keys </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> randn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(d, num_key_val, batch_size)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">vals </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> randn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(d_v, num_key_val, batch_size)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">valid_len </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">dot_product_attn </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> DotProductAttention</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Flux</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Dropout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">nothing</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">scores, attn_weights </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> dot_product_attn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(queries, keys, vals, valid_len)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">@assert</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> size</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(scores) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">d2lai</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">show_heatmaps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">reshape</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(attn_weights, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Queries&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Keys&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="600" height="400" viewBox="0 0 2400 1600"><defs><clipPath id="clip770"><rect x="0" y="0" width="2400" height="1600"></rect></clipPath></defs><path clip-path="url(#clip770)" d="M0 1600 L2400 1600 L2400 0 L0 0  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path><defs><clipPath id="clip771"><rect x="480" y="0" width="1681" height="1600"></rect></clipPath></defs><path clip-path="url(#clip770)" d="M202.227 1423.18 L2112.76 1423.18 L2112.76 47.2441 L202.227 47.2441  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path><defs><clipPath id="clip772"><rect x="202" y="47" width="1912" height="1377"></rect></clipPath></defs><polyline clip-path="url(#clip772)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:2;stroke-opacity:0.1;fill:none;" points="202.227,1423.18 202.227,47.2441 "></polyline><polyline clip-path="url(#clip772)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:2;stroke-opacity:0.1;fill:none;" points="679.86,1423.18 679.86,47.2441 "></polyline><polyline clip-path="url(#clip772)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:2;stroke-opacity:0.1;fill:none;" points="1157.49,1423.18 1157.49,47.2441 "></polyline><polyline clip-path="url(#clip772)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:2;stroke-opacity:0.1;fill:none;" points="1635.12,1423.18 1635.12,47.2441 "></polyline><polyline clip-path="url(#clip772)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:2;stroke-opacity:0.1;fill:none;" points="2112.76,1423.18 2112.76,47.2441 "></polyline><polyline clip-path="url(#clip772)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:2;stroke-opacity:0.1;fill:none;" points="202.227,1216.79 2112.76,1216.79 "></polyline><polyline clip-path="url(#clip772)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:2;stroke-opacity:0.1;fill:none;" points="202.227,941.602 2112.76,941.602 "></polyline><polyline clip-path="url(#clip772)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:2;stroke-opacity:0.1;fill:none;" points="202.227,666.415 2112.76,666.415 "></polyline><polyline clip-path="url(#clip772)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:2;stroke-opacity:0.1;fill:none;" points="202.227,391.228 2112.76,391.228 "></polyline><polyline clip-path="url(#clip772)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:2;stroke-opacity:0.1;fill:none;" points="202.227,116.041 2112.76,116.041 "></polyline><polyline clip-path="url(#clip770)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="202.227,1423.18 2112.76,1423.18 "></polyline><polyline clip-path="url(#clip770)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="202.227,1423.18 202.227,1404.28 "></polyline><polyline clip-path="url(#clip770)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="679.86,1423.18 679.86,1404.28 "></polyline><polyline clip-path="url(#clip770)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="1157.49,1423.18 1157.49,1404.28 "></polyline><polyline clip-path="url(#clip770)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="1635.12,1423.18 1635.12,1404.28 "></polyline><polyline clip-path="url(#clip770)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="2112.76,1423.18 2112.76,1404.28 "></polyline><path clip-path="url(#clip770)" d="M180.11 1454.1 Q176.498 1454.1 174.67 1457.66 Q172.864 1461.2 172.864 1468.33 Q172.864 1475.44 174.67 1479.01 Q176.498 1482.55 180.11 1482.55 Q183.744 1482.55 185.549 1479.01 Q187.378 1475.44 187.378 1468.33 Q187.378 1461.2 185.549 1457.66 Q183.744 1454.1 180.11 1454.1 M180.11 1450.39 Q185.92 1450.39 188.975 1455 Q192.054 1459.58 192.054 1468.33 Q192.054 1477.06 188.975 1481.67 Q185.92 1486.25 180.11 1486.25 Q174.299 1486.25 171.221 1481.67 Q168.165 1477.06 168.165 1468.33 Q168.165 1459.58 171.221 1455 Q174.299 1450.39 180.11 1450.39 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip770)" d="M200.271 1479.7 L205.156 1479.7 L205.156 1485.58 L200.271 1485.58 L200.271 1479.7 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip770)" d="M215.387 1451.02 L233.744 1451.02 L233.744 1454.96 L219.67 1454.96 L219.67 1463.43 Q220.688 1463.08 221.707 1462.92 Q222.725 1462.73 223.744 1462.73 Q229.531 1462.73 232.91 1465.9 Q236.29 1469.08 236.29 1474.49 Q236.29 1480.07 232.818 1483.17 Q229.345 1486.25 223.026 1486.25 Q220.85 1486.25 218.582 1485.88 Q216.336 1485.51 213.929 1484.77 L213.929 1480.07 Q216.012 1481.2 218.234 1481.76 Q220.457 1482.32 222.933 1482.32 Q226.938 1482.32 229.276 1480.21 Q231.614 1478.1 231.614 1474.49 Q231.614 1470.88 229.276 1468.77 Q226.938 1466.67 222.933 1466.67 Q221.058 1466.67 219.183 1467.08 Q217.332 1467.5 215.387 1468.38 L215.387 1451.02 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip770)" d="M647.013 1481.64 L654.651 1481.64 L654.651 1455.28 L646.341 1456.95 L646.341 1452.69 L654.605 1451.02 L659.281 1451.02 L659.281 1481.64 L666.92 1481.64 L666.92 1485.58 L647.013 1485.58 L647.013 1481.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip770)" d="M676.364 1479.7 L681.248 1479.7 L681.248 1485.58 L676.364 1485.58 L676.364 1479.7 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip770)" d="M701.434 1454.1 Q697.822 1454.1 695.994 1457.66 Q694.188 1461.2 694.188 1468.33 Q694.188 1475.44 695.994 1479.01 Q697.822 1482.55 701.434 1482.55 Q705.068 1482.55 706.873 1479.01 Q708.702 1475.44 708.702 1468.33 Q708.702 1461.2 706.873 1457.66 Q705.068 1454.1 701.434 1454.1 M701.434 1450.39 Q707.244 1450.39 710.299 1455 Q713.378 1459.58 713.378 1468.33 Q713.378 1477.06 710.299 1481.67 Q707.244 1486.25 701.434 1486.25 Q695.623 1486.25 692.545 1481.67 Q689.489 1477.06 689.489 1468.33 Q689.489 1459.58 692.545 1455 Q695.623 1450.39 701.434 1450.39 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip770)" d="M1125.14 1481.64 L1132.78 1481.64 L1132.78 1455.28 L1124.47 1456.95 L1124.47 1452.69 L1132.73 1451.02 L1137.41 1451.02 L1137.41 1481.64 L1145.05 1481.64 L1145.05 1485.58 L1125.14 1485.58 L1125.14 1481.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip770)" d="M1154.49 1479.7 L1159.38 1479.7 L1159.38 1485.58 L1154.49 1485.58 L1154.49 1479.7 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip770)" d="M1169.61 1451.02 L1187.97 1451.02 L1187.97 1454.96 L1173.89 1454.96 L1173.89 1463.43 Q1174.91 1463.08 1175.93 1462.92 Q1176.95 1462.73 1177.97 1462.73 Q1183.75 1462.73 1187.13 1465.9 Q1190.51 1469.08 1190.51 1474.49 Q1190.51 1480.07 1187.04 1483.17 Q1183.57 1486.25 1177.25 1486.25 Q1175.07 1486.25 1172.8 1485.88 Q1170.56 1485.51 1168.15 1484.77 L1168.15 1480.07 Q1170.23 1481.2 1172.46 1481.76 Q1174.68 1482.32 1177.16 1482.32 Q1181.16 1482.32 1183.5 1480.21 Q1185.84 1478.1 1185.84 1474.49 Q1185.84 1470.88 1183.5 1468.77 Q1181.16 1466.67 1177.16 1466.67 Q1175.28 1466.67 1173.41 1467.08 Q1171.55 1467.5 1169.61 1468.38 L1169.61 1451.02 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip770)" d="M1606.36 1481.64 L1622.68 1481.64 L1622.68 1485.58 L1600.74 1485.58 L1600.74 1481.64 Q1603.4 1478.89 1607.98 1474.26 Q1612.59 1469.61 1613.77 1468.27 Q1616.02 1465.74 1616.89 1464.01 Q1617.8 1462.25 1617.8 1460.56 Q1617.8 1457.8 1615.85 1456.07 Q1613.93 1454.33 1610.83 1454.33 Q1608.63 1454.33 1606.18 1455.09 Q1603.75 1455.86 1600.97 1457.41 L1600.97 1452.69 Q1603.79 1451.55 1606.25 1450.97 Q1608.7 1450.39 1610.74 1450.39 Q1616.11 1450.39 1619.3 1453.08 Q1622.5 1455.77 1622.5 1460.26 Q1622.5 1462.39 1621.69 1464.31 Q1620.9 1466.2 1618.79 1468.8 Q1618.21 1469.47 1615.11 1472.69 Q1612.01 1475.88 1606.36 1481.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip770)" d="M1632.5 1479.7 L1637.38 1479.7 L1637.38 1485.58 L1632.5 1485.58 L1632.5 1479.7 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip770)" d="M1657.57 1454.1 Q1653.95 1454.1 1652.13 1457.66 Q1650.32 1461.2 1650.32 1468.33 Q1650.32 1475.44 1652.13 1479.01 Q1653.95 1482.55 1657.57 1482.55 Q1661.2 1482.55 1663.01 1479.01 Q1664.83 1475.44 1664.83 1468.33 Q1664.83 1461.2 1663.01 1457.66 Q1661.2 1454.1 1657.57 1454.1 M1657.57 1450.39 Q1663.38 1450.39 1666.43 1455 Q1669.51 1459.58 1669.51 1468.33 Q1669.51 1477.06 1666.43 1481.67 Q1663.38 1486.25 1657.57 1486.25 Q1651.76 1486.25 1648.68 1481.67 Q1645.62 1477.06 1645.62 1468.33 Q1645.62 1459.58 1648.68 1455 Q1651.76 1450.39 1657.57 1450.39 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip770)" d="M2084.49 1481.64 L2100.81 1481.64 L2100.81 1485.58 L2078.87 1485.58 L2078.87 1481.64 Q2081.53 1478.89 2086.11 1474.26 Q2090.72 1469.61 2091.9 1468.27 Q2094.14 1465.74 2095.02 1464.01 Q2095.93 1462.25 2095.93 1460.56 Q2095.93 1457.8 2093.98 1456.07 Q2092.06 1454.33 2088.96 1454.33 Q2086.76 1454.33 2084.31 1455.09 Q2081.88 1455.86 2079.1 1457.41 L2079.1 1452.69 Q2081.92 1451.55 2084.38 1450.97 Q2086.83 1450.39 2088.87 1450.39 Q2094.24 1450.39 2097.43 1453.08 Q2100.63 1455.77 2100.63 1460.26 Q2100.63 1462.39 2099.82 1464.31 Q2099.03 1466.2 2096.92 1468.8 Q2096.34 1469.47 2093.24 1472.69 Q2090.14 1475.88 2084.49 1481.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip770)" d="M2110.63 1479.7 L2115.51 1479.7 L2115.51 1485.58 L2110.63 1485.58 L2110.63 1479.7 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip770)" d="M2125.74 1451.02 L2144.1 1451.02 L2144.1 1454.96 L2130.02 1454.96 L2130.02 1463.43 Q2131.04 1463.08 2132.06 1462.92 Q2133.08 1462.73 2134.1 1462.73 Q2139.89 1462.73 2143.27 1465.9 Q2146.64 1469.08 2146.64 1474.49 Q2146.64 1480.07 2143.17 1483.17 Q2139.7 1486.25 2133.38 1486.25 Q2131.2 1486.25 2128.94 1485.88 Q2126.69 1485.51 2124.28 1484.77 L2124.28 1480.07 Q2126.37 1481.2 2128.59 1481.76 Q2130.81 1482.32 2133.29 1482.32 Q2137.29 1482.32 2139.63 1480.21 Q2141.97 1478.1 2141.97 1474.49 Q2141.97 1470.88 2139.63 1468.77 Q2137.29 1466.67 2133.29 1466.67 Q2131.41 1466.67 2129.54 1467.08 Q2127.69 1467.5 2125.74 1468.38 L2125.74 1451.02 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip770)" d="M1057.09 1524.88 Q1050.09 1524.88 1045.95 1530.1 Q1041.84 1535.32 1041.84 1544.33 Q1041.84 1553.31 1045.95 1558.53 Q1050.09 1563.75 1057.09 1563.75 Q1064.09 1563.75 1068.16 1558.53 Q1072.27 1553.31 1072.27 1544.33 Q1072.27 1535.32 1068.16 1530.1 Q1064.09 1524.88 1057.09 1524.88 M1066.1 1567.18 L1074.56 1576.45 L1066.8 1576.45 L1059.76 1568.84 Q1058.71 1568.9 1058.14 1568.94 Q1057.6 1568.97 1057.09 1568.97 Q1047.06 1568.97 1041.05 1562.28 Q1035.06 1555.57 1035.06 1544.33 Q1035.06 1533.06 1041.05 1526.38 Q1047.06 1519.66 1057.09 1519.66 Q1067.08 1519.66 1073.07 1526.38 Q1079.05 1533.06 1079.05 1544.33 Q1079.05 1552.61 1075.71 1558.5 Q1072.4 1564.38 1066.1 1567.18 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip770)" d="M1088.25 1553.98 L1088.25 1532.4 L1094.11 1532.4 L1094.11 1553.75 Q1094.11 1558.81 1096.08 1561.36 Q1098.05 1563.87 1102 1563.87 Q1106.74 1563.87 1109.48 1560.85 Q1112.25 1557.83 1112.25 1552.61 L1112.25 1532.4 L1118.1 1532.4 L1118.1 1568.04 L1112.25 1568.04 L1112.25 1562.57 Q1110.11 1565.82 1107.28 1567.41 Q1104.48 1568.97 1100.76 1568.97 Q1094.61 1568.97 1091.43 1565.15 Q1088.25 1561.33 1088.25 1553.98 M1102.99 1531.54 L1102.99 1531.54 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip770)" d="M1160.66 1548.76 L1160.66 1551.62 L1133.73 1551.62 Q1134.11 1557.67 1137.36 1560.85 Q1140.64 1564 1146.46 1564 Q1149.84 1564 1152.99 1563.17 Q1156.17 1562.35 1159.29 1560.69 L1159.29 1566.23 Q1156.14 1567.57 1152.83 1568.27 Q1149.52 1568.97 1146.11 1568.97 Q1137.58 1568.97 1132.59 1564 Q1127.62 1559.04 1127.62 1550.57 Q1127.62 1541.82 1132.33 1536.69 Q1137.07 1531.54 1145.09 1531.54 Q1152.29 1531.54 1156.46 1536.18 Q1160.66 1540.8 1160.66 1548.76 M1154.8 1547.04 Q1154.74 1542.23 1152.1 1539.37 Q1149.49 1536.5 1145.16 1536.5 Q1140.26 1536.5 1137.3 1539.27 Q1134.37 1542.04 1133.92 1547.07 L1154.8 1547.04 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip770)" d="M1190.93 1537.87 Q1189.94 1537.3 1188.76 1537.04 Q1187.62 1536.76 1186.22 1536.76 Q1181.25 1536.76 1178.58 1540 Q1175.94 1543.22 1175.94 1549.27 L1175.94 1568.04 L1170.05 1568.04 L1170.05 1532.4 L1175.94 1532.4 L1175.94 1537.93 Q1177.78 1534.69 1180.74 1533.13 Q1183.7 1531.54 1187.94 1531.54 Q1188.54 1531.54 1189.27 1531.63 Q1190 1531.7 1190.9 1531.85 L1190.93 1537.87 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip770)" d="M1197.07 1532.4 L1202.93 1532.4 L1202.93 1568.04 L1197.07 1568.04 L1197.07 1532.4 M1197.07 1518.52 L1202.93 1518.52 L1202.93 1525.93 L1197.07 1525.93 L1197.07 1518.52 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip770)" d="M1245.67 1548.76 L1245.67 1551.62 L1218.75 1551.62 Q1219.13 1557.67 1222.37 1560.85 Q1225.65 1564 1231.48 1564 Q1234.85 1564 1238 1563.17 Q1241.18 1562.35 1244.3 1560.69 L1244.3 1566.23 Q1241.15 1567.57 1237.84 1568.27 Q1234.53 1568.97 1231.13 1568.97 Q1222.6 1568.97 1217.6 1564 Q1212.63 1559.04 1212.63 1550.57 Q1212.63 1541.82 1217.35 1536.69 Q1222.09 1531.54 1230.11 1531.54 Q1237.3 1531.54 1241.47 1536.18 Q1245.67 1540.8 1245.67 1548.76 M1239.82 1547.04 Q1239.75 1542.23 1237.11 1539.37 Q1234.5 1536.5 1230.17 1536.5 Q1225.27 1536.5 1222.31 1539.27 Q1219.38 1542.04 1218.94 1547.07 L1239.82 1547.04 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip770)" d="M1278.01 1533.45 L1278.01 1538.98 Q1275.53 1537.71 1272.85 1537.07 Q1270.18 1536.44 1267.32 1536.44 Q1262.96 1536.44 1260.76 1537.77 Q1258.6 1539.11 1258.6 1541.79 Q1258.6 1543.82 1260.15 1545 Q1261.71 1546.15 1266.42 1547.2 L1268.43 1547.64 Q1274.67 1548.98 1277.28 1551.43 Q1279.92 1553.85 1279.92 1558.21 Q1279.92 1563.17 1275.97 1566.07 Q1272.06 1568.97 1265.18 1568.97 Q1262.32 1568.97 1259.2 1568.39 Q1256.11 1567.85 1252.67 1566.74 L1252.67 1560.69 Q1255.92 1562.38 1259.07 1563.24 Q1262.22 1564.07 1265.31 1564.07 Q1269.45 1564.07 1271.68 1562.66 Q1273.9 1561.23 1273.9 1558.65 Q1273.9 1556.27 1272.28 1554.99 Q1270.69 1553.72 1265.25 1552.54 L1263.21 1552.07 Q1257.77 1550.92 1255.35 1548.56 Q1252.93 1546.18 1252.93 1542.04 Q1252.93 1537.01 1256.49 1534.27 Q1260.06 1531.54 1266.62 1531.54 Q1269.86 1531.54 1272.73 1532.01 Q1275.59 1532.49 1278.01 1533.45 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip770)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="202.227,1423.18 202.227,47.2441 "></polyline><polyline clip-path="url(#clip770)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="202.227,1216.79 219.016,1216.79 "></polyline><polyline clip-path="url(#clip770)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="202.227,941.602 219.016,941.602 "></polyline><polyline clip-path="url(#clip770)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="202.227,666.415 219.016,666.415 "></polyline><polyline clip-path="url(#clip770)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="202.227,391.228 219.016,391.228 "></polyline><polyline clip-path="url(#clip770)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="202.227,116.041 219.016,116.041 "></polyline><path clip-path="url(#clip770)" d="M149.908 1230.13 L166.227 1230.13 L166.227 1234.07 L144.283 1234.07 L144.283 1230.13 Q146.945 1227.38 151.528 1222.75 Q156.135 1218.1 157.315 1216.75 Q159.561 1214.23 160.44 1212.5 Q161.343 1210.74 161.343 1209.05 Q161.343 1206.29 159.399 1204.56 Q157.478 1202.82 154.376 1202.82 Q152.177 1202.82 149.723 1203.58 Q147.292 1204.35 144.515 1205.9 L144.515 1201.18 Q147.339 1200.04 149.792 1199.46 Q152.246 1198.88 154.283 1198.88 Q159.653 1198.88 162.848 1201.57 Q166.042 1204.25 166.042 1208.75 Q166.042 1210.88 165.232 1212.8 Q164.445 1214.69 162.339 1217.29 Q161.76 1217.96 158.658 1221.18 Q155.556 1224.37 149.908 1230.13 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip770)" d="M156.644 928.396 L144.839 946.845 L156.644 946.845 L156.644 928.396 M155.417 924.322 L161.297 924.322 L161.297 946.845 L166.227 946.845 L166.227 950.734 L161.297 950.734 L161.297 958.882 L156.644 958.882 L156.644 950.734 L141.042 950.734 L141.042 946.22 L155.417 924.322 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip770)" d="M154.7 664.552 Q151.552 664.552 149.7 666.705 Q147.871 668.857 147.871 672.607 Q147.871 676.334 149.7 678.51 Q151.552 680.663 154.7 680.663 Q157.848 680.663 159.677 678.51 Q161.528 676.334 161.528 672.607 Q161.528 668.857 159.677 666.705 Q157.848 664.552 154.7 664.552 M163.982 649.899 L163.982 654.158 Q162.223 653.325 160.417 652.885 Q158.635 652.445 156.876 652.445 Q152.246 652.445 149.792 655.57 Q147.362 658.695 147.015 665.015 Q148.38 663.001 150.441 661.936 Q152.501 660.848 154.978 660.848 Q160.186 660.848 163.195 664.019 Q166.227 667.167 166.227 672.607 Q166.227 677.931 163.079 681.149 Q159.931 684.366 154.7 684.366 Q148.704 684.366 145.533 679.783 Q142.362 675.177 142.362 666.45 Q142.362 658.256 146.251 653.394 Q150.14 648.51 156.69 648.51 Q158.45 648.51 160.232 648.857 Q162.038 649.205 163.982 649.899 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip770)" d="M154.376 392.096 Q151.042 392.096 149.121 393.878 Q147.223 395.661 147.223 398.786 Q147.223 401.911 149.121 403.693 Q151.042 405.476 154.376 405.476 Q157.709 405.476 159.63 403.693 Q161.552 401.888 161.552 398.786 Q161.552 395.661 159.63 393.878 Q157.732 392.096 154.376 392.096 M149.7 390.105 Q146.691 389.365 145.001 387.304 Q143.334 385.244 143.334 382.281 Q143.334 378.138 146.274 375.73 Q149.237 373.323 154.376 373.323 Q159.538 373.323 162.477 375.73 Q165.417 378.138 165.417 382.281 Q165.417 385.244 163.727 387.304 Q162.061 389.365 159.075 390.105 Q162.454 390.892 164.329 393.184 Q166.227 395.476 166.227 398.786 Q166.227 403.809 163.149 406.494 Q160.093 409.179 154.376 409.179 Q148.658 409.179 145.579 406.494 Q142.524 403.809 142.524 398.786 Q142.524 395.476 144.422 393.184 Q146.32 390.892 149.7 390.105 M147.987 382.721 Q147.987 385.406 149.653 386.911 Q151.343 388.416 154.376 388.416 Q157.385 388.416 159.075 386.911 Q160.788 385.406 160.788 382.721 Q160.788 380.036 159.075 378.531 Q157.385 377.027 154.376 377.027 Q151.343 377.027 149.653 378.531 Q147.987 380.036 147.987 382.721 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip770)" d="M114.931 129.386 L122.57 129.386 L122.57 103.02 L114.26 104.687 L114.26 100.428 L122.524 98.7609 L127.2 98.7609 L127.2 129.386 L134.839 129.386 L134.839 133.321 L114.931 133.321 L114.931 129.386 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip770)" d="M154.283 101.84 Q150.672 101.84 148.843 105.404 Q147.038 108.946 147.038 116.076 Q147.038 123.182 148.843 126.747 Q150.672 130.288 154.283 130.288 Q157.917 130.288 159.723 126.747 Q161.552 123.182 161.552 116.076 Q161.552 108.946 159.723 105.404 Q157.917 101.84 154.283 101.84 M154.283 98.1359 Q160.093 98.1359 163.149 102.742 Q166.227 107.326 166.227 116.076 Q166.227 124.802 163.149 129.409 Q160.093 133.992 154.283 133.992 Q148.473 133.992 145.394 129.409 Q142.339 124.802 142.339 116.076 Q142.339 107.326 145.394 102.742 Q148.473 98.1359 154.283 98.1359 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip770)" d="M16.4842 806.492 L16.4842 800.063 L36.568 800.063 L16.4842 778.737 L16.4842 770.462 L38.6368 794.047 L64.0042 768.775 L64.0042 777.242 L41.1194 800.063 L64.0042 800.063 L64.0042 806.492 L16.4842 806.492 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip770)" d="M44.7161 736.756 L47.5806 736.756 L47.5806 763.683 Q53.6281 763.301 56.8109 760.054 Q59.9619 756.776 59.9619 750.951 Q59.9619 747.577 59.1344 744.426 Q58.3069 741.243 56.6518 738.124 L62.1899 738.124 Q63.5267 741.275 64.227 744.585 Q64.9272 747.896 64.9272 751.301 Q64.9272 759.831 59.9619 764.828 Q54.9967 769.794 46.5303 769.794 Q37.7774 769.794 32.6531 765.083 Q27.4968 760.341 27.4968 752.32 Q27.4968 745.127 32.1438 740.957 Q36.7589 736.756 44.7161 736.756 M42.9973 742.612 Q38.1912 742.676 35.3266 745.318 Q32.4621 747.927 32.4621 752.256 Q32.4621 757.158 35.2312 760.118 Q38.0002 763.046 43.0292 763.492 L42.9973 742.612 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip770)" d="M67.3143 712.311 Q73.68 714.794 75.6216 717.149 Q77.5631 719.505 77.5631 723.451 L77.5631 728.13 L72.6615 728.13 L72.6615 724.693 Q72.6615 722.274 71.5157 720.937 Q70.3699 719.6 66.1048 717.977 L63.4312 716.926 L28.3562 731.345 L28.3562 725.138 L56.238 713.998 L28.3562 702.858 L28.3562 696.652 L67.3143 712.311 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip770)" d="M29.4065 665.842 L34.9447 665.842 Q33.6716 668.324 33.035 670.998 Q32.3984 673.671 32.3984 676.536 Q32.3984 680.897 33.7352 683.093 Q35.072 685.257 37.7456 685.257 Q39.7826 685.257 40.9603 683.697 Q42.1061 682.138 43.1565 677.427 L43.6021 675.422 Q44.9389 669.184 47.3897 666.574 Q49.8086 663.932 54.1691 663.932 Q59.1344 663.932 62.0308 667.879 Q64.9272 671.794 64.9272 678.669 Q64.9272 681.533 64.3543 684.652 Q63.8132 687.74 62.6992 691.177 L56.6518 691.177 Q58.3387 687.931 59.198 684.78 Q60.0256 681.629 60.0256 678.541 Q60.0256 674.404 58.6251 672.176 Q57.1929 669.948 54.6147 669.948 Q52.2276 669.948 50.9545 671.571 Q49.6813 673.162 48.5037 678.605 L48.0262 680.642 Q46.8804 686.085 44.5251 688.504 Q42.138 690.923 38.0002 690.923 Q32.9713 690.923 30.2341 687.358 Q27.4968 683.793 27.4968 677.236 Q27.4968 673.99 27.9743 671.125 Q28.4517 668.261 29.4065 665.842 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><g clip-path="url(#clip772)"><image width="1911" height="1376" xlink:href="data:image/png;base64,
iVBORw0KGgoAAAANSUhEUgAAB3cAAAVgCAYAAABc6deNAAAgAElEQVR4nOzZwQ2AMBDAsKNi/5Vh
hD7bSPYE+eeZeb8BAAAAAAAA4GrrdAAAAAAAAAAAe+YuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAA
AAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAA
AAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIA
AAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYu
AAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg
7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAA
AeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAA
ABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAA
AAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAA
AAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsA
AAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5
CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAE
mLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAA
QIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAA
AAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAA
AAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIA
AAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYu
AAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg
7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAA
AeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAA
ABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAA
AAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAA
AAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsA
AAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5
CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAE
mLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAA
QIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAA
AAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAA
AAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIA
AAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYu
AAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg
7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAA
AeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAA
ABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAA
AAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAA
AAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsA
AAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5
CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAE
mLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAA
QIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAA
AAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAA
AAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIA
AAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYu
AAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg
7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAA
AeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAA
ABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAA
AAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAA
AAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsA
AAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5
CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAE
mLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAA
QIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAA
AAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAA
AAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIA
AAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYu
AAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg
7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAA
AeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAA
ABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAA
AAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAA
AAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsA
AAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5
CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAE
mLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAA
QIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAA
AAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAA
AAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIA
AAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYu
AAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg
7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAA
AeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAA
ABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAA
AAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAA
AAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsA
AAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5
CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAE
mLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAA
QIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAA
AAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAA
AAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIA
AAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYu
AAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg
7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAA
AeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAA
ABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAA
AAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAA
AAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsA
AAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5
CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAE
mLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAA
QIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAA
AAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAA
AAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAA/+3ZwgkAQAEHwDhcORIxANBmzNjQfmsQe
S0NVBPNvBiBA3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAAgABxFwAAAAAAACBA3AUAAAAAAAAI
GKsHAAAAwBlet/fqCQAAADCV5y4AAAAAAABAgLgLAAAAAAAAECDuAgAAAAAAAASIuwAAAAAAAAAB
4i4AAAAAAABAgLgLAAAAAAAAECDuAgAAAAAAAASIuwAAAAAAAAAB4i4AAAAAAABAgLgLAAAAAAAA
ECDuAgAAAAAAAASIuwAAAAAAAAAB4i4AAAAAAABAgLgLAAAAAAAAECDuAgAAAAAAAASIuwAAAAAA
AAAB4i4AAAAAAABAgLgLAAAAAAAAECDuAgAAAAAAAASIuwAAAAAAAAAB4i4AAAAAAABAgLgLAAAA
AAAAECDuAgAAAAAAAASIuwAAAAAAAAAB4i4AAAAAAABAgLgLAAAAAAAAECDuAgAAAAAAAASIuwAA
AAAAAAAB4i4AAAAAAABAgLgLAAAAAAAAECDuAgAAAAAAAASIuwAAAAAAAAAB4i4AAAAAAABAgLgL
AAAAAAAAECDuAgAAAAAAAASIuwAAAAAAAAAB4i4AAAAAAABAgLgLAAAAAAAAECDuAgAAAAAAAASI
uwAAAAAAAAAB4i4AAAAAAABAgLgLAAAAAAAAECDuAgAAAAAAAASIuwAAAAAAAAAB4i4AAAAAAABA
gLgLAAAAAAAAECDuAgAAAAAAAASIuwAAAAAAAAAB4i4AAAAAAABAgLgLAAAAAAAAECDuAgAAAAAA
AASIuwAAAAAAAAAB4i4AAAAAAABAgLgLAAAAAAAAECDuAgAAAAAAAASIuwAAAAAAAAAB4i4AAAAA
AABAgLgLAAAAAAAAECDuAgAAAAAAAASIuwAAAAAAAAAB4i4AAAAAAABAgLgLAAAAAAAAECDuAgAA
AAAAAASIuwAAAAAAAAAB4i4AAAAAAABAgLgLAAAAAAAAECDuAgAAAAAAAASIuwAAAAAAAAAB4i4A
AAAAAABAgLgLAAAAAAAAECDuAgAAAAAAAASIuwAAAAAAAAAB4i4AAAAAAABAgLgLAAAAAAAAECDu
AgAAAAAAAASIuwAAAAAAAAAB4i4AAAAAAABAgLgLAAAAAAAAECDuAgAAAAAAAASIuwAAAAAAAAAB
4i4AAAAAAABAgLgLAAAAAAAAECDuAgAAAAAAAASIuwAAAAAAAAAB4i4AAAAAAABAgLgLAAAAAAAA
ECDuAgAAAAAAAASIuwAAAAAAAAAB4i4AAAAAAABAgLgLAAAAAAAAECDuAgAAAAAAAASIuwAAAAAA
AAAB4i4AAAAAAABAgLgLAAAAAAAAECDuAgAAAAAAAASIuwAAAAAAAAAB4i4AAAAAAABAgLgLAAAA
AAAAECDuAgAAAAAAAASIuwAAAAAAAAAB4i4AAAAAAABAgLgLAAAAAAAAECDuAgAAAAAAAASIuwAA
AAAAAAAB4i4AAAAAAABAgLgLAAAAAAAAECDuAgAAAAAAAASIuwAAAAAAAAAB4i4AAAAAAABAgLgL
AAAAAAAAECDuAgAAAAAAAASIuwAAAAAAAAAB4i4AAAAAAABAgLgLAAAAAAAAECDuAgAAAAAAAASI
uwAAAAAAAAAB4i4AAAAAAABAgLgLAAAAAAAAECDuAgAAAAAAAASIuwAAAAAAAAAB4i4AAAAAAABA
gLgLAAAAAAAAECDuAgAAAAAAAASIuwAAAAAAAAAB4i4AAAAAAABAgLgLAAAAAAAAECDuAgAAAAAA
AASIuwAAAAAAAAAB4i4AAAAAAABAgLgLAAAAAAAAECDuAgAAAAAAAASIuwAAAAAAAAAB4i4AAAAA
AABAgLgLAAAAAAAAECDuAgAAAAAAAASIuwAAAAAAAAAB+7aN3+oRAAAAMNv381g9AQAAAKby3AUA
AAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAAgABxFwAAAAAAACBA3AUAAAAAAAAIEHcBAAAAAAAAAsRd
AAAAAAAAgABxFwAAAAAAACBA3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAAgABxFwAAAAAAACBA
3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAAgABxFwAAAAAAACBA3AUAAAAAAAAIEHcBAAAAAAAA
AsRdAAAAAAAAgABxFwAAAAAAACBA3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAAgABxFwAAAAAA
ACBA3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAAgABxFwAAAAAAACBA3AUAAAAAAAAIEHcBAAAA
AAAAAsRdAAAAAAAAgABxFwAAAAAAACBA3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAAgABxFwAA
AAAAACBA3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAAgABxFwAAAAAAACBA3AUAAAAAAAAIEHcB
AAAAAAAAAsRdAAAAAAAAgABxFwAAAAAAACBA3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAAgABx
FwAAAAAAACBA3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAAgABxFwAAAAAAACBA3AUAAAAAAAAI
EHcBAAAAAAAAAsRdAAAAAAAAgABxFwAAAAAAACBA3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAA
gABxFwAAAAAAACBA3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAAgABxFwAAAAAAACBA3AUAAAAA
AAAIEHcBAAAAAAAAAsRdAAAAAAAAgABxFwAAAAAAACBA3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAA
AAAAgABxFwAAAAAAACBA3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAAgABxFwAAAAAAACBA3AUA
AAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAAgABxFwAAAAAAACBA3AUAAAAAAAAIEHcBAAAAAAAAAsRd
AAAAAAAAgABxFwAAAAAAACBA3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAAgABxFwAAAAAAACBA
3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAAgABxFwAAAAAAACBA3AUAAAAAAAAIEHcBAAAAAAAA
AsRdAAAAAAAAgABxFwAAAAAAACBA3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAAgABxFwAAAAAA
ACBA3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAAgABxFwAAAAAAACBA3AUAAAAAAAAIEHcBAAAA
AAAAAsRdAAAAAAAAgABxFwAAAAAAACBA3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAAgABxFwAA
AAAAACBA3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAAgABxFwAAAAAAACBA3AUAAAAAAAAIEHcB
AAAAAAAAAsRdAAAAAAAAgABxFwAAAAAAACBA3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAAgABx
FwAAAAAAACBA3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAAgABxFwAAAAAAACBA3AUAAAAAAAAI
EHcBAAAAAAAAAsRdAAAAAAAAgABxFwAAAAAAACBA3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAA
gABxFwAAAAAAACBA3AUAAAAAAAAI2Ldt/FaPAAAAgNmux3P1BAAAAJjKcxcAAAAAAAAgQNwFAAAA
AAAACBB3AQAAAAAAAALEXQAAAAAAAIAAcUU6LFwAABUGSURBVBcAAAAAAAAgQNwFAAAAAAAACBB3
AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAACBB3AQAAAAAAAALEXQAAAAAAAIAA
cRcAAAAAAAAgQNwFAAAAAAAACBB3AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAA
CBB3AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAACBB3AQAAAAAAAALEXQAAAAAA
AIAAcRcAAAAAAAAgQNwFAAAAAAAACBB3AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAA
AAAACBB3AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAACBB3AQAAAAAAAALEXQAA
AAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAACBB3AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAAAAAgQNwF
AAAAAAAACBB3AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAACBB3AQAAAAAAAALE
XQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAACBB3AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAAAAAg
QNwFAAAAAAAACBB3AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAACBB3AQAAAAAA
AALEXQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAACBB3AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAA
AAAgQNwFAAAAAAAACBB3AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAACBB3AQAA
AAAAAALEXQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAACBB3AQAAAAAAAALEXQAAAAAAAIAAcRcA
AAAAAAAgQNwFAAAAAAAACBB3AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAACBB3
AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAACBB3AQAAAAAAAALEXQAAAAAAAIAA
cRcAAAAAAAAgQNwFAAAAAAAACBB3AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAA
CBB3AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAACBB3AQAAAAAAAALEXQAAAAAA
AIAAcRcAAAAAAAAgQNwFAAAAAAAACBB3AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAA
AAAACBB3AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAACBB3AQAAAAAAAALEXQAA
AAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAACBB3AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAAAAAgQNwF
AAAAAAAACBB3AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAACBB3AQAAAAAAAALE
XQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAACBB3AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAAAAAg
QNwFAAAAAAAACBB3AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAACBB3AQAAAAAA
AALEXQAAAAAAAIAAcRcAAAAAAAAgYKweAAAAAGc4LvfVEwAAAGAqz10AAAAAAACAAHEXAAAAAAAA
IEDcBQAAAAAAAAgQdwEAAAAAAAACxF0AAAAAAACAAHEXAAAAAAAAIEDcBQAAAAAAAAgQdwEAAAAA
AAACxF0AAAAAAACAAHEXAAAAAAAAIEDcBQAAAAAAAAgQdwEAAAAAAAACxF0AAAAAAACAAHEXAAAA
AAAAIEDcBQAAAAAAAAgQdwEAAAAAAAACxF0AAAAAAACAAHEXAAAAAAAAIEDcBQAAAAAAAAgQdwEA
AAAAAAACxF0AAAAAAACAAHEXAAAAAAAAIEDcBQAAAAAAAAgQdwEAAAAAAAACxF0AAAAAAACAAHEX
AAAAAAAAIEDcBQAAAAAAAAgQdwEAAAAAAAACxF0AAAAAAACAAHEXAAAAAAAAIEDcBQAAAAAAAAgQ
dwEAAAAAAAACxF0AAAAAAACAAHEXAAAAAAAAIEDcBQAAAAAAAAgQdwEAAAAAAAACxF0AAAAAAACA
AHEXAAAAAAAAIEDcBQAAAAAAAAgQdwEAAAAAAAACxF0AAAAAAACAAHEXAAAAAAAAIEDcBQAAAAAA
AAgQdwEAAAAAAAACxF0AAAAAAACAAHEXAAAAAAAAIEDcBQAAAAAAAAgQdwEAAAAAAAACxF0AAAAA
AACAAHEXAAAAAAAAIEDcBQAAAAAAAAgQdwEAAAAAAAACxF0AAAAAAACAAHEXAAAAAAAAIEDcBQAA
AAAAAAgQdwEAAAAAAAACxF0AAAAAAACAAHEXAAAAAAAAIEDcBQAAAAAAAAgQdwEAAAAAAAACxF0A
AAAAAACAAHEXAAAAAAAAIEDcBQAAAAAAAAgQdwEAAAAAAAACxF0AAAAAAACAAHEXAAAAAAAAIEDc
BQAAAAAAAAgQdwEAAAAAAAACxF0AAAAAAACAAHEXAAAAAAAAIEDcBQAAAAAAAAgQdwEAAAAAAAAC
xF0AAAAAAACAAHEXAAAAAAAAIEDcBQAAAAAAAAgQdwEAAAAAAAACxF0AAAAAAACAAHEXAAAAAAAA
IEDcBQAAAAAAAAgQdwEAAAAAAAACxF0AAAAAAACAAHEXAAAAAAAAIEDcBQAAAAAAAAgQdwEAAAAA
AAACxF0AAAAAAACAAHEXAAAAAAAAIEDcBQAAAAAAAAgQdwEAAAAAAAACxF0AAAAAAACAAHEXAAAA
AAAAIEDcBQAAAAAAAAgQdwEAAAAAAAACxF0AAAAAAACAAHEXAAAAAAAAIEDcBQAAAAAAAAgQdwEA
AAAAAAACxF0AAAAAAACAAHEXAAAAAAAAIEDcBQAAAAAAAAgQdwEAAAAAAAACxF0AAAAAAACAAHEX
AAAAAAAAIEDcBQAAAAAAAAgQdwEAAAAAAAACxF0AAAAAAACAAHEXAAAAAAAAIEDcBQAAAAAAAAgQ
dwEAAAAAAAACxF0AAAAAAACAAHEXAAAAAAAAIEDcBQAAAAAAAAgQdwEAAAAAAAACxF0AAAAAAACA
AHEXAAAAAAAAIEDcBQAAAAAAAAgQdwEAAAAAAAACxF0AAAAAAACAAHEXAAAAAAAAIEDcBQAAAAAA
AAgQdwEAAAAAAAACxF0AAAAAAACAAHEXAAAAAAAAIEDcBQAAAAAAAAgQdwEAAAAAAAACxF0AAAAA
AACAAHEXAAAAAACAf/t2VMIwEEBBkEDFREEFhLrsb4SEGghUT+Fq4uBYmFHw/pcHBIi7AAAAAAAA
AAHiLgAAAAAAAECAuAsAAAAAAAAQIO4CAAAAAAAABIi7AAAAAAAAAAHiLgAAAAAAAECAuAsAAAAA
AAAQIO4CAAAAAAAABIi7AAAAAAAAAAHiLgAAAAAAAEDA434dqzcAAADAdM/ru3oCAAAATOW5CwAA
AAAAABAg7gIAAAAAAAAEiLsAAAAAAAAAAeIuAAAAAAAAQIC4CwAAAAAAABAg7gIAAAAAAAAEiLsA
AAAAAAAAAeIuAAAAAAAAQIC4CwAAAAAAABAg7gIAAAAAAAAEiLsAAAAAAAAAAeIuAAAAAAAAQIC4
CwAAAAAAABAg7gIAAAAAAAAEiLsAAAAAAAAAAeIuAAAAAAAAQIC4CwAAAAAAABAg7gIAAAAAAAAE
iLsAAAAAAAAAAeIuAAAAAAAAQIC4CwAAAAAAABAg7gIAAAAAAAAEiLsAAAAAAAAAAeIuAAAAAAAA
QIC4CwAAAAAAABAg7gIAAAAAAAAEiLsAAAAAAAAAAeIuAAAAAAAAQIC4CwAAAAAAABAg7gIAAAAA
AAAEiLsAAAAAAAAAAeIuAAAAAAAAQIC4CwAAAAAAABAg7gIAAAAAAAAEiLsAAAAAAAAAAeIuAAAA
AAAAQIC4CwAAAAAAABAg7gIAAAAAAAAEiLsAAAAAAAAAAeIuAAAAAAAAQIC4CwAAAAAAABAg7gIA
AAAAAAAEiLsAAAAAAAAAAeIuAAAAAAAAQIC4CwAAAAAAABAg7gIAAAAAAAAEiLsAAAAAAAAAAeIu
AAAAAAAAQIC4CwAAAAAAABAg7gIAAAAAAAAEiLsAAAAAAAAAAeIuAAAAAAAAQIC4CwAAAAAAABAg
7gIAAAAAAAAEiLsAAAAAAAAAAeIuAAAAAAAAQIC4CwAAAAAAABAg7gIAAAAAAAAEiLsAAAAAAAAA
AeIuAAAAAAAAQIC4CwAAAAAAABAg7gIAAAAAAAAEiLsAAAAAAAAAAeIuAAAAAAAAQIC4CwAAAAAA
ABAg7gIAAAAAAAAEiLsAAAAAAAAAAeIuAAAAAAAAQIC4CwAAAAAAABAg7gIAAAAAAAAEiLsAAAAA
AAAAAeIuAAAAAAAAQIC4CwAAAAAAABAg7gIAAAAAAAAEiLsAAAAAAAAAAeIuAAAAAAAAQIC4CwAA
AAAAABAg7gIAAAAAAAAEiLsAAAAAAAAAAeIuAAAAAAAAQIC4CwAAAAAAABAg7gIAAAAAAAAEiLsA
AAAAAAAAAeIuAAAAAAAAQIC4CwAAAAAAABAg7gIAAAAAAAAEiLsAAAAAAAAAAeIuAAAAAAAAQIC4
CwAAAAAAABAg7gIAAAAAAAAEiLsAAAAAAAAAAeIuAAAAAAAAQIC4CwAAAAAAABAg7gIAAAAAAAAE
iLsAAAAAAAAAAeIuAAAAAAAAQIC4CwAAAAAAABAg7gIAAAAAAAAEiLsAAAAAAAAAAeIuAAAAAAAA
QIC4CwAAAAAAABAg7gIAAAAAAAAEiLsAAAAAAAAAAeIuAAAAAAAAQIC4CwAAAAAAABAg7gIAAAAA
AAAEiLsAAAAAAAAAAeIuAAAAAAAAQIC4CwAAAAAAABAg7gIAAAAAAAAEiLsAAAAAAAAAAeIuAAAA
AAAAQIC4CwAAAAAAABAg7gIAAAAAAAAEiLsAAAAAAAAAAeIuAAAAAAAAQIC4CwAAAAAAABAg7gIA
AAAAAAAEiLsAAAAAAAAAAeIuAAAAAAAAQIC4CwAAAAAAABAg7gIAAAAAAAAEiLsAAAAAAAAAAeIu
AAAAAAAAQIC4CwAAAAAAABAg7gIAAAAAAAAEiLsAAAAAAAAAAeIuAAAAAAAAQIC4CwAAAAAAABAg
7gIAAAAAAAAEiLsAAAAAAAAAAeIuAAAAAAAAQIC4CwAAAAAAABAg7gIAAAAAAAAEiLsAAAAAAAAA
AeIuAAAAAAAAQIC4CwAAAAAAABCw/cY5Vo8AAACA2d77Z/UEAAAAmMpzFwAAAAAAACBA3AUAAAAA
AAAIEHcBAAAAAAAAAsRdAAAAAAAAgABxFwAAAAAAACBA3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAA
AAAAgABxFwAAAAAAACBA3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAAgABxFwAAAAAAACBA3AUA
AAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAAgABxFwAAAAAAACBA3AUAAAAAAAAIEHcBAAAAAAAAAsRd
AAAAAAAAgABxFwAAAAAAACBA3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAAgABxFwAAAAAAACBA
3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAAgABxFwAAAAAAACBA3AUAAAAAAAAIEHcBAAAAAAAA
AsRdAAAAAAAAgABxFwAAAAAAACBA3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAAgABxFwAAAAAA
ACBA3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAAgABxFwAAAAAAACBA3AUAAAAAAAAIEHcBAAAA
AAAAAsRdAAAAAAAAgABxFwAAAAAAACBA3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAAgABxFwAA
AAAAACBA3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAAgABxFwAAAAAAACBA3AUAAAAAAAAIEHcB
AAAAAAAAAsRdAAAAAAAAgABxFwAAAAAAACBA3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAAgABx
FwAAAAAAACBA3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAAgABxFwAAAAAAACBA3AUAAAAAAAAI
EHcBAAAAAAAAAsRdAAAAAAAAgABxFwAAAAAAACBA3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAA
gABxFwAAAAAAACBA3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAAgABxFwAAAAAAACBA3AUAAAAA
AAAIEHcBAAAAAAAAAsRdAAAAAAAAgABxFwAAAAAAACBA3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAA
AAAAgABxFwAAAAAAACBA3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAAgABxFwAAAAAAACBA3AUA
AAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAAgABxFwAAAAAAACBA3AUAAAAAAAAIEHcBAAAAAAAAAsRd
AAAAAAAAgABxFwAAAAAAACBA3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAAgABxFwAAAAAAACBA
3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAAgABxFwAAAAAAACBA3AUAAAAAAAAIEHcBAAAAAAAA
AsRdAAAAAAAAgABxFwAAAAAAACBA3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAAgABxFwAAAAAA
ACBA3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAAgABxFwAAAAAAACBA3AUAAAAAAAAIEHcBAAAA
AAAAAsRdAAAAAAAAgABxFwAAAAAAACBA3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAAgABxFwAA
AAAAACBA3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAAgABxFwAAAAAAACBA3AUAAAAAAAAIEHcB
AAAAAAAAAsRdAAAAAAAAgABxFwAAAAAAACBA3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAAgIA/
8awYlN05pVcAAAAASUVORK5CYII=
" transform="translate(202, 47)"></image></g><defs><clipPath id="clip773"><rect x="2160" y="47" width="73" height="1377"></rect></clipPath></defs><g clip-path="url(#clip773)"><image width="72" height="1376" xlink:href="data:image/png;base64,
iVBORw0KGgoAAAANSUhEUgAAAEgAAAVgCAYAAADsKhu7AAAL6UlEQVR4nO3dwZEjNxBFQVBR/lsh
L6UFZIHqHclDpgUTL35wCXTP7Off+/c7/K+/vv0D/DqBgkBBoCBQmPv+/fbP8NMsKAgUBAoChXnv
z7d/hp9mQUGgIFAQKAgUHDWCBQWBgkBBoDDPh/TKgoJAQaAgUJh3fUhvLCgIFAQKAgWBgqNGsKAg
UBAoCBR8SAcLCgIFgYJAwX1QsKAgUBAoCBQECnMcNVYWFAQKAgWBgvugYEFBoCBQECgIFOa4MFtZ
UBAoCBQECnPuP9/+GX6aBQWBgkBBoODSPlhQECgIFAQKAgX3QcGCgkBBoCBQ8CEdLCgIFAQKAgX3
QcGCgkBBoCBQECjMx1FjZUFBoCBQECjMuf5XhI0FBYGCQEGgIFBw1AgWFAQKAgWBgqNGsKAgUBAo
CBS8HxQsKAgUBAoCBYHCfBw1VhYUBAoCBYGCt1yDBQWBgkBBoOCbdLCgIFAQKAgUBAoePQcLCgIF
gYJAwVEjWFAQKAgUBAoCBUeNYEFBoCBQECg4agQLCgIFgYJAYc693/4ZfpoFBYGCQEGgIFBw1AgW
FAQKAgWBgkv7YEFBoCBQECj4kA4WFAQKAgWBgkBhPp5qrCwoCBQECgIFR41gQUGgIFAQKAgUvEAV
LCgIFAQKAgX3QcGCgkBBoCBQcB8ULCgIFAQKAgWBgvugYEFBoCBQECj4kA4WFAQKAgWBgl/qDRYU
BAoCBYGCQMFRI1hQECgIFAQKPqSDBQWBgkBBoCBQ8K9YsKAgUBAoCBR8SAcLCgIFgYJAYc7zIb2x
oCBQECgIFAQKjhrBgoJAQaAgUPAhHSwoCBQECgIFH9LBgoJAQaAgUBAozLnv2z/DT7OgIFAQKAgU
HDWCBQWBgkBBoCBQcNQIFhQECgIFgYKjRrCgIFAQKAgUfJMOFhQECgIFgYJAYY6TxsqCgkBBoCBQ
mPMcNTYWFAQKAgWBgm/SwYKCQEGgIFAQKPhXLFhQECgIFAQK44/g7SwoCBQECgIFgYKjRrCgIFAQ
KAgUfEgHCwoCBYGCQGHO/Xz7Z/hpFhQECgIFgYJAYd7zr9jGgoJAQaAgUHAfFCwoCBQECgIF90HB
goJAQaAgUBAozLsabdQJAgWBgkDBUSNYUBAoCBQECgKFOR49rywoCBQECgKFeY4aKwsKAgWBgkBh
jkv7lTpBoCBQECgIFBw1ggUFgYJAQaDg0j5YUBAoCBQECl7iDOoEgYJAQaAgUPCWa7CgIFAQKAgU
XNoHCwoCBYGCQEGgMO9ptFEnCBQECgIF90HBgoJAQaAgUHAfFCwoCBQECgIFgcIc90ErdYJAQaAg
UHDUCBYUBAoCBYGCD+lgQUGgIFAQKAgU/NZzsKAgUBAoCBT81nNQJwgUBAoCBYHCPEeNlQUFgYJA
QaDgqUawoCBQECgIFPyvCEGdIFAQKAgUBArug4IFBYGCQEGg4D4oWFAQKAgUBAq+SQcLCgIFgYJA
QaDgLdegThAoCBQECo4awYKCQEGgIFAQKHiqESwoCBQECgIFR41gQUGgIFAQKPiva4IFBYGCQEGg
IFDwv2QGdYJAQaAgUHAfFCwoCBQECgIFT1aDBQWBgkBBoCBQcNQIFhQECgIFgcJcH9IrCwoCBYGC
QEGg4LeegzpBoCBQECi4DwoWFAQKAgWBgg/pYEFBoCBQECgIFLxAFSwoCBQECgIFR41gQUGgIFAQ
KPiQDhYUBAoCBYGCQMGfpgjqBIGCQEGgMNel/cqCgkBBoCBQECi4MAsWFAQKAgWBgg/pYEFBoCBQ
ECj4kA4WFAQKAgWBgkDBH1gKFhQECgIFgYKjRrCgIFAQKAgUfEgHCwoCBYGCQEGg4FcRgjpBoCBQ
ECj4VYRgQUGgIFAQKAgUXJgFCwoCBYGCQMGHdLCgIFAQKAgUvMQZLCgIFAQKAgWBgqNGsKAgUBAo
CBTmHR/SGwsKAgWBgkDBfVCwoCBQECgIFAQK7oOCBQWBgkBBoOCoESwoCBQECgIFgYKjRrCgIFAQ
KAgUHDWCBQWBgkBBoOCbdLCgIFAQKAgUBAr+FQsWFAQKAgWBwly/irCyoCBQECgIFHyTDhYUBAoC
BYGCQMGj52BBQaAgUBAozHvf/hF+mwUFgYJAQaAgUHDUCBYUBAoCBYGCv4IXLCgIFAQKAgXfpIMF
BYGCQEGgIFDwAlWwoCBQECgIFPwqQrCgIFAQKAgUvB8ULCgIFAQKAgWBgqcawYKCQEGgIFBwaR8s
KAgUBAoCBYGCpxrBgoJAQaAgUHAfFCwoCBQECgIFj56DBQWBgkBBoCBQcB8ULCgIFAQKAgWPnoMF
BYGCQEGgMPfbP8GPs6AgUBAoCBQECo4awYKCQEGgIFDwflCwoCBQECgIFAQKLsyCBQWBgkBBoOA+
KFhQECgIFAQKvkkHCwoCBYGCQEGg4KgRLCgIFAQKAgWPnoMFBYGCQEGgMP4yxc6CgkBBoCBQECg4
agQLCgIFgYJAwaPnYEFBoCBQECgIFDx6DhYUBAoCBYGCo0awoCBQECgIFHyTDhYUBAoCBYGCQGGu
N6hWFhQECgIFgYL7oGBBQaAgUBAouA8KFhQECgIFgYJAwVEjWFAQKAgUBArzXNqvLCgIFAQKAgWB
wtzjwmxjQUGgIFAQKHg/KFhQECgIFAQK/gpesKAgUBAoCBQECv4KXrCgIFAQKAgUPHoOFhQECgIF
gYKXOIMFBYGCQEGgIFDwC3XBgoJAQaAgUHDUCBYUBAoCBYGCQMFbrsGCgkBBoCBQ8JZrsKAgUBAo
CBR8kw4WFAQKAgWBgkDBW67BgoJAQaAgUPD3g4IFBYGCQEGg4D4oWFAQKAgUBAoCBY+egwUFgYJA
QaDgqBEsKAgUBAoCBYGCo0awoCBQECgIFBw1ggUFgYJAQaDgQzpYUBAoCBQECgIF90HBgoJAQaAg
UHDUCBYUBAoCBYGCb9LBgoJAQaAgUBAoOGoECwoCBYGCQMHfDwoWFAQKAgWBgkDB/+0TLCgIFAQK
AgX3QcGCgkBBoCBQmHd8Sm8sKAgUBAoCBYGCo0awoCBQECgIFDx6DhYUBAoCBYGCJ6vBgoJAQaAg
UBAouA8KFhQECgIFgYJHz8GCgkBBoCBQECg4agQLCgIFgYJAwR9YChYUBAoCBYHCXC8IrSwoCBQE
CgIFgYIXqIIFBYGCQEGgMM9RY2VBQaAgUBAo+CYdLCgIFAQKAgWBgqcawYKCQEGgIFDwflCwoCBQ
ECgIFAQKc/1C3cqCgkBBoCBQcB8ULCgIFAQKAgV/miJYUBAoCBQECgIFL1AFCwoCBYGCQMGlfbCg
IFAQKAgU3AcFCwoCBYGCQEGgMPe4EdpYUBAoCBQECu6DggUFgYJAQaAgUPCvWLCgIFAQKAgUPNUI
FhQECgIFgYJL+2BBQaAgUBAoCBTmfhw1NhYUBAoCBYGCo0awoCBQECgIFOb5kF5ZUBAoCBQECgIF
R41gQUGgIFAQKMz9+JDeWFAQKAgUBAoCBUeNYEFBoCBQECh4qhEsKAgUBAoCBd+kgwUFgYJAQaAg
UPCvWLCgIFAQKAgUPHoOFhQECgIFgcK88+fbP8NPs6AgUBAoCBQECu6DggUFgYJAQaDg/aBgQUGg
IFAQKAgU5j4XZhsLCgIFgYJAwVEjWFAQKAgUBApzPXpeWVAQKAgUBAoCBUeNYEFBoCBQECg4agQL
CgIFgYJAYd7zTXpjQUGgIFAQKAgU3AcFCwoCBYGCQMFLnMGCgkBBoCBQECg4agQLCgIFgYJAYZ6j
xsqCgkBBoCBQ8E06WFAQKAgUBAoChbleoFpZUBAoCBQECv7gdrCgIFAQKAgU/CpCsKAgUBAoCBQE
Cp5qBAsKAgWBgkDBUSNYUBAoCBQECgIF/4oFCwoCBYGCQMGj52BBQaAgUBAo+CYdLCgIFAQKAgWB
whyPnlcWFAQKAgWBgqNGsKAgUBAoCBS8xBksKAgUBAoCBYHCHEeNlQUFgYJAQaDg/aBgQUGgIFAQ
KAgUPHoOFhQECgIFgYL7oGBBQaAgUBAozDvv2z/DT7OgIFAQKAgUBArug4IFBYGCQEGgMMdRY2VB
QaAgUBAo/AdhU+3PqlcPeQAAAABJRU5ErkJggg==
" transform="translate(2161, 47)"></image></g><path clip-path="url(#clip770)" d="M2280.7 1405.35 Q2277.09 1405.35 2275.26 1408.91 Q2273.45 1412.46 2273.45 1419.59 Q2273.45 1426.69 2275.26 1430.26 Q2277.09 1433.8 2280.7 1433.8 Q2284.33 1433.8 2286.14 1430.26 Q2287.97 1426.69 2287.97 1419.59 Q2287.97 1412.46 2286.14 1408.91 Q2284.33 1405.35 2280.7 1405.35 M2280.7 1401.65 Q2286.51 1401.65 2289.57 1406.25 Q2292.64 1410.84 2292.64 1419.59 Q2292.64 1428.31 2289.57 1432.92 Q2286.51 1437.5 2280.7 1437.5 Q2274.89 1437.5 2271.81 1432.92 Q2268.76 1428.31 2268.76 1419.59 Q2268.76 1410.84 2271.81 1406.25 Q2274.89 1401.65 2280.7 1401.65 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip770)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="2232.76,1423.18 2256.76,1423.18 "></polyline><path clip-path="url(#clip770)" d="M2280.7 1191.03 Q2277.09 1191.03 2275.26 1194.6 Q2273.45 1198.14 2273.45 1205.27 Q2273.45 1212.38 2275.26 1215.94 Q2277.09 1219.48 2280.7 1219.48 Q2284.33 1219.48 2286.14 1215.94 Q2287.97 1212.38 2287.97 1205.27 Q2287.97 1198.14 2286.14 1194.6 Q2284.33 1191.03 2280.7 1191.03 M2280.7 1187.33 Q2286.51 1187.33 2289.57 1191.94 Q2292.64 1196.52 2292.64 1205.27 Q2292.64 1214 2289.57 1218.6 Q2286.51 1223.19 2280.7 1223.19 Q2274.89 1223.19 2271.81 1218.6 Q2268.76 1214 2268.76 1205.27 Q2268.76 1196.52 2271.81 1191.94 Q2274.89 1187.33 2280.7 1187.33 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip770)" d="M2300.86 1216.64 L2305.75 1216.64 L2305.75 1222.52 L2300.86 1222.52 L2300.86 1216.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip770)" d="M2316.74 1218.58 L2324.38 1218.58 L2324.38 1192.22 L2316.07 1193.88 L2316.07 1189.62 L2324.33 1187.96 L2329.01 1187.96 L2329.01 1218.58 L2336.65 1218.58 L2336.65 1222.52 L2316.74 1222.52 L2316.74 1218.58 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip770)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="2232.76,1208.86 2256.76,1208.86 "></polyline><path clip-path="url(#clip770)" d="M2280.7 976.72 Q2277.09 976.72 2275.26 980.284 Q2273.45 983.826 2273.45 990.956 Q2273.45 998.062 2275.26 1001.63 Q2277.09 1005.17 2280.7 1005.17 Q2284.33 1005.17 2286.14 1001.63 Q2287.97 998.062 2287.97 990.956 Q2287.97 983.826 2286.14 980.284 Q2284.33 976.72 2280.7 976.72 M2280.7 973.016 Q2286.51 973.016 2289.57 977.622 Q2292.64 982.206 2292.64 990.956 Q2292.64 999.683 2289.57 1004.29 Q2286.51 1008.87 2280.7 1008.87 Q2274.89 1008.87 2271.81 1004.29 Q2268.76 999.683 2268.76 990.956 Q2268.76 982.206 2271.81 977.622 Q2274.89 973.016 2280.7 973.016 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip770)" d="M2300.86 1002.32 L2305.75 1002.32 L2305.75 1008.2 L2300.86 1008.2 L2300.86 1002.32 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip770)" d="M2319.96 1004.27 L2336.28 1004.27 L2336.28 1008.2 L2314.33 1008.2 L2314.33 1004.27 Q2317 1001.51 2321.58 996.882 Q2326.19 992.229 2327.37 990.886 Q2329.61 988.363 2330.49 986.627 Q2331.39 984.868 2331.39 983.178 Q2331.39 980.423 2329.45 978.687 Q2327.53 976.951 2324.43 976.951 Q2322.23 976.951 2319.77 977.715 Q2317.34 978.479 2314.57 980.03 L2314.57 975.308 Q2317.39 974.173 2319.84 973.595 Q2322.3 973.016 2324.33 973.016 Q2329.7 973.016 2332.9 975.701 Q2336.09 978.386 2336.09 982.877 Q2336.09 985.007 2335.28 986.928 Q2334.5 988.826 2332.39 991.419 Q2331.81 992.09 2328.71 995.308 Q2325.61 998.502 2319.96 1004.27 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip770)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="2232.76,994.55 2256.76,994.55 "></polyline><path clip-path="url(#clip770)" d="M2280.7 762.405 Q2277.09 762.405 2275.26 765.969 Q2273.45 769.511 2273.45 776.641 Q2273.45 783.747 2275.26 787.312 Q2277.09 790.854 2280.7 790.854 Q2284.33 790.854 2286.14 787.312 Q2287.97 783.747 2287.97 776.641 Q2287.97 769.511 2286.14 765.969 Q2284.33 762.405 2280.7 762.405 M2280.7 758.701 Q2286.51 758.701 2289.57 763.307 Q2292.64 767.891 2292.64 776.641 Q2292.64 785.368 2289.57 789.974 Q2286.51 794.557 2280.7 794.557 Q2274.89 794.557 2271.81 789.974 Q2268.76 785.368 2268.76 776.641 Q2268.76 767.891 2271.81 763.307 Q2274.89 758.701 2280.7 758.701 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip770)" d="M2300.86 788.006 L2305.75 788.006 L2305.75 793.886 L2300.86 793.886 L2300.86 788.006 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip770)" d="M2330.1 775.252 Q2333.45 775.969 2335.33 778.238 Q2337.23 780.506 2337.23 783.84 Q2337.23 788.955 2333.71 791.756 Q2330.19 794.557 2323.71 794.557 Q2321.53 794.557 2319.22 794.117 Q2316.93 793.701 2314.47 792.844 L2314.47 788.33 Q2316.42 789.465 2318.73 790.043 Q2321.05 790.622 2323.57 790.622 Q2327.97 790.622 2330.26 788.886 Q2332.58 787.15 2332.58 783.84 Q2332.58 780.784 2330.42 779.071 Q2328.29 777.335 2324.47 777.335 L2320.45 777.335 L2320.45 773.493 L2324.66 773.493 Q2328.11 773.493 2329.94 772.127 Q2331.76 770.738 2331.76 768.145 Q2331.76 765.483 2329.87 764.071 Q2327.99 762.636 2324.47 762.636 Q2322.55 762.636 2320.35 763.053 Q2318.15 763.469 2315.51 764.349 L2315.51 760.182 Q2318.18 759.442 2320.49 759.071 Q2322.83 758.701 2324.89 758.701 Q2330.21 758.701 2333.32 761.132 Q2336.42 763.539 2336.42 767.659 Q2336.42 770.53 2334.77 772.52 Q2333.13 774.488 2330.1 775.252 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip770)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="2232.76,780.235 2256.76,780.235 "></polyline><path clip-path="url(#clip770)" d="M2280.7 548.09 Q2277.09 548.09 2275.26 551.654 Q2273.45 555.196 2273.45 562.326 Q2273.45 569.432 2275.26 572.997 Q2277.09 576.539 2280.7 576.539 Q2284.33 576.539 2286.14 572.997 Q2287.97 569.432 2287.97 562.326 Q2287.97 555.196 2286.14 551.654 Q2284.33 548.09 2280.7 548.09 M2280.7 544.386 Q2286.51 544.386 2289.57 548.992 Q2292.64 553.576 2292.64 562.326 Q2292.64 571.052 2289.57 575.659 Q2286.51 580.242 2280.7 580.242 Q2274.89 580.242 2271.81 575.659 Q2268.76 571.052 2268.76 562.326 Q2268.76 553.576 2271.81 548.992 Q2274.89 544.386 2280.7 544.386 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip770)" d="M2300.86 573.691 L2305.75 573.691 L2305.75 579.571 L2300.86 579.571 L2300.86 573.691 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip770)" d="M2328.78 549.085 L2316.97 567.534 L2328.78 567.534 L2328.78 549.085 M2327.55 545.011 L2333.43 545.011 L2333.43 567.534 L2338.36 567.534 L2338.36 571.423 L2333.43 571.423 L2333.43 579.571 L2328.78 579.571 L2328.78 571.423 L2313.18 571.423 L2313.18 566.909 L2327.55 545.011 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip770)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="2232.76,565.92 2256.76,565.92 "></polyline><path clip-path="url(#clip770)" d="M2280.7 333.775 Q2277.09 333.775 2275.26 337.339 Q2273.45 340.881 2273.45 348.011 Q2273.45 355.117 2275.26 358.682 Q2277.09 362.224 2280.7 362.224 Q2284.33 362.224 2286.14 358.682 Q2287.97 355.117 2287.97 348.011 Q2287.97 340.881 2286.14 337.339 Q2284.33 333.775 2280.7 333.775 M2280.7 330.071 Q2286.51 330.071 2289.57 334.677 Q2292.64 339.261 2292.64 348.011 Q2292.64 356.737 2289.57 361.344 Q2286.51 365.927 2280.7 365.927 Q2274.89 365.927 2271.81 361.344 Q2268.76 356.737 2268.76 348.011 Q2268.76 339.261 2271.81 334.677 Q2274.89 330.071 2280.7 330.071 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip770)" d="M2300.86 359.376 L2305.75 359.376 L2305.75 365.256 L2300.86 365.256 L2300.86 359.376 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip770)" d="M2315.98 330.696 L2334.33 330.696 L2334.33 334.631 L2320.26 334.631 L2320.26 343.103 Q2321.28 342.756 2322.3 342.594 Q2323.32 342.409 2324.33 342.409 Q2330.12 342.409 2333.5 345.58 Q2336.88 348.751 2336.88 354.168 Q2336.88 359.747 2333.41 362.849 Q2329.94 365.927 2323.62 365.927 Q2321.44 365.927 2319.17 365.557 Q2316.93 365.186 2314.52 364.446 L2314.52 359.747 Q2316.6 360.881 2318.83 361.437 Q2321.05 361.992 2323.52 361.992 Q2327.53 361.992 2329.87 359.886 Q2332.2 357.779 2332.2 354.168 Q2332.2 350.557 2329.87 348.45 Q2327.53 346.344 2323.52 346.344 Q2321.65 346.344 2319.77 346.761 Q2317.92 347.177 2315.98 348.057 L2315.98 330.696 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip770)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="2232.76,351.605 2256.76,351.605 "></polyline><path clip-path="url(#clip770)" d="M2280.7 119.46 Q2277.09 119.46 2275.26 123.024 Q2273.45 126.566 2273.45 133.696 Q2273.45 140.802 2275.26 144.367 Q2277.09 147.909 2280.7 147.909 Q2284.33 147.909 2286.14 144.367 Q2287.97 140.802 2287.97 133.696 Q2287.97 126.566 2286.14 123.024 Q2284.33 119.46 2280.7 119.46 M2280.7 115.756 Q2286.51 115.756 2289.57 120.362 Q2292.64 124.946 2292.64 133.696 Q2292.64 142.422 2289.57 147.029 Q2286.51 151.612 2280.7 151.612 Q2274.89 151.612 2271.81 147.029 Q2268.76 142.422 2268.76 133.696 Q2268.76 124.946 2271.81 120.362 Q2274.89 115.756 2280.7 115.756 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip770)" d="M2300.86 145.061 L2305.75 145.061 L2305.75 150.941 L2300.86 150.941 L2300.86 145.061 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip770)" d="M2326.51 131.797 Q2323.36 131.797 2321.51 133.95 Q2319.68 136.103 2319.68 139.853 Q2319.68 143.58 2321.51 145.756 Q2323.36 147.909 2326.51 147.909 Q2329.66 147.909 2331.49 145.756 Q2333.34 143.58 2333.34 139.853 Q2333.34 136.103 2331.49 133.95 Q2329.66 131.797 2326.51 131.797 M2335.79 117.145 L2335.79 121.404 Q2334.03 120.571 2332.23 120.131 Q2330.45 119.691 2328.69 119.691 Q2324.06 119.691 2321.6 122.816 Q2319.17 125.941 2318.83 132.26 Q2320.19 130.247 2322.25 129.182 Q2324.31 128.094 2326.79 128.094 Q2332 128.094 2335.01 131.265 Q2338.04 134.413 2338.04 139.853 Q2338.04 145.177 2334.89 148.395 Q2331.74 151.612 2326.51 151.612 Q2320.51 151.612 2317.34 147.029 Q2314.17 142.422 2314.17 133.696 Q2314.17 125.501 2318.06 120.64 Q2321.95 115.756 2328.5 115.756 Q2330.26 115.756 2332.04 116.103 Q2333.85 116.45 2335.79 117.145 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip770)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="2232.76,137.29 2256.76,137.29 "></polyline><polyline clip-path="url(#clip770)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="2232.76,1423.18 2232.76,47.2441 "></polyline></svg><h2 id="Additive-Attention" tabindex="-1">Additive Attention <a class="header-anchor" href="#Additive-Attention" aria-label="Permalink to &quot;Additive Attention {#Additive-Attention}&quot;">​</a></h2>`,4)),A("p",null,[t[164]||(t[164]=a("When queries ")),A("mjx-container",RA,[(e(),s("svg",YA,t[154]||(t[154]=[l('<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D42A" d="M38 220Q38 273 54 314T95 380T152 421T211 443T264 449Q368 449 429 386L438 377L484 450H540V-132H609V-194H600Q582 -191 475 -191Q360 -191 351 -194H342V-132H411V42Q409 41 399 34T383 25T367 16T347 7T324 1T296 -4T264 -6Q162 -6 100 56T38 220ZM287 46Q368 46 417 127V301L412 312Q398 347 369 371T302 395Q282 395 263 388T225 362T194 308T182 221Q182 126 214 86T287 46Z" style="stroke-width:3;"></path></g></g></g></g>',1)]))),t[155]||(t[155]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"q")])])],-1))]),t[165]||(t[165]=a(" and keys ")),A("mjx-container",UA,[(e(),s("svg",SA,t[156]||(t[156]=[l('<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D424" d="M32 686L123 690Q214 694 215 694H221V255L377 382H346V444H355Q370 441 476 441Q544 441 556 444H562V382H476L347 277L515 62H587V0H579Q564 3 476 3Q370 3 352 0H343V62H358L373 63L260 206L237 189L216 172V62H285V0H277Q259 3 157 3Q46 3 37 0H29V62H98V332Q98 387 98 453T99 534Q99 593 97 605T83 620Q69 624 42 624H29V686H32Z" style="stroke-width:3;"></path></g></g></g></g>',1)]))),t[157]||(t[157]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"k")])])],-1))]),t[166]||(t[166]=a(" are vectors of different dimension, we can either use a matrix to address the mismatch via ")),A("mjx-container",XA,[(e(),s("svg",OA,t[158]||(t[158]=[l('<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D42A" d="M38 220Q38 273 54 314T95 380T152 421T211 443T264 449Q368 449 429 386L438 377L484 450H540V-132H609V-194H600Q582 -191 475 -191Q360 -191 351 -194H342V-132H411V42Q409 41 399 34T383 25T367 16T347 7T324 1T296 -4T264 -6Q162 -6 100 56T38 220ZM287 46Q368 46 417 127V301L412 312Q398 347 369 371T302 395Q282 395 263 388T225 362T194 308T182 221Q182 126 214 86T287 46Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mi" transform="translate(640,363) scale(0.707)"><path data-c="22A4" d="M55 642T55 648T59 659T66 666T71 668H708Q723 660 723 648T708 628H409V15Q402 2 391 0Q387 0 384 1T379 3T375 6T373 9T371 13T369 16V628H71Q70 628 67 630T59 637Z" style="stroke-width:3;"></path></g></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(1240.1,0)"><g data-mml-node="mi"><path data-c="1D40C" d="M314 0Q296 3 181 3T48 0H39V62H147V624H39V686H305Q316 679 323 667Q330 653 434 414L546 157L658 414Q766 662 773 674Q778 681 788 686H1052V624H944V62H1052V0H1040Q1016 3 874 3T708 0H696V62H804V341L803 618L786 580Q770 543 735 462T671 315Q540 13 536 9Q528 1 507 1Q485 1 477 9Q472 14 408 162T281 457T217 603Q215 603 215 334V62H323V0H314Z" style="stroke-width:3;"></path></g></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(2332.1,0)"><g data-mml-node="mi"><path data-c="1D424" d="M32 686L123 690Q214 694 215 694H221V255L377 382H346V444H355Q370 441 476 441Q544 441 556 444H562V382H476L347 277L515 62H587V0H579Q564 3 476 3Q370 3 352 0H343V62H358L373 63L260 206L237 189L216 172V62H285V0H277Q259 3 157 3Q46 3 37 0H29V62H98V332Q98 387 98 453T99 534Q99 593 97 605T83 620Q69 624 42 624H29V686H32Z" style="stroke-width:3;"></path></g></g></g></g>',1)]))),t[159]||(t[159]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("msup",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"q")]),A("mi",{mathvariant:"normal"},"⊤")]),A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"M")]),A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"k")])])],-1))]),t[167]||(t[167]=a(", or we can use additive attention as the scoring function. Another benefit is that, as its name indicates, the attention is additive. This can lead to some minor computational savings. Given a query ")),A("mjx-container",GA,[(e(),s("svg",KA,t[160]||(t[160]=[l('<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D42A" d="M38 220Q38 273 54 314T95 380T152 421T211 443T264 449Q368 449 429 386L438 377L484 450H540V-132H609V-194H600Q582 -191 475 -191Q360 -191 351 -194H342V-132H411V42Q409 41 399 34T383 25T367 16T347 7T324 1T296 -4T264 -6Q162 -6 100 56T38 220ZM287 46Q368 46 417 127V301L412 312Q398 347 369 371T302 395Q282 395 263 388T225 362T194 308T182 221Q182 126 214 86T287 46Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mo" transform="translate(884.8,0)"><path data-c="2208" d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540T469 540H568Q583 532 583 520Q583 511 570 501L466 500Q355 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112T231 48T328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 446 -40T417 -41Q262 -41 172 45Q84 127 84 250Z" style="stroke-width:3;"></path></g><g data-mml-node="msup" transform="translate(1829.6,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="211D" d="M17 665Q17 672 28 683H221Q415 681 439 677Q461 673 481 667T516 654T544 639T566 623T584 607T597 592T607 578T614 565T618 554L621 548Q626 530 626 497Q626 447 613 419Q578 348 473 326L455 321Q462 310 473 292T517 226T578 141T637 72T686 35Q705 30 705 16Q705 7 693 -1H510Q503 6 404 159L306 310H268V183Q270 67 271 59Q274 42 291 38Q295 37 319 35Q344 35 353 28Q362 17 353 3L346 -1H28Q16 5 16 16Q16 35 55 35Q96 38 101 52Q106 60 106 341T101 632Q95 645 55 648Q17 648 17 665ZM241 35Q238 42 237 45T235 78T233 163T233 337V621L237 635L244 648H133Q136 641 137 638T139 603T141 517T141 341Q141 131 140 89T134 37Q133 36 133 35H241ZM457 496Q457 540 449 570T425 615T400 634T377 643Q374 643 339 648Q300 648 281 635Q271 628 270 610T268 481V346H284Q327 346 375 352Q421 364 439 392T457 496ZM492 537T492 496T488 427T478 389T469 371T464 361Q464 360 465 360Q469 360 497 370Q593 400 593 495Q593 592 477 630L457 637L461 626Q474 611 488 561Q492 537 492 496ZM464 243Q411 317 410 317Q404 317 401 315Q384 315 370 312H346L526 35H619L606 50Q553 109 464 243Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mi" transform="translate(755,363) scale(0.707)"><path data-c="1D45E" d="M33 157Q33 258 109 349T280 441Q340 441 372 389Q373 390 377 395T388 406T404 418Q438 442 450 442Q454 442 457 439T460 434Q460 425 391 149Q320 -135 320 -139Q320 -147 365 -148H390Q396 -156 396 -157T393 -175Q389 -188 383 -194H370Q339 -192 262 -192Q234 -192 211 -192T174 -192T157 -193Q143 -193 143 -185Q143 -182 145 -170Q149 -154 152 -151T172 -148Q220 -148 230 -141Q238 -136 258 -53T279 32Q279 33 272 29Q224 -10 172 -10Q117 -10 75 30T33 157ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z" style="stroke-width:3;"></path></g></g></g></g>',1)]))),t[161]||(t[161]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"q")]),A("mo",null,"∈"),A("msup",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"double-struck"},"R")]),A("mi",null,"q")])])],-1))]),t[168]||(t[168]=a(" and a key ")),A("mjx-container",PA,[(e(),s("svg",NA,t[162]||(t[162]=[l('<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D424" d="M32 686L123 690Q214 694 215 694H221V255L377 382H346V444H355Q370 441 476 441Q544 441 556 444H562V382H476L347 277L515 62H587V0H579Q564 3 476 3Q370 3 352 0H343V62H358L373 63L260 206L237 189L216 172V62H285V0H277Q259 3 157 3Q46 3 37 0H29V62H98V332Q98 387 98 453T99 534Q99 593 97 605T83 620Q69 624 42 624H29V686H32Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mo" transform="translate(884.8,0)"><path data-c="2208" d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540T469 540H568Q583 532 583 520Q583 511 570 501L466 500Q355 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112T231 48T328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 446 -40T417 -41Q262 -41 172 45Q84 127 84 250Z" style="stroke-width:3;"></path></g><g data-mml-node="msup" transform="translate(1829.6,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="211D" d="M17 665Q17 672 28 683H221Q415 681 439 677Q461 673 481 667T516 654T544 639T566 623T584 607T597 592T607 578T614 565T618 554L621 548Q626 530 626 497Q626 447 613 419Q578 348 473 326L455 321Q462 310 473 292T517 226T578 141T637 72T686 35Q705 30 705 16Q705 7 693 -1H510Q503 6 404 159L306 310H268V183Q270 67 271 59Q274 42 291 38Q295 37 319 35Q344 35 353 28Q362 17 353 3L346 -1H28Q16 5 16 16Q16 35 55 35Q96 38 101 52Q106 60 106 341T101 632Q95 645 55 648Q17 648 17 665ZM241 35Q238 42 237 45T235 78T233 163T233 337V621L237 635L244 648H133Q136 641 137 638T139 603T141 517T141 341Q141 131 140 89T134 37Q133 36 133 35H241ZM457 496Q457 540 449 570T425 615T400 634T377 643Q374 643 339 648Q300 648 281 635Q271 628 270 610T268 481V346H284Q327 346 375 352Q421 364 439 392T457 496ZM492 537T492 496T488 427T478 389T469 371T464 361Q464 360 465 360Q469 360 497 370Q593 400 593 495Q593 592 477 630L457 637L461 626Q474 611 488 561Q492 537 492 496ZM464 243Q411 317 410 317Q404 317 401 315Q384 315 370 312H346L526 35H619L606 50Q553 109 464 243Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mi" transform="translate(755,363) scale(0.707)"><path data-c="1D458" d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z" style="stroke-width:3;"></path></g></g></g></g>',1)]))),t[163]||(t[163]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"k")]),A("mo",null,"∈"),A("msup",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"double-struck"},"R")]),A("mi",null,"k")])])],-1))]),t[169]||(t[169]=a(", the ")),t[170]||(t[170]=A("em",null,"additive attention",-1)),t[171]||(t[171]=a(" scoring function [")),t[172]||(t[172]=A("a",{href:"/d2l-julia/previews/PR1/references#Bahdanau_Cho_Bengio_2014"},"176",-1)),t[173]||(t[173]=a("] is given by"))]),A("mjx-container",zA,[(e(),s("svg",qA,t[174]||(t[174]=[l('<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(529,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" style="stroke-width:3;"></path></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(918,0)"><g data-mml-node="mi"><path data-c="1D42A" d="M38 220Q38 273 54 314T95 380T152 421T211 443T264 449Q368 449 429 386L438 377L484 450H540V-132H609V-194H600Q582 -191 475 -191Q360 -191 351 -194H342V-132H411V42Q409 41 399 34T383 25T367 16T347 7T324 1T296 -4T264 -6Q162 -6 100 56T38 220ZM287 46Q368 46 417 127V301L412 312Q398 347 369 371T302 395Q282 395 263 388T225 362T194 308T182 221Q182 126 214 86T287 46Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mo" transform="translate(1525,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" style="stroke-width:3;"></path></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(1969.7,0)"><g data-mml-node="mi"><path data-c="1D424" d="M32 686L123 690Q214 694 215 694H221V255L377 382H346V444H355Q370 441 476 441Q544 441 556 444H562V382H476L347 277L515 62H587V0H579Q564 3 476 3Q370 3 352 0H343V62H358L373 63L260 206L237 189L216 172V62H285V0H277Q259 3 157 3Q46 3 37 0H29V62H98V332Q98 387 98 453T99 534Q99 593 97 605T83 620Q69 624 42 624H29V686H32Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mo" transform="translate(2576.7,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(3243.4,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" style="stroke-width:3;"></path></g><g data-mml-node="msubsup" transform="translate(4299.2,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D430" d="M624 444Q636 441 722 441Q797 441 800 444H805V382H741L593 11Q592 10 590 8T586 4T584 2T581 0T579 -2T575 -3T571 -3T567 -4T561 -4T553 -4H542Q525 -4 518 6T490 70Q474 110 463 137L415 257L367 137Q357 111 341 72Q320 17 313 7T289 -4H277Q259 -4 253 -2T238 11L90 382H25V444H32Q47 441 140 441Q243 441 261 444H270V382H222L310 164L382 342L366 382H303V444H310Q322 441 407 441Q508 441 523 444H531V382H506Q481 382 481 380Q482 376 529 259T577 142L674 382H617V444H624Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mi" transform="translate(864,413) scale(0.707)"><path data-c="22A4" d="M55 642T55 648T59 659T66 666T71 668H708Q723 660 723 648T708 628H409V15Q402 2 391 0Q387 0 384 1T379 3T375 6T373 9T371 13T369 16V628H71Q70 628 67 630T59 637Z" style="stroke-width:3;"></path></g><g data-mml-node="mi" transform="translate(864,-247) scale(0.707)"><path data-c="1D463" d="M173 380Q173 405 154 405Q130 405 104 376T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Q21 294 29 316T53 368T97 419T160 441Q202 441 225 417T249 361Q249 344 246 335Q246 329 231 291T200 202T182 113Q182 86 187 69Q200 26 250 26Q287 26 319 60T369 139T398 222T409 277Q409 300 401 317T383 343T365 361T357 383Q357 405 376 424T417 443Q436 443 451 425T467 367Q467 340 455 284T418 159T347 40T241 -11Q177 -11 139 22Q102 54 102 117Q102 148 110 181T151 298Q173 362 173 380Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mtext" transform="translate(5763.4,0)"><path data-c="74" d="M27 422Q80 426 109 478T141 600V615H181V431H316V385H181V241Q182 116 182 100T189 68Q203 29 238 29Q282 29 292 100Q293 108 293 146V181H333V146V134Q333 57 291 17Q264 -10 221 -10Q187 -10 162 2T124 33T105 68T98 100Q97 107 97 248V385H18V422H27Z" style="stroke-width:3;"></path><path data-c="61" d="M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z" transform="translate(389,0)" style="stroke-width:3;"></path><path data-c="6E" d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q450 438 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z" transform="translate(889,0)" style="stroke-width:3;"></path><path data-c="68" d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 124T102 167T103 217T103 272T103 329Q103 366 103 407T103 482T102 542T102 586T102 603Q99 622 88 628T43 637H25V660Q25 683 27 683L37 684Q47 685 66 686T103 688Q120 689 140 690T170 693T181 694H184V367Q244 442 328 442Q451 442 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z" transform="translate(1445,0)" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(7764.4,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" style="stroke-width:3;"></path></g><g data-mml-node="msub" transform="translate(8153.4,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D416" d="M915 686L1052 683Q1142 683 1157 686H1164V624H1073L957 320Q930 249 900 170T855 52T839 10Q834 0 826 -5Q821 -7 799 -7H792Q777 -7 772 -5T759 10Q759 11 748 39T716 122T676 228L594 442L512 228Q486 159 455 78Q433 19 428 9T416 -5Q411 -7 389 -7H379Q356 -7 349 10Q349 12 334 51T288 170T231 320L116 624H24V686H35Q44 683 183 683Q331 683 355 686H368V624H323Q278 624 278 623L437 207L499 369L561 531L526 624H434V686H445Q454 683 593 683Q741 683 765 686H778V624H733Q688 624 688 623L847 207Q848 207 927 415T1006 624H905V686H915Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mi" transform="translate(1222,-150) scale(0.707)"><path data-c="1D45E" d="M33 157Q33 258 109 349T280 441Q340 441 372 389Q373 390 377 395T388 406T404 418Q438 442 450 442Q454 442 457 439T460 434Q460 425 391 149Q320 -135 320 -139Q320 -147 365 -148H390Q396 -156 396 -157T393 -175Q389 -188 383 -194H370Q339 -192 262 -192Q234 -192 211 -192T174 -192T157 -193Q143 -193 143 -185Q143 -182 145 -170Q149 -154 152 -151T172 -148Q220 -148 230 -141Q238 -136 258 -53T279 32Q279 33 272 29Q224 -10 172 -10Q117 -10 75 30T33 157ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z" style="stroke-width:3;"></path></g></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(9750.6,0)"><g data-mml-node="mi"><path data-c="1D42A" d="M38 220Q38 273 54 314T95 380T152 421T211 443T264 449Q368 449 429 386L438 377L484 450H540V-132H609V-194H600Q582 -191 475 -191Q360 -191 351 -194H342V-132H411V42Q409 41 399 34T383 25T367 16T347 7T324 1T296 -4T264 -6Q162 -6 100 56T38 220ZM287 46Q368 46 417 127V301L412 312Q398 347 369 371T302 395Q282 395 263 388T225 362T194 308T182 221Q182 126 214 86T287 46Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mo" transform="translate(10579.8,0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z" style="stroke-width:3;"></path></g><g data-mml-node="msub" transform="translate(11580.1,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D416" d="M915 686L1052 683Q1142 683 1157 686H1164V624H1073L957 320Q930 249 900 170T855 52T839 10Q834 0 826 -5Q821 -7 799 -7H792Q777 -7 772 -5T759 10Q759 11 748 39T716 122T676 228L594 442L512 228Q486 159 455 78Q433 19 428 9T416 -5Q411 -7 389 -7H379Q356 -7 349 10Q349 12 334 51T288 170T231 320L116 624H24V686H35Q44 683 183 683Q331 683 355 686H368V624H323Q278 624 278 623L437 207L499 369L561 531L526 624H434V686H445Q454 683 593 683Q741 683 765 686H778V624H733Q688 624 688 623L847 207Q848 207 927 415T1006 624H905V686H915Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mi" transform="translate(1222,-150) scale(0.707)"><path data-c="1D458" d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z" style="stroke-width:3;"></path></g></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(13220.5,0)"><g data-mml-node="mi"><path data-c="1D424" d="M32 686L123 690Q214 694 215 694H221V255L377 382H346V444H355Q370 441 476 441Q544 441 556 444H562V382H476L347 277L515 62H587V0H579Q564 3 476 3Q370 3 352 0H343V62H358L373 63L260 206L237 189L216 172V62H285V0H277Q259 3 157 3Q46 3 37 0H29V62H98V332Q98 387 98 453T99 534Q99 593 97 605T83 620Q69 624 42 624H29V686H32Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mo" transform="translate(13827.5,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(14494.2,0)"><path data-c="2208" d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540T469 540H568Q583 532 583 520Q583 511 570 501L466 500Q355 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112T231 48T328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 446 -40T417 -41Q262 -41 172 45Q84 127 84 250Z" style="stroke-width:3;"></path></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(15439,0)"><g data-mml-node="mi"><path data-c="211D" d="M17 665Q17 672 28 683H221Q415 681 439 677Q461 673 481 667T516 654T544 639T566 623T584 607T597 592T607 578T614 565T618 554L621 548Q626 530 626 497Q626 447 613 419Q578 348 473 326L455 321Q462 310 473 292T517 226T578 141T637 72T686 35Q705 30 705 16Q705 7 693 -1H510Q503 6 404 159L306 310H268V183Q270 67 271 59Q274 42 291 38Q295 37 319 35Q344 35 353 28Q362 17 353 3L346 -1H28Q16 5 16 16Q16 35 55 35Q96 38 101 52Q106 60 106 341T101 632Q95 645 55 648Q17 648 17 665ZM241 35Q238 42 237 45T235 78T233 163T233 337V621L237 635L244 648H133Q136 641 137 638T139 603T141 517T141 341Q141 131 140 89T134 37Q133 36 133 35H241ZM457 496Q457 540 449 570T425 615T400 634T377 643Q374 643 339 648Q300 648 281 635Q271 628 270 610T268 481V346H284Q327 346 375 352Q421 364 439 392T457 496ZM492 537T492 496T488 427T478 389T469 371T464 361Q464 360 465 360Q469 360 497 370Q593 400 593 495Q593 592 477 630L457 637L461 626Q474 611 488 561Q492 537 492 496ZM464 243Q411 317 410 317Q404 317 401 315Q384 315 370 312H346L526 35H619L606 50Q553 109 464 243Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mo" transform="translate(16161,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" style="stroke-width:3;"></path></g></g></g>',1)]))),t[175]||(t[175]=A("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[A("mi",null,"a"),A("mo",{stretchy:"false"},"("),A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"q")]),A("mo",null,","),A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"k")]),A("mo",{stretchy:"false"},")"),A("mo",null,"="),A("msubsup",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"w")]),A("mi",null,"v"),A("mi",{mathvariant:"normal"},"⊤")]),A("mtext",null,"tanh"),A("mo",{stretchy:"false"},"("),A("msub",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"W")]),A("mi",null,"q")]),A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"q")]),A("mo",null,"+"),A("msub",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"W")]),A("mi",null,"k")]),A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"k")]),A("mo",{stretchy:"false"},")"),A("mo",null,"∈"),A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"double-struck"},"R")]),A("mo",null,",")])],-1))]),t[234]||(t[234]=A("p",null,[a(":eqlabel:"),A("code",null,"eq_additive-attn")],-1)),A("p",null,[t[184]||(t[184]=a("where ")),A("mjx-container",JA,[(e(),s("svg",WA,t[176]||(t[176]=[l('<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D416" d="M915 686L1052 683Q1142 683 1157 686H1164V624H1073L957 320Q930 249 900 170T855 52T839 10Q834 0 826 -5Q821 -7 799 -7H792Q777 -7 772 -5T759 10Q759 11 748 39T716 122T676 228L594 442L512 228Q486 159 455 78Q433 19 428 9T416 -5Q411 -7 389 -7H379Q356 -7 349 10Q349 12 334 51T288 170T231 320L116 624H24V686H35Q44 683 183 683Q331 683 355 686H368V624H323Q278 624 278 623L437 207L499 369L561 531L526 624H434V686H445Q454 683 593 683Q741 683 765 686H778V624H733Q688 624 688 623L847 207Q848 207 927 415T1006 624H905V686H915Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mi" transform="translate(1222,-150) scale(0.707)"><path data-c="1D45E" d="M33 157Q33 258 109 349T280 441Q340 441 372 389Q373 390 377 395T388 406T404 418Q438 442 450 442Q454 442 457 439T460 434Q460 425 391 149Q320 -135 320 -139Q320 -147 365 -148H390Q396 -156 396 -157T393 -175Q389 -188 383 -194H370Q339 -192 262 -192Q234 -192 211 -192T174 -192T157 -193Q143 -193 143 -185Q143 -182 145 -170Q149 -154 152 -151T172 -148Q220 -148 230 -141Q238 -136 258 -53T279 32Q279 33 272 29Q224 -10 172 -10Q117 -10 75 30T33 157ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mo" transform="translate(1875,0)"><path data-c="2208" d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540T469 540H568Q583 532 583 520Q583 511 570 501L466 500Q355 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112T231 48T328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 446 -40T417 -41Q262 -41 172 45Q84 127 84 250Z" style="stroke-width:3;"></path></g><g data-mml-node="msup" transform="translate(2819.8,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="211D" d="M17 665Q17 672 28 683H221Q415 681 439 677Q461 673 481 667T516 654T544 639T566 623T584 607T597 592T607 578T614 565T618 554L621 548Q626 530 626 497Q626 447 613 419Q578 348 473 326L455 321Q462 310 473 292T517 226T578 141T637 72T686 35Q705 30 705 16Q705 7 693 -1H510Q503 6 404 159L306 310H268V183Q270 67 271 59Q274 42 291 38Q295 37 319 35Q344 35 353 28Q362 17 353 3L346 -1H28Q16 5 16 16Q16 35 55 35Q96 38 101 52Q106 60 106 341T101 632Q95 645 55 648Q17 648 17 665ZM241 35Q238 42 237 45T235 78T233 163T233 337V621L237 635L244 648H133Q136 641 137 638T139 603T141 517T141 341Q141 131 140 89T134 37Q133 36 133 35H241ZM457 496Q457 540 449 570T425 615T400 634T377 643Q374 643 339 648Q300 648 281 635Q271 628 270 610T268 481V346H284Q327 346 375 352Q421 364 439 392T457 496ZM492 537T492 496T488 427T478 389T469 371T464 361Q464 360 465 360Q469 360 497 370Q593 400 593 495Q593 592 477 630L457 637L461 626Q474 611 488 561Q492 537 492 496ZM464 243Q411 317 410 317Q404 317 401 315Q384 315 370 312H346L526 35H619L606 50Q553 109 464 243Z" style="stroke-width:3;"></path></g></g><g data-mml-node="TeXAtom" transform="translate(755,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="210E" d="M137 683Q138 683 209 688T282 694Q294 694 294 685Q294 674 258 534Q220 386 220 383Q220 381 227 388Q288 442 357 442Q411 442 444 415T478 336Q478 285 440 178T402 50Q403 36 407 31T422 26Q450 26 474 56T513 138Q516 149 519 151T535 153Q555 153 555 145Q555 144 551 130Q535 71 500 33Q466 -10 419 -10H414Q367 -10 346 17T325 74Q325 90 361 192T398 345Q398 404 354 404H349Q266 404 205 306L198 293L164 158Q132 28 127 16Q114 -11 83 -11Q69 -11 59 -2T48 16Q48 30 121 320L195 616Q195 629 188 632T149 637H128Q122 643 122 645T124 664Q129 683 137 683Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(576,0)"><path data-c="D7" d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z" style="stroke-width:3;"></path></g><g data-mml-node="mi" transform="translate(1354,0)"><path data-c="1D45E" d="M33 157Q33 258 109 349T280 441Q340 441 372 389Q373 390 377 395T388 406T404 418Q438 442 450 442Q454 442 457 439T460 434Q460 425 391 149Q320 -135 320 -139Q320 -147 365 -148H390Q396 -156 396 -157T393 -175Q389 -188 383 -194H370Q339 -192 262 -192Q234 -192 211 -192T174 -192T157 -193Q143 -193 143 -185Q143 -182 145 -170Q149 -154 152 -151T172 -148Q220 -148 230 -141Q238 -136 258 -53T279 32Q279 33 272 29Q224 -10 172 -10Q117 -10 75 30T33 157ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z" style="stroke-width:3;"></path></g></g></g></g></g>',1)]))),t[177]||(t[177]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("msub",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"W")]),A("mi",null,"q")]),A("mo",null,"∈"),A("msup",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"double-struck"},"R")]),A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",null,"h"),A("mo",null,"×"),A("mi",null,"q")])])])],-1))]),t[185]||(t[185]=a(", ")),A("mjx-container",$A,[(e(),s("svg",A1,t[178]||(t[178]=[l('<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D416" d="M915 686L1052 683Q1142 683 1157 686H1164V624H1073L957 320Q930 249 900 170T855 52T839 10Q834 0 826 -5Q821 -7 799 -7H792Q777 -7 772 -5T759 10Q759 11 748 39T716 122T676 228L594 442L512 228Q486 159 455 78Q433 19 428 9T416 -5Q411 -7 389 -7H379Q356 -7 349 10Q349 12 334 51T288 170T231 320L116 624H24V686H35Q44 683 183 683Q331 683 355 686H368V624H323Q278 624 278 623L437 207L499 369L561 531L526 624H434V686H445Q454 683 593 683Q741 683 765 686H778V624H733Q688 624 688 623L847 207Q848 207 927 415T1006 624H905V686H915Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mi" transform="translate(1222,-150) scale(0.707)"><path data-c="1D458" d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mo" transform="translate(1918.2,0)"><path data-c="2208" d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540T469 540H568Q583 532 583 520Q583 511 570 501L466 500Q355 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112T231 48T328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 446 -40T417 -41Q262 -41 172 45Q84 127 84 250Z" style="stroke-width:3;"></path></g><g data-mml-node="msup" transform="translate(2863,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="211D" d="M17 665Q17 672 28 683H221Q415 681 439 677Q461 673 481 667T516 654T544 639T566 623T584 607T597 592T607 578T614 565T618 554L621 548Q626 530 626 497Q626 447 613 419Q578 348 473 326L455 321Q462 310 473 292T517 226T578 141T637 72T686 35Q705 30 705 16Q705 7 693 -1H510Q503 6 404 159L306 310H268V183Q270 67 271 59Q274 42 291 38Q295 37 319 35Q344 35 353 28Q362 17 353 3L346 -1H28Q16 5 16 16Q16 35 55 35Q96 38 101 52Q106 60 106 341T101 632Q95 645 55 648Q17 648 17 665ZM241 35Q238 42 237 45T235 78T233 163T233 337V621L237 635L244 648H133Q136 641 137 638T139 603T141 517T141 341Q141 131 140 89T134 37Q133 36 133 35H241ZM457 496Q457 540 449 570T425 615T400 634T377 643Q374 643 339 648Q300 648 281 635Q271 628 270 610T268 481V346H284Q327 346 375 352Q421 364 439 392T457 496ZM492 537T492 496T488 427T478 389T469 371T464 361Q464 360 465 360Q469 360 497 370Q593 400 593 495Q593 592 477 630L457 637L461 626Q474 611 488 561Q492 537 492 496ZM464 243Q411 317 410 317Q404 317 401 315Q384 315 370 312H346L526 35H619L606 50Q553 109 464 243Z" style="stroke-width:3;"></path></g></g><g data-mml-node="TeXAtom" transform="translate(755,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="210E" d="M137 683Q138 683 209 688T282 694Q294 694 294 685Q294 674 258 534Q220 386 220 383Q220 381 227 388Q288 442 357 442Q411 442 444 415T478 336Q478 285 440 178T402 50Q403 36 407 31T422 26Q450 26 474 56T513 138Q516 149 519 151T535 153Q555 153 555 145Q555 144 551 130Q535 71 500 33Q466 -10 419 -10H414Q367 -10 346 17T325 74Q325 90 361 192T398 345Q398 404 354 404H349Q266 404 205 306L198 293L164 158Q132 28 127 16Q114 -11 83 -11Q69 -11 59 -2T48 16Q48 30 121 320L195 616Q195 629 188 632T149 637H128Q122 643 122 645T124 664Q129 683 137 683Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(576,0)"><path data-c="D7" d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z" style="stroke-width:3;"></path></g><g data-mml-node="mi" transform="translate(1354,0)"><path data-c="1D458" d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z" style="stroke-width:3;"></path></g></g></g></g></g>',1)]))),t[179]||(t[179]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("msub",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"W")]),A("mi",null,"k")]),A("mo",null,"∈"),A("msup",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"double-struck"},"R")]),A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",null,"h"),A("mo",null,"×"),A("mi",null,"k")])])])],-1))]),t[186]||(t[186]=a(", and ")),A("mjx-container",t1,[(e(),s("svg",a1,t[180]||(t[180]=[l('<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D430" d="M624 444Q636 441 722 441Q797 441 800 444H805V382H741L593 11Q592 10 590 8T586 4T584 2T581 0T579 -2T575 -3T571 -3T567 -4T561 -4T553 -4H542Q525 -4 518 6T490 70Q474 110 463 137L415 257L367 137Q357 111 341 72Q320 17 313 7T289 -4H277Q259 -4 253 -2T238 11L90 382H25V444H32Q47 441 140 441Q243 441 261 444H270V382H222L310 164L382 342L366 382H303V444H310Q322 441 407 441Q508 441 523 444H531V382H506Q481 382 481 380Q482 376 529 259T577 142L674 382H617V444H624Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mi" transform="translate(864,-150) scale(0.707)"><path data-c="1D463" d="M173 380Q173 405 154 405Q130 405 104 376T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Q21 294 29 316T53 368T97 419T160 441Q202 441 225 417T249 361Q249 344 246 335Q246 329 231 291T200 202T182 113Q182 86 187 69Q200 26 250 26Q287 26 319 60T369 139T398 222T409 277Q409 300 401 317T383 343T365 361T357 383Q357 405 376 424T417 443Q436 443 451 425T467 367Q467 340 455 284T418 159T347 40T241 -11Q177 -11 139 22Q102 54 102 117Q102 148 110 181T151 298Q173 362 173 380Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mo" transform="translate(1534.7,0)"><path data-c="2208" d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540T469 540H568Q583 532 583 520Q583 511 570 501L466 500Q355 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112T231 48T328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 446 -40T417 -41Q262 -41 172 45Q84 127 84 250Z" style="stroke-width:3;"></path></g><g data-mml-node="msup" transform="translate(2479.5,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="211D" d="M17 665Q17 672 28 683H221Q415 681 439 677Q461 673 481 667T516 654T544 639T566 623T584 607T597 592T607 578T614 565T618 554L621 548Q626 530 626 497Q626 447 613 419Q578 348 473 326L455 321Q462 310 473 292T517 226T578 141T637 72T686 35Q705 30 705 16Q705 7 693 -1H510Q503 6 404 159L306 310H268V183Q270 67 271 59Q274 42 291 38Q295 37 319 35Q344 35 353 28Q362 17 353 3L346 -1H28Q16 5 16 16Q16 35 55 35Q96 38 101 52Q106 60 106 341T101 632Q95 645 55 648Q17 648 17 665ZM241 35Q238 42 237 45T235 78T233 163T233 337V621L237 635L244 648H133Q136 641 137 638T139 603T141 517T141 341Q141 131 140 89T134 37Q133 36 133 35H241ZM457 496Q457 540 449 570T425 615T400 634T377 643Q374 643 339 648Q300 648 281 635Q271 628 270 610T268 481V346H284Q327 346 375 352Q421 364 439 392T457 496ZM492 537T492 496T488 427T478 389T469 371T464 361Q464 360 465 360Q469 360 497 370Q593 400 593 495Q593 592 477 630L457 637L461 626Q474 611 488 561Q492 537 492 496ZM464 243Q411 317 410 317Q404 317 401 315Q384 315 370 312H346L526 35H619L606 50Q553 109 464 243Z" style="stroke-width:3;"></path></g></g><g data-mml-node="TeXAtom" transform="translate(755,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="210E" d="M137 683Q138 683 209 688T282 694Q294 694 294 685Q294 674 258 534Q220 386 220 383Q220 381 227 388Q288 442 357 442Q411 442 444 415T478 336Q478 285 440 178T402 50Q403 36 407 31T422 26Q450 26 474 56T513 138Q516 149 519 151T535 153Q555 153 555 145Q555 144 551 130Q535 71 500 33Q466 -10 419 -10H414Q367 -10 346 17T325 74Q325 90 361 192T398 345Q398 404 354 404H349Q266 404 205 306L198 293L164 158Q132 28 127 16Q114 -11 83 -11Q69 -11 59 -2T48 16Q48 30 121 320L195 616Q195 629 188 632T149 637H128Q122 643 122 645T124 664Q129 683 137 683Z" style="stroke-width:3;"></path></g></g></g></g></g>',1)]))),t[181]||(t[181]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("msub",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"w")]),A("mi",null,"v")]),A("mo",null,"∈"),A("msup",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"double-struck"},"R")]),A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",null,"h")])])])],-1))]),t[187]||(t[187]=a(" are the learnable parameters. This term is then fed into a softmax to ensure both nonnegativity and normalization. An equivalent interpretation of :eqref:")),t[188]||(t[188]=A("code",null,"eq_additive-attn",-1)),t[189]||(t[189]=a(" is that the query and key are concatenated and fed into an MLP with a single hidden layer. Using ")),A("mjx-container",s1,[(e(),s("svg",e1,t[182]||(t[182]=[l('<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="74" d="M27 422Q80 426 109 478T141 600V615H181V431H316V385H181V241Q182 116 182 100T189 68Q203 29 238 29Q282 29 292 100Q293 108 293 146V181H333V146V134Q333 57 291 17Q264 -10 221 -10Q187 -10 162 2T124 33T105 68T98 100Q97 107 97 248V385H18V422H27Z" style="stroke-width:3;"></path><path data-c="61" d="M137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106Z" transform="translate(389,0)" style="stroke-width:3;"></path><path data-c="6E" d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q450 438 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z" transform="translate(889,0)" style="stroke-width:3;"></path><path data-c="68" d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 124T102 167T103 217T103 272T103 329Q103 366 103 407T103 482T102 542T102 586T102 603Q99 622 88 628T43 637H25V660Q25 683 27 683L37 684Q47 685 66 686T103 688Q120 689 140 690T170 693T181 694H184V367Q244 442 328 442Q451 442 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z" transform="translate(1445,0)" style="stroke-width:3;"></path></g></g></g>',1)]))),t[183]||(t[183]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("mi",null,"tanh")])],-1))]),t[190]||(t[190]=a(" as the activation function and disabling bias terms, we implement additive attention as follows:"))]),t[235]||(t[235]=l(`<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">struct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> AdditiveAttention{W, A, D} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> AbstractModel</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    weights</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">W</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    dropout</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">D</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    args</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">A</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">end</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Flux</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">@layer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> AdditiveAttention trainable </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (weights,)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> AdditiveAttention</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(k_d, q_d, v_d, num_hiddens</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int64</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, dropout</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Float64</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; kw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    W_k </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Dense</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(k_d </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> num_hiddens; bias </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    W_q </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Dense</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(q_d </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> num_hiddens; bias </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    W_v </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Dense</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(num_hiddens </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; bias </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    AdditiveAttention</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((; W_k, W_q, W_v), Flux</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Dropout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(dropout), (;))</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">end</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (m</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AdditiveAttention</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)(queries, keys, values, valid_lens)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    queries </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> m</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">weights</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">W_q</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(queries) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># num_hiddens x num_queries x batch_size</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    keys </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> m</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">weights</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">W_k</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(keys) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># num_hiddens x num_keys x batch_size</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    features </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Flux</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">unsqueeze</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(queries, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Flux</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">unsqueeze</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(keys, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># num_hiddens x num_keys x num_queries x batch_size </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    features </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> tanh</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.(features)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    scores </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> m</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">weights</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">W_v</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(features) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 1 x num_keys x num_queries x batch_size </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    scores </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> dropdims</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(scores, dims </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># num_keys x num_queries x batch_size</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    attention_weights </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> masked_softmax</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(scores, valid_lens) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># num_keys x num_queries x batch_size</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> batched_mul</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(values, m</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">dropout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(attention_weights)), attention_weights </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # num_hidden x num_queries x batch_size , num_keys x num_queries x batch_size</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">end</span></span></code></pre></div>`,1)),A("p",null,[t[201]||(t[201]=a("Let's see how ")),t[202]||(t[202]=A("code",null,"AdditiveAttention",-1)),t[203]||(t[203]=a(" works. In our toy example we pick queries, keys and values of size ")),A("mjx-container",l1,[(e(),s("svg",i1,t[191]||(t[191]=[l('<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" style="stroke-width:3;"></path></g><g data-mml-node="mn" transform="translate(389,0)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(889,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" style="stroke-width:3;"></path></g><g data-mml-node="mn" transform="translate(1333.7,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(1833.7,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" style="stroke-width:3;"></path></g><g data-mml-node="mn" transform="translate(2278.3,0)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" style="stroke-width:3;"></path><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" transform="translate(500,0)" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(3278.3,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" style="stroke-width:3;"></path></g></g></g>',1)]))),t[192]||(t[192]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("mo",{stretchy:"false"},"("),A("mn",null,"2"),A("mo",null,","),A("mn",null,"1"),A("mo",null,","),A("mn",null,"20"),A("mo",{stretchy:"false"},")")])],-1))]),t[204]||(t[204]=a(", ")),A("mjx-container",Q1,[(e(),s("svg",n1,t[193]||(t[193]=[l('<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" style="stroke-width:3;"></path></g><g data-mml-node="mn" transform="translate(389,0)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(889,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" style="stroke-width:3;"></path></g><g data-mml-node="mn" transform="translate(1333.7,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" style="stroke-width:3;"></path><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" transform="translate(500,0)" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(2333.7,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" style="stroke-width:3;"></path></g><g data-mml-node="mn" transform="translate(2778.3,0)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(3278.3,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" style="stroke-width:3;"></path></g></g></g>',1)]))),t[194]||(t[194]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("mo",{stretchy:"false"},"("),A("mn",null,"2"),A("mo",null,","),A("mn",null,"10"),A("mo",null,","),A("mn",null,"2"),A("mo",{stretchy:"false"},")")])],-1))]),t[205]||(t[205]=a(" and ")),A("mjx-container",o1,[(e(),s("svg",T1,t[195]||(t[195]=[l('<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" style="stroke-width:3;"></path></g><g data-mml-node="mn" transform="translate(389,0)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(889,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" style="stroke-width:3;"></path></g><g data-mml-node="mn" transform="translate(1333.7,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" style="stroke-width:3;"></path><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" transform="translate(500,0)" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(2333.7,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" style="stroke-width:3;"></path></g><g data-mml-node="mn" transform="translate(2778.3,0)"><path data-c="34" d="M462 0Q444 3 333 3Q217 3 199 0H190V46H221Q241 46 248 46T265 48T279 53T286 61Q287 63 287 115V165H28V211L179 442Q332 674 334 675Q336 677 355 677H373L379 671V211H471V165H379V114Q379 73 379 66T385 54Q393 47 442 46H471V0H462ZM293 211V545L74 212L183 211H293Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(3278.3,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" style="stroke-width:3;"></path></g></g></g>',1)]))),t[196]||(t[196]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("mo",{stretchy:"false"},"("),A("mn",null,"2"),A("mo",null,","),A("mn",null,"10"),A("mo",null,","),A("mn",null,"4"),A("mo",{stretchy:"false"},")")])],-1))]),t[206]||(t[206]=a(", respectively. This is identical to our choice for ")),t[207]||(t[207]=A("code",null,"DotProductAttention",-1)),t[208]||(t[208]=a(", except that now the queries are ")),A("mjx-container",r1,[(e(),s("svg",d1,t[197]||(t[197]=[l('<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" style="stroke-width:3;"></path><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" transform="translate(500,0)" style="stroke-width:3;"></path></g></g></g>',1)]))),t[198]||(t[198]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("mn",null,"20")])],-1))]),t[209]||(t[209]=a("-dimensional. Likewise, we pick ")),A("mjx-container",p1,[(e(),s("svg",h1,t[199]||(t[199]=[l('<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" style="stroke-width:3;"></path></g><g data-mml-node="mn" transform="translate(389,0)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(889,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" style="stroke-width:3;"></path></g><g data-mml-node="mn" transform="translate(1333.7,0)"><path data-c="36" d="M42 313Q42 476 123 571T303 666Q372 666 402 630T432 550Q432 525 418 510T379 495Q356 495 341 509T326 548Q326 592 373 601Q351 623 311 626Q240 626 194 566Q147 500 147 364L148 360Q153 366 156 373Q197 433 263 433H267Q313 433 348 414Q372 400 396 374T435 317Q456 268 456 210V192Q456 169 451 149Q440 90 387 34T253 -22Q225 -22 199 -14T143 16T92 75T56 172T42 313ZM257 397Q227 397 205 380T171 335T154 278T148 216Q148 133 160 97T198 39Q222 21 251 21Q302 21 329 59Q342 77 347 104T352 209Q352 289 347 316T329 361Q302 397 257 397Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(1833.7,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" style="stroke-width:3;"></path></g></g></g>',1)]))),t[200]||(t[200]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("mo",{stretchy:"false"},"("),A("mn",null,"2"),A("mo",null,","),A("mn",null,"6"),A("mo",{stretchy:"false"},")")])],-1))]),t[210]||(t[210]=a(" as the valid lengths for the sequences in the minibatch."))]),t[236]||(t[236]=l(`<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">d_q </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">queries </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> randn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(d_q, num_queries, batch_size)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">m </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> AdditiveAttention</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(d_k, d_q, d_v, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">scores, attention_wts </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> m</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(queries, keys, vals, valid_len)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">@assert</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> size</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(scores) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (d_v, num_queries, batch_size)</span></span></code></pre></div>`,1)),A("p",null,[t[213]||(t[213]=a("When reviewing the attention function we see a behavior that is qualitatively quite similar to that of ")),t[214]||(t[214]=A("code",null,"DotProductAttention",-1)),t[215]||(t[215]=a(". That is, only terms within the chosen valid length ")),A("mjx-container",g1,[(e(),s("svg",m1,t[211]||(t[211]=[l('<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z" style="stroke-width:3;"></path></g><g data-mml-node="mn" transform="translate(389,0)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(889,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z" style="stroke-width:3;"></path></g><g data-mml-node="mn" transform="translate(1333.7,0)"><path data-c="36" d="M42 313Q42 476 123 571T303 666Q372 666 402 630T432 550Q432 525 418 510T379 495Q356 495 341 509T326 548Q326 592 373 601Q351 623 311 626Q240 626 194 566Q147 500 147 364L148 360Q153 366 156 373Q197 433 263 433H267Q313 433 348 414Q372 400 396 374T435 317Q456 268 456 210V192Q456 169 451 149Q440 90 387 34T253 -22Q225 -22 199 -14T143 16T92 75T56 172T42 313ZM257 397Q227 397 205 380T171 335T154 278T148 216Q148 133 160 97T198 39Q222 21 251 21Q302 21 329 59Q342 77 347 104T352 209Q352 289 347 316T329 361Q302 397 257 397Z" style="stroke-width:3;"></path></g><g data-mml-node="mo" transform="translate(1833.7,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z" style="stroke-width:3;"></path></g></g></g>',1)]))),t[212]||(t[212]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("mo",{stretchy:"false"},"("),A("mn",null,"2"),A("mo",null,","),A("mn",null,"6"),A("mo",{stretchy:"false"},")")])],-1))]),t[216]||(t[216]=a(" are nonzero."))]),t[237]||(t[237]=l(`<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">d2lai</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">show_heatmaps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">reshape</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(attention_wts, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Queries&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Keys&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="600" height="400" viewBox="0 0 2400 1600"><defs><clipPath id="clip860"><rect x="0" y="0" width="2400" height="1600"></rect></clipPath></defs><path clip-path="url(#clip860)" d="M0 1600 L2400 1600 L2400 0 L0 0  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path><defs><clipPath id="clip861"><rect x="480" y="0" width="1681" height="1600"></rect></clipPath></defs><path clip-path="url(#clip860)" d="M202.227 1423.18 L2112.76 1423.18 L2112.76 47.2441 L202.227 47.2441  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path><defs><clipPath id="clip862"><rect x="202" y="47" width="1912" height="1377"></rect></clipPath></defs><polyline clip-path="url(#clip862)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:2;stroke-opacity:0.1;fill:none;" points="202.227,1423.18 202.227,47.2441 "></polyline><polyline clip-path="url(#clip862)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:2;stroke-opacity:0.1;fill:none;" points="679.86,1423.18 679.86,47.2441 "></polyline><polyline clip-path="url(#clip862)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:2;stroke-opacity:0.1;fill:none;" points="1157.49,1423.18 1157.49,47.2441 "></polyline><polyline clip-path="url(#clip862)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:2;stroke-opacity:0.1;fill:none;" points="1635.12,1423.18 1635.12,47.2441 "></polyline><polyline clip-path="url(#clip862)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:2;stroke-opacity:0.1;fill:none;" points="2112.76,1423.18 2112.76,47.2441 "></polyline><polyline clip-path="url(#clip862)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:2;stroke-opacity:0.1;fill:none;" points="202.227,1216.79 2112.76,1216.79 "></polyline><polyline clip-path="url(#clip862)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:2;stroke-opacity:0.1;fill:none;" points="202.227,941.602 2112.76,941.602 "></polyline><polyline clip-path="url(#clip862)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:2;stroke-opacity:0.1;fill:none;" points="202.227,666.415 2112.76,666.415 "></polyline><polyline clip-path="url(#clip862)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:2;stroke-opacity:0.1;fill:none;" points="202.227,391.228 2112.76,391.228 "></polyline><polyline clip-path="url(#clip862)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:2;stroke-opacity:0.1;fill:none;" points="202.227,116.041 2112.76,116.041 "></polyline><polyline clip-path="url(#clip860)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="202.227,1423.18 2112.76,1423.18 "></polyline><polyline clip-path="url(#clip860)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="202.227,1423.18 202.227,1404.28 "></polyline><polyline clip-path="url(#clip860)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="679.86,1423.18 679.86,1404.28 "></polyline><polyline clip-path="url(#clip860)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="1157.49,1423.18 1157.49,1404.28 "></polyline><polyline clip-path="url(#clip860)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="1635.12,1423.18 1635.12,1404.28 "></polyline><polyline clip-path="url(#clip860)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="2112.76,1423.18 2112.76,1404.28 "></polyline><path clip-path="url(#clip860)" d="M180.11 1454.1 Q176.498 1454.1 174.67 1457.66 Q172.864 1461.2 172.864 1468.33 Q172.864 1475.44 174.67 1479.01 Q176.498 1482.55 180.11 1482.55 Q183.744 1482.55 185.549 1479.01 Q187.378 1475.44 187.378 1468.33 Q187.378 1461.2 185.549 1457.66 Q183.744 1454.1 180.11 1454.1 M180.11 1450.39 Q185.92 1450.39 188.975 1455 Q192.054 1459.58 192.054 1468.33 Q192.054 1477.06 188.975 1481.67 Q185.92 1486.25 180.11 1486.25 Q174.299 1486.25 171.221 1481.67 Q168.165 1477.06 168.165 1468.33 Q168.165 1459.58 171.221 1455 Q174.299 1450.39 180.11 1450.39 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip860)" d="M200.271 1479.7 L205.156 1479.7 L205.156 1485.58 L200.271 1485.58 L200.271 1479.7 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip860)" d="M215.387 1451.02 L233.744 1451.02 L233.744 1454.96 L219.67 1454.96 L219.67 1463.43 Q220.688 1463.08 221.707 1462.92 Q222.725 1462.73 223.744 1462.73 Q229.531 1462.73 232.91 1465.9 Q236.29 1469.08 236.29 1474.49 Q236.29 1480.07 232.818 1483.17 Q229.345 1486.25 223.026 1486.25 Q220.85 1486.25 218.582 1485.88 Q216.336 1485.51 213.929 1484.77 L213.929 1480.07 Q216.012 1481.2 218.234 1481.76 Q220.457 1482.32 222.933 1482.32 Q226.938 1482.32 229.276 1480.21 Q231.614 1478.1 231.614 1474.49 Q231.614 1470.88 229.276 1468.77 Q226.938 1466.67 222.933 1466.67 Q221.058 1466.67 219.183 1467.08 Q217.332 1467.5 215.387 1468.38 L215.387 1451.02 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip860)" d="M647.013 1481.64 L654.651 1481.64 L654.651 1455.28 L646.341 1456.95 L646.341 1452.69 L654.605 1451.02 L659.281 1451.02 L659.281 1481.64 L666.92 1481.64 L666.92 1485.58 L647.013 1485.58 L647.013 1481.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip860)" d="M676.364 1479.7 L681.248 1479.7 L681.248 1485.58 L676.364 1485.58 L676.364 1479.7 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip860)" d="M701.434 1454.1 Q697.822 1454.1 695.994 1457.66 Q694.188 1461.2 694.188 1468.33 Q694.188 1475.44 695.994 1479.01 Q697.822 1482.55 701.434 1482.55 Q705.068 1482.55 706.873 1479.01 Q708.702 1475.44 708.702 1468.33 Q708.702 1461.2 706.873 1457.66 Q705.068 1454.1 701.434 1454.1 M701.434 1450.39 Q707.244 1450.39 710.299 1455 Q713.378 1459.58 713.378 1468.33 Q713.378 1477.06 710.299 1481.67 Q707.244 1486.25 701.434 1486.25 Q695.623 1486.25 692.545 1481.67 Q689.489 1477.06 689.489 1468.33 Q689.489 1459.58 692.545 1455 Q695.623 1450.39 701.434 1450.39 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip860)" d="M1125.14 1481.64 L1132.78 1481.64 L1132.78 1455.28 L1124.47 1456.95 L1124.47 1452.69 L1132.73 1451.02 L1137.41 1451.02 L1137.41 1481.64 L1145.05 1481.64 L1145.05 1485.58 L1125.14 1485.58 L1125.14 1481.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip860)" d="M1154.49 1479.7 L1159.38 1479.7 L1159.38 1485.58 L1154.49 1485.58 L1154.49 1479.7 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip860)" d="M1169.61 1451.02 L1187.97 1451.02 L1187.97 1454.96 L1173.89 1454.96 L1173.89 1463.43 Q1174.91 1463.08 1175.93 1462.92 Q1176.95 1462.73 1177.97 1462.73 Q1183.75 1462.73 1187.13 1465.9 Q1190.51 1469.08 1190.51 1474.49 Q1190.51 1480.07 1187.04 1483.17 Q1183.57 1486.25 1177.25 1486.25 Q1175.07 1486.25 1172.8 1485.88 Q1170.56 1485.51 1168.15 1484.77 L1168.15 1480.07 Q1170.23 1481.2 1172.46 1481.76 Q1174.68 1482.32 1177.16 1482.32 Q1181.16 1482.32 1183.5 1480.21 Q1185.84 1478.1 1185.84 1474.49 Q1185.84 1470.88 1183.5 1468.77 Q1181.16 1466.67 1177.16 1466.67 Q1175.28 1466.67 1173.41 1467.08 Q1171.55 1467.5 1169.61 1468.38 L1169.61 1451.02 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip860)" d="M1606.36 1481.64 L1622.68 1481.64 L1622.68 1485.58 L1600.74 1485.58 L1600.74 1481.64 Q1603.4 1478.89 1607.98 1474.26 Q1612.59 1469.61 1613.77 1468.27 Q1616.02 1465.74 1616.89 1464.01 Q1617.8 1462.25 1617.8 1460.56 Q1617.8 1457.8 1615.85 1456.07 Q1613.93 1454.33 1610.83 1454.33 Q1608.63 1454.33 1606.18 1455.09 Q1603.75 1455.86 1600.97 1457.41 L1600.97 1452.69 Q1603.79 1451.55 1606.25 1450.97 Q1608.7 1450.39 1610.74 1450.39 Q1616.11 1450.39 1619.3 1453.08 Q1622.5 1455.77 1622.5 1460.26 Q1622.5 1462.39 1621.69 1464.31 Q1620.9 1466.2 1618.79 1468.8 Q1618.21 1469.47 1615.11 1472.69 Q1612.01 1475.88 1606.36 1481.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip860)" d="M1632.5 1479.7 L1637.38 1479.7 L1637.38 1485.58 L1632.5 1485.58 L1632.5 1479.7 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip860)" d="M1657.57 1454.1 Q1653.95 1454.1 1652.13 1457.66 Q1650.32 1461.2 1650.32 1468.33 Q1650.32 1475.44 1652.13 1479.01 Q1653.95 1482.55 1657.57 1482.55 Q1661.2 1482.55 1663.01 1479.01 Q1664.83 1475.44 1664.83 1468.33 Q1664.83 1461.2 1663.01 1457.66 Q1661.2 1454.1 1657.57 1454.1 M1657.57 1450.39 Q1663.38 1450.39 1666.43 1455 Q1669.51 1459.58 1669.51 1468.33 Q1669.51 1477.06 1666.43 1481.67 Q1663.38 1486.25 1657.57 1486.25 Q1651.76 1486.25 1648.68 1481.67 Q1645.62 1477.06 1645.62 1468.33 Q1645.62 1459.58 1648.68 1455 Q1651.76 1450.39 1657.57 1450.39 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip860)" d="M2084.49 1481.64 L2100.81 1481.64 L2100.81 1485.58 L2078.87 1485.58 L2078.87 1481.64 Q2081.53 1478.89 2086.11 1474.26 Q2090.72 1469.61 2091.9 1468.27 Q2094.14 1465.74 2095.02 1464.01 Q2095.93 1462.25 2095.93 1460.56 Q2095.93 1457.8 2093.98 1456.07 Q2092.06 1454.33 2088.96 1454.33 Q2086.76 1454.33 2084.31 1455.09 Q2081.88 1455.86 2079.1 1457.41 L2079.1 1452.69 Q2081.92 1451.55 2084.38 1450.97 Q2086.83 1450.39 2088.87 1450.39 Q2094.24 1450.39 2097.43 1453.08 Q2100.63 1455.77 2100.63 1460.26 Q2100.63 1462.39 2099.82 1464.31 Q2099.03 1466.2 2096.92 1468.8 Q2096.34 1469.47 2093.24 1472.69 Q2090.14 1475.88 2084.49 1481.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip860)" d="M2110.63 1479.7 L2115.51 1479.7 L2115.51 1485.58 L2110.63 1485.58 L2110.63 1479.7 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip860)" d="M2125.74 1451.02 L2144.1 1451.02 L2144.1 1454.96 L2130.02 1454.96 L2130.02 1463.43 Q2131.04 1463.08 2132.06 1462.92 Q2133.08 1462.73 2134.1 1462.73 Q2139.89 1462.73 2143.27 1465.9 Q2146.64 1469.08 2146.64 1474.49 Q2146.64 1480.07 2143.17 1483.17 Q2139.7 1486.25 2133.38 1486.25 Q2131.2 1486.25 2128.94 1485.88 Q2126.69 1485.51 2124.28 1484.77 L2124.28 1480.07 Q2126.37 1481.2 2128.59 1481.76 Q2130.81 1482.32 2133.29 1482.32 Q2137.29 1482.32 2139.63 1480.21 Q2141.97 1478.1 2141.97 1474.49 Q2141.97 1470.88 2139.63 1468.77 Q2137.29 1466.67 2133.29 1466.67 Q2131.41 1466.67 2129.54 1467.08 Q2127.69 1467.5 2125.74 1468.38 L2125.74 1451.02 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip860)" d="M1057.09 1524.88 Q1050.09 1524.88 1045.95 1530.1 Q1041.84 1535.32 1041.84 1544.33 Q1041.84 1553.31 1045.95 1558.53 Q1050.09 1563.75 1057.09 1563.75 Q1064.09 1563.75 1068.16 1558.53 Q1072.27 1553.31 1072.27 1544.33 Q1072.27 1535.32 1068.16 1530.1 Q1064.09 1524.88 1057.09 1524.88 M1066.1 1567.18 L1074.56 1576.45 L1066.8 1576.45 L1059.76 1568.84 Q1058.71 1568.9 1058.14 1568.94 Q1057.6 1568.97 1057.09 1568.97 Q1047.06 1568.97 1041.05 1562.28 Q1035.06 1555.57 1035.06 1544.33 Q1035.06 1533.06 1041.05 1526.38 Q1047.06 1519.66 1057.09 1519.66 Q1067.08 1519.66 1073.07 1526.38 Q1079.05 1533.06 1079.05 1544.33 Q1079.05 1552.61 1075.71 1558.5 Q1072.4 1564.38 1066.1 1567.18 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip860)" d="M1088.25 1553.98 L1088.25 1532.4 L1094.11 1532.4 L1094.11 1553.75 Q1094.11 1558.81 1096.08 1561.36 Q1098.05 1563.87 1102 1563.87 Q1106.74 1563.87 1109.48 1560.85 Q1112.25 1557.83 1112.25 1552.61 L1112.25 1532.4 L1118.1 1532.4 L1118.1 1568.04 L1112.25 1568.04 L1112.25 1562.57 Q1110.11 1565.82 1107.28 1567.41 Q1104.48 1568.97 1100.76 1568.97 Q1094.61 1568.97 1091.43 1565.15 Q1088.25 1561.33 1088.25 1553.98 M1102.99 1531.54 L1102.99 1531.54 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip860)" d="M1160.66 1548.76 L1160.66 1551.62 L1133.73 1551.62 Q1134.11 1557.67 1137.36 1560.85 Q1140.64 1564 1146.46 1564 Q1149.84 1564 1152.99 1563.17 Q1156.17 1562.35 1159.29 1560.69 L1159.29 1566.23 Q1156.14 1567.57 1152.83 1568.27 Q1149.52 1568.97 1146.11 1568.97 Q1137.58 1568.97 1132.59 1564 Q1127.62 1559.04 1127.62 1550.57 Q1127.62 1541.82 1132.33 1536.69 Q1137.07 1531.54 1145.09 1531.54 Q1152.29 1531.54 1156.46 1536.18 Q1160.66 1540.8 1160.66 1548.76 M1154.8 1547.04 Q1154.74 1542.23 1152.1 1539.37 Q1149.49 1536.5 1145.16 1536.5 Q1140.26 1536.5 1137.3 1539.27 Q1134.37 1542.04 1133.92 1547.07 L1154.8 1547.04 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip860)" d="M1190.93 1537.87 Q1189.94 1537.3 1188.76 1537.04 Q1187.62 1536.76 1186.22 1536.76 Q1181.25 1536.76 1178.58 1540 Q1175.94 1543.22 1175.94 1549.27 L1175.94 1568.04 L1170.05 1568.04 L1170.05 1532.4 L1175.94 1532.4 L1175.94 1537.93 Q1177.78 1534.69 1180.74 1533.13 Q1183.7 1531.54 1187.94 1531.54 Q1188.54 1531.54 1189.27 1531.63 Q1190 1531.7 1190.9 1531.85 L1190.93 1537.87 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip860)" d="M1197.07 1532.4 L1202.93 1532.4 L1202.93 1568.04 L1197.07 1568.04 L1197.07 1532.4 M1197.07 1518.52 L1202.93 1518.52 L1202.93 1525.93 L1197.07 1525.93 L1197.07 1518.52 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip860)" d="M1245.67 1548.76 L1245.67 1551.62 L1218.75 1551.62 Q1219.13 1557.67 1222.37 1560.85 Q1225.65 1564 1231.48 1564 Q1234.85 1564 1238 1563.17 Q1241.18 1562.35 1244.3 1560.69 L1244.3 1566.23 Q1241.15 1567.57 1237.84 1568.27 Q1234.53 1568.97 1231.13 1568.97 Q1222.6 1568.97 1217.6 1564 Q1212.63 1559.04 1212.63 1550.57 Q1212.63 1541.82 1217.35 1536.69 Q1222.09 1531.54 1230.11 1531.54 Q1237.3 1531.54 1241.47 1536.18 Q1245.67 1540.8 1245.67 1548.76 M1239.82 1547.04 Q1239.75 1542.23 1237.11 1539.37 Q1234.5 1536.5 1230.17 1536.5 Q1225.27 1536.5 1222.31 1539.27 Q1219.38 1542.04 1218.94 1547.07 L1239.82 1547.04 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip860)" d="M1278.01 1533.45 L1278.01 1538.98 Q1275.53 1537.71 1272.85 1537.07 Q1270.18 1536.44 1267.32 1536.44 Q1262.96 1536.44 1260.76 1537.77 Q1258.6 1539.11 1258.6 1541.79 Q1258.6 1543.82 1260.15 1545 Q1261.71 1546.15 1266.42 1547.2 L1268.43 1547.64 Q1274.67 1548.98 1277.28 1551.43 Q1279.92 1553.85 1279.92 1558.21 Q1279.92 1563.17 1275.97 1566.07 Q1272.06 1568.97 1265.18 1568.97 Q1262.32 1568.97 1259.2 1568.39 Q1256.11 1567.85 1252.67 1566.74 L1252.67 1560.69 Q1255.92 1562.38 1259.07 1563.24 Q1262.22 1564.07 1265.31 1564.07 Q1269.45 1564.07 1271.68 1562.66 Q1273.9 1561.23 1273.9 1558.65 Q1273.9 1556.27 1272.28 1554.99 Q1270.69 1553.72 1265.25 1552.54 L1263.21 1552.07 Q1257.77 1550.92 1255.35 1548.56 Q1252.93 1546.18 1252.93 1542.04 Q1252.93 1537.01 1256.49 1534.27 Q1260.06 1531.54 1266.62 1531.54 Q1269.86 1531.54 1272.73 1532.01 Q1275.59 1532.49 1278.01 1533.45 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip860)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="202.227,1423.18 202.227,47.2441 "></polyline><polyline clip-path="url(#clip860)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="202.227,1216.79 219.016,1216.79 "></polyline><polyline clip-path="url(#clip860)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="202.227,941.602 219.016,941.602 "></polyline><polyline clip-path="url(#clip860)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="202.227,666.415 219.016,666.415 "></polyline><polyline clip-path="url(#clip860)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="202.227,391.228 219.016,391.228 "></polyline><polyline clip-path="url(#clip860)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="202.227,116.041 219.016,116.041 "></polyline><path clip-path="url(#clip860)" d="M149.908 1230.13 L166.227 1230.13 L166.227 1234.07 L144.283 1234.07 L144.283 1230.13 Q146.945 1227.38 151.528 1222.75 Q156.135 1218.1 157.315 1216.75 Q159.561 1214.23 160.44 1212.5 Q161.343 1210.74 161.343 1209.05 Q161.343 1206.29 159.399 1204.56 Q157.478 1202.82 154.376 1202.82 Q152.177 1202.82 149.723 1203.58 Q147.292 1204.35 144.515 1205.9 L144.515 1201.18 Q147.339 1200.04 149.792 1199.46 Q152.246 1198.88 154.283 1198.88 Q159.653 1198.88 162.848 1201.57 Q166.042 1204.25 166.042 1208.75 Q166.042 1210.88 165.232 1212.8 Q164.445 1214.69 162.339 1217.29 Q161.76 1217.96 158.658 1221.18 Q155.556 1224.37 149.908 1230.13 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip860)" d="M156.644 928.396 L144.839 946.845 L156.644 946.845 L156.644 928.396 M155.417 924.322 L161.297 924.322 L161.297 946.845 L166.227 946.845 L166.227 950.734 L161.297 950.734 L161.297 958.882 L156.644 958.882 L156.644 950.734 L141.042 950.734 L141.042 946.22 L155.417 924.322 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip860)" d="M154.7 664.552 Q151.552 664.552 149.7 666.705 Q147.871 668.857 147.871 672.607 Q147.871 676.334 149.7 678.51 Q151.552 680.663 154.7 680.663 Q157.848 680.663 159.677 678.51 Q161.528 676.334 161.528 672.607 Q161.528 668.857 159.677 666.705 Q157.848 664.552 154.7 664.552 M163.982 649.899 L163.982 654.158 Q162.223 653.325 160.417 652.885 Q158.635 652.445 156.876 652.445 Q152.246 652.445 149.792 655.57 Q147.362 658.695 147.015 665.015 Q148.38 663.001 150.441 661.936 Q152.501 660.848 154.978 660.848 Q160.186 660.848 163.195 664.019 Q166.227 667.167 166.227 672.607 Q166.227 677.931 163.079 681.149 Q159.931 684.366 154.7 684.366 Q148.704 684.366 145.533 679.783 Q142.362 675.177 142.362 666.45 Q142.362 658.256 146.251 653.394 Q150.14 648.51 156.69 648.51 Q158.45 648.51 160.232 648.857 Q162.038 649.205 163.982 649.899 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip860)" d="M154.376 392.096 Q151.042 392.096 149.121 393.878 Q147.223 395.661 147.223 398.786 Q147.223 401.911 149.121 403.693 Q151.042 405.476 154.376 405.476 Q157.709 405.476 159.63 403.693 Q161.552 401.888 161.552 398.786 Q161.552 395.661 159.63 393.878 Q157.732 392.096 154.376 392.096 M149.7 390.105 Q146.691 389.365 145.001 387.304 Q143.334 385.244 143.334 382.281 Q143.334 378.138 146.274 375.73 Q149.237 373.323 154.376 373.323 Q159.538 373.323 162.477 375.73 Q165.417 378.138 165.417 382.281 Q165.417 385.244 163.727 387.304 Q162.061 389.365 159.075 390.105 Q162.454 390.892 164.329 393.184 Q166.227 395.476 166.227 398.786 Q166.227 403.809 163.149 406.494 Q160.093 409.179 154.376 409.179 Q148.658 409.179 145.579 406.494 Q142.524 403.809 142.524 398.786 Q142.524 395.476 144.422 393.184 Q146.32 390.892 149.7 390.105 M147.987 382.721 Q147.987 385.406 149.653 386.911 Q151.343 388.416 154.376 388.416 Q157.385 388.416 159.075 386.911 Q160.788 385.406 160.788 382.721 Q160.788 380.036 159.075 378.531 Q157.385 377.027 154.376 377.027 Q151.343 377.027 149.653 378.531 Q147.987 380.036 147.987 382.721 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip860)" d="M114.931 129.386 L122.57 129.386 L122.57 103.02 L114.26 104.687 L114.26 100.428 L122.524 98.7609 L127.2 98.7609 L127.2 129.386 L134.839 129.386 L134.839 133.321 L114.931 133.321 L114.931 129.386 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip860)" d="M154.283 101.84 Q150.672 101.84 148.843 105.404 Q147.038 108.946 147.038 116.076 Q147.038 123.182 148.843 126.747 Q150.672 130.288 154.283 130.288 Q157.917 130.288 159.723 126.747 Q161.552 123.182 161.552 116.076 Q161.552 108.946 159.723 105.404 Q157.917 101.84 154.283 101.84 M154.283 98.1359 Q160.093 98.1359 163.149 102.742 Q166.227 107.326 166.227 116.076 Q166.227 124.802 163.149 129.409 Q160.093 133.992 154.283 133.992 Q148.473 133.992 145.394 129.409 Q142.339 124.802 142.339 116.076 Q142.339 107.326 145.394 102.742 Q148.473 98.1359 154.283 98.1359 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip860)" d="M16.4842 806.492 L16.4842 800.063 L36.568 800.063 L16.4842 778.737 L16.4842 770.462 L38.6368 794.047 L64.0042 768.775 L64.0042 777.242 L41.1194 800.063 L64.0042 800.063 L64.0042 806.492 L16.4842 806.492 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip860)" d="M44.7161 736.756 L47.5806 736.756 L47.5806 763.683 Q53.6281 763.301 56.8109 760.054 Q59.9619 756.776 59.9619 750.951 Q59.9619 747.577 59.1344 744.426 Q58.3069 741.243 56.6518 738.124 L62.1899 738.124 Q63.5267 741.275 64.227 744.585 Q64.9272 747.896 64.9272 751.301 Q64.9272 759.831 59.9619 764.828 Q54.9967 769.794 46.5303 769.794 Q37.7774 769.794 32.6531 765.083 Q27.4968 760.341 27.4968 752.32 Q27.4968 745.127 32.1438 740.957 Q36.7589 736.756 44.7161 736.756 M42.9973 742.612 Q38.1912 742.676 35.3266 745.318 Q32.4621 747.927 32.4621 752.256 Q32.4621 757.158 35.2312 760.118 Q38.0002 763.046 43.0292 763.492 L42.9973 742.612 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip860)" d="M67.3143 712.311 Q73.68 714.794 75.6216 717.149 Q77.5631 719.505 77.5631 723.451 L77.5631 728.13 L72.6615 728.13 L72.6615 724.693 Q72.6615 722.274 71.5157 720.937 Q70.3699 719.6 66.1048 717.977 L63.4312 716.926 L28.3562 731.345 L28.3562 725.138 L56.238 713.998 L28.3562 702.858 L28.3562 696.652 L67.3143 712.311 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip860)" d="M29.4065 665.842 L34.9447 665.842 Q33.6716 668.324 33.035 670.998 Q32.3984 673.671 32.3984 676.536 Q32.3984 680.897 33.7352 683.093 Q35.072 685.257 37.7456 685.257 Q39.7826 685.257 40.9603 683.697 Q42.1061 682.138 43.1565 677.427 L43.6021 675.422 Q44.9389 669.184 47.3897 666.574 Q49.8086 663.932 54.1691 663.932 Q59.1344 663.932 62.0308 667.879 Q64.9272 671.794 64.9272 678.669 Q64.9272 681.533 64.3543 684.652 Q63.8132 687.74 62.6992 691.177 L56.6518 691.177 Q58.3387 687.931 59.198 684.78 Q60.0256 681.629 60.0256 678.541 Q60.0256 674.404 58.6251 672.176 Q57.1929 669.948 54.6147 669.948 Q52.2276 669.948 50.9545 671.571 Q49.6813 673.162 48.5037 678.605 L48.0262 680.642 Q46.8804 686.085 44.5251 688.504 Q42.138 690.923 38.0002 690.923 Q32.9713 690.923 30.2341 687.358 Q27.4968 683.793 27.4968 677.236 Q27.4968 673.99 27.9743 671.125 Q28.4517 668.261 29.4065 665.842 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><g clip-path="url(#clip862)"><image width="1911" height="1376" xlink:href="data:image/png;base64,
iVBORw0KGgoAAAANSUhEUgAAB3cAAAVgCAYAAABc6deNAAAgAElEQVR4nOzZwQ2AMBDAsKNi/5Vh
hD7bSPYE+eeZeb8BAAAAAAAA4GrrdAAAAAAAAAAAe+YuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAA
AAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAA
AAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIA
AAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYu
AAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg
7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAA
AeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAA
ABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAA
AAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAA
AAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsA
AAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5
CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAE
mLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAA
QIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAA
AAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAA
AAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIA
AAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYu
AAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg
7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAA
AeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAA
ABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAA
AAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAA
AAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsA
AAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5
CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAE
mLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAA
QIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAA
AAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAA
AAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIA
AAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYu
AAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg
7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAA
AeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAA
ABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAA
AAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAA
AAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsA
AAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5
CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAE
mLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAA
QIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAA
AAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAA
AAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIA
AAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYu
AAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg
7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAA
AeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAA
ABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAA
AAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAA
AAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsA
AAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5
CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAE
mLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAA
QIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAA
AAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAA
AAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIA
AAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYu
AAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg
7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAA
AeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAA
ABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAA
AAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAA
AAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsA
AAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5
CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAE
mLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAA
QIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAA
AAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAA
AAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIA
AAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYu
AAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg
7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAA
AeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAA
ABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAA
AAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAA
AAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsA
AAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5
CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAE
mLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAA
QIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAA
AAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAA
AAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIA
AAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYu
AAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg
7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAA
AeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAA
ABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAA
AAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAA
AAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsA
AAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5
CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAE
mLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAA
QIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAA
AAAEmLsAAAAAAAAAAeYuAAAAAAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAAAAeYuAAAA
AAAAQIC5CwAAAAAAABBg7gIAAAAAAAAEmLsAAAAAAAA/+3ZMg0AURUEUku0wgAZUUJFghBZLaKLF
Ah7AxN+8THKOgttPLkCAuAsAAAAAAAAQIO4CAAAAAAAABIi7AAAAAAAAAAHiLgAAAAAAAECAuAsA
AAAAAAAQsE0PAAAAgD28b9fpCQAAALCU5y4AAAAAAABAgLgLAAAAAAAAECDuAgAAAAAAAASIuwAA
AAAAAAAB4i4AAAAAAABAgLgLAAAAAAAAECDuAgAAAAAAAASIuwAAAAAAAAAB4i4AAAAAAABAgLgL
AAAAAAAAECDuAgAAAAAAAASIuwAAAAAAAAAB4i4AAAAAAABAgLgLAAAAAAAAECDuAgAAAAAAAASI
uwAAAAAAAAAB4i4AAAAAAABAgLgLAAAAAAAAECDuAgAAAAAAAASIuwAAAAAAAAAB4i4AAAAAAABA
gLgLAAAAAAAAECDuAgAAAAAAAASIuwAAAAAAAAAB4i4AAAAAAABAgLgLAAAAAAAAECDuAgAAAAAA
AASIuwAAAAAAAAAB4i4AAAAAAABAgLgLAAAAAAAAECDuAgAAAAAAAASIuwAAAAAAAAAB4i4AAAAA
AABAgLgLAAAAAAAAECDuAgAAAAAAAASIuwAAAAAAAAAB4i4AAAAAAABAgLgLAAAAAAAAECDuAgAA
AAAAAASIuwAAAAAAAAAB4i4AAAAAAABAgLgLAAAAAAAAECDuAgAAAAAAAASIuwAAAAAAAAAB4i4A
AAAAAABAgLgLAAAAAAAAECDuAgAAAAAAAASIuwAAAAAAAAAB4i4AAAAAAABAgLgLAAAAAAAAECDu
AgAAAAAAAASIuwAAAAAAAAAB4i4AAAAAAABAgLgLAAAAAAAAECDuAgAAAAAAAASIuwAAAAAAAAAB
4i4AAAAAAABAgLgLAAAAAAAAECDuAgAAAAAAAASIuwAAAAAAAAAB4i4AAAAAAABAgLgLAAAAAAAA
ECDuAgAAAAAAAASIuwAAAAAAAAAB4i4AAAAAAABAgLgLAAAAAAAAECDuAgAAAAAAAASIuwAAAAAA
AAAB4i4AAAAAAABAgLgLAAAAAAAAECDuAgAAAAAAAASIuwAAAAAAAAAB4i4AAAAAAABAgLgLAAAA
AAAAECDuAgAAAAAAAASIuwAAAAAAAAAB4i4AAAAAAABAgLgLAAAAAAAAECDuAgAAAAAAAASIuwAA
AAAAAAAB4i4AAAAAAABAgLgLAAAAAAAAECDuAgAAAAAAAASIuwAAAAAAAAAB4i4AAAAAAABAgLgL
AAAAAAAAECDuAgAAAAAAAASIuwAAAAAAAAAB4i4AAAAAAABAgLgLAAAAAAAAECDuAgAAAAAAAASI
uwAAAAAAAAAB4i4AAAAAAABAgLgLAAAAAAAAECDuAgAAAAAAAASIuwAAAAAAAAAB4i4AAAAAAABA
gLgLAAAAAAAAECDuAgAAAAAAAASIuwAAAAAAAAAB4i4AAAAAAABAgLgLAAAAAAAAECDuAgAAAAAA
AASIuwAAAAAAAAAB4i4AAAAAAABAgLgLAAAAAAAAECDuAgAAAAAAAASIuwAAAAAAAAAB4i4AAAAA
AABAgLgLAAAAAAAAECDuAgAAAAAAAASIuwAAAAAAAAAB4i4AAAAAAABAgLgLAAAAAAAAECDuAgAA
AAAAAASIuwAAAAAAAAAB4i4AAAAAAABAgLgLAAAAAAAAECDuAgAAAAAAAASIuwAAAAAAAAAB4i4A
AAAAAABAgLgLAAAAAAAAECDuAgAAAAAAAASIuwAAAAAAAAAB4i4AAAAAAABAgLgLAAAAAAAAECDu
AgAAAAAAAASIuwAAAAAAAAAB4i4AAAAAAABAgLgLAAAAAAAAECDuAgAAAAAAAASIuwAAAAAAAAAB
4i4AAAAAAABAgLgLAAAAAAAAECDuAgAAAAAAAASIuwAAAAAAAAABx8Nh+02PAAAAgNXup8f0BAAA
AFjKcxcAAAAAAAAgQNwFAAAAAAAACBB3AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAA
AAAACBB3AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAACBB3AQAAAAAAAALEXQAA
AAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAACBB3AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAAAAAgQNwF
AAAAAAAACBB3AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAACBB3AQAAAAAAAALE
XQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAACBB3AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAAAAAg
QNwFAAAAAAAACBB3AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAACBB3AQAAAAAA
AALEXQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAACBB3AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAA
AAAgQNwFAAAAAAAACBB3AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAACBB3AQAA
AAAAAALEXQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAACBB3AQAAAAAAAALEXQAAAAAAAIAAcRcA
AAAAAAAgQNwFAAAAAAAACBB3AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAACBB3
AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAACBB3AQAAAAAAAALEXQAAAAAAAIAA
cRcAAAAAAAAgQNwFAAAAAAAACBB3AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAA
CBB3AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAACBB3AQAAAAAAAALEXQAAAAAA
AIAAcRcAAAAAAAAgQNwFAAAAAAAACBB3AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAA
AAAACBB3AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAACBB3AQAAAAAAAALEXQAA
AAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAACBB3AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAAAAAgQNwF
AAAAAAAACBB3AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAACBB3AQAAAAAAAALE
XQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAACBB3AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAAAAAg
QNwFAAAAAAAACBB3AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAACBB3AQAAAAAA
AALEXQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAACBB3AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAA
AAAgQNwFAAAAAAAACBB3AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAACBB3AQAA
AAAAAALEXQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAACBB3AQAAAAAAAALEXQAAAAAAAIAAcRcA
AAAAAAAgQNwFAAAAAAAACBB3AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAACBB3
AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAAAAAgYJseAAAAAHt4Xr7TEwAAAGApz10AAAAAAACAAHEX
AAAAAAAAIEDcBQAAAAAAAAgQdwEAAAAAAHFIRukAABUHSURBVAACxF0AAAAAAACAAHEXAAAAAAAA
IEDcBQAAAAAAAAgQdwEAAAAAAAACxF0AAAAAAACAAHEXAAAAAAAAIEDcBQAAAAAAAAgQdwEAAAAA
AAACxF0AAAAAAACAAHEXAAAAAAAAIEDcBQAAAAAAAAgQdwEAAAAAAAACxF0AAAAAAACAAHEXAAAA
AAAAIEDcBQAAAAAAAAgQdwEAAAAAAAACxF0AAAAAAACAAHEXAAAAAAAAIEDcBQAAAAAAAAgQdwEA
AAAAAAACxF0AAAAAAACAAHEXAAAAAAAAIEDcBQAAAAAAAAgQdwEAAAAAAAACxF0AAAAAAACAAHEX
AAAAAAAAIEDcBQAAAAAAAAgQdwEAAAAAAAACxF0AAAAAAACAAHEXAAAAAAAAIEDcBQAAAAAAAAgQ
dwEAAAAAAAACxF0AAAAAAACAAHEXAAAAAAAAIEDcBQAAAAAAAAgQdwEAAAAAAAACxF0AAAAAAACA
AHEXAAAAAAAAIEDcBQAAAAAAAAgQdwEAAAAAAAACxF0AAAAAAACAAHEXAAAAAAAAIEDcBQAAAAAA
AAgQdwEAAAAAAAACxF0AAAAAAACAAHEXAAAAAAAAIEDcBQAAAAAAAAgQdwEAAAAAAAACxF0AAAAA
AACAAHEXAAAAAAAAIEDcBQAAAAAAAAgQdwEAAAAAAAACxF0AAAAAAACAAHEXAAAAAAAAIEDcBQAA
AAAAAAgQdwEAAAAAAAACxF0AAAAAAACAAHEXAAAAAAAAIEDcBQAAAAAAAAgQdwEAAAAAAAACxF0A
AAAAAACAAHEXAAAAAAAAIEDcBQAAAAAAAAgQdwEAAAAAAAACxF0AAAAAAACAAHEXAAAAAAAAIEDc
BQAAAAAAAAgQdwEAAAAAAAACxF0AAAAAAACAAHEXAAAAAAAAIEDcBQAAAAAAAAgQdwEAAAAAAAAC
xF0AAAAAAACAAHEXAAAAAAAAIEDcBQAAAAAAAAgQdwEAAAAAAAACxF0AAAAAAACAAHEXAAAAAAAA
IEDcBQAAAAAAAAgQdwEAAAAAAAACxF0AAAAAAACAAHEXAAAAAAAAIEDcBQAAAAAAAAgQdwEAAAAA
AAACxF0AAAAAAACAAHEXAAAAAAAAIEDcBQAAAAAAAAgQdwEAAAAAAAACxF0AAAAAAACAAHEXAAAA
AAAAIEDcBQAAAAAAAAgQdwEAAAAAAAACxF0AAAAAAACAAHEXAAAAAAAAIEDcBQAAAAAAAAgQdwEA
AAAAAAACxF0AAAAAAACAAHEXAAAAAAAAIEDcBQAAAAAAAAgQdwEAAAAAAAACxF0AAAAAAACAAHEX
AAAAAAAAIEDcBQAAAAAAAAgQdwEAAAAAAAACxF0AAAAAAACAAHEXAAAAAAAAIEDcBQAAAAAAAAgQ
dwEAAAAAAAACxF0AAAAAAACAAHEXAAAAAAAAIEDcBQAAAAAAAAgQdwEAAAAAAAACxF0AAAAAAACA
AHEXAAAAAAAAIEDcBQAAAAAAAAgQdwEAAAAAAAACxF0AAAAAAACAAHEXAAAAAAAAIEDcBQAAAAAA
AAgQdwEAAAAAAAACxF0AAAAAAACAAHEXAAAAAAAAIEDcBQAAAAAAAAgQdwEAAAAAAAACxF0AAAAA
AACAAHEXAAAAAAAAIEDcBQAAAAAAAAgQdwEAAAAAAAACxF0AAAAAAACAAHEXAAAAAAAAIEDcBQAA
AAAAAAgQdwEAAAAAAAACxF0AAAAAAACAgG16AAAAAOzh9TlPTwAAAIClPHcBAAAAAAAAAsRdAAAA
AAAAgABxFwAAAAAAACBA3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAAgABxFwAAAAAAACBA3AUA
AAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAAgABxFwAAAAAAACBA3AUAAAAAAAAIEHcBAAAAAAAAAsRd
AAAAAAAAgABxFwAAAAAAACBA3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAAgABxFwAAAAAAACBA
3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAAgABxFwAAAAAAACBA3AUAAAAAAAAIEHcBAAAAAAAA
AsRdAAAAAAAAgABxFwAAAAAAACBA3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAAgABxFwAAAAAA
ACBA3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAAgABxFwAAAAAAACBA3AUAAAAAAAAIEHcBAAAA
AAAAAsRdAAAAAAAAgABxFwAAAAAAACBA3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAAgABxFwAA
AAAAACBA3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAAgABxFwAAAAAAACBA3AUAAAAAAAAIEHcB
AAAAAAAAAsRdAAAAAAAAgABxFwAAAAAAACBA3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAAgABx
FwAAAAAAACBA3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAAgABxFwAAAAAAACBA3AUAAAAAAAAI
EHcBAAAAAAAAAsRdAAAAAAAAgABxFwAAAAAAACBA3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAA
gABxFwAAAAAAACBA3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAAgABxFwAAAAAAACBA3AUAAAAA
AAAIEHcBAAAAAAAAAsRdAAAAAAAAgABxFwAAAAAAACBA3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAA
AAAAgABxFwAAAAAAACBA3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAAgABxFwAAAAAAACBA3AUA
AAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAAgABxFwAAAAAAACBA3AUAAAAAAAAIEHcBAAAAAAAAAsRd
AAAAAAAAgABxFwAAAAAAACBA3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAAgABxFwAAAAAAACBA
3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAAgABxFwAAAAAAACBA3AUAAAAAAAAIEHcBAAAAAAAA
AsRdAAAAAAAAgABxFwAAAAAAACBA3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAAgABxFwAAAAAA
ACBA3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAAgABxFwAAAAAAACBA3AUAAAAAAAAIEHcBAAAA
AAAAAsRdAAAAAAAAgABxFwAAAAAAACBA3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAAgABxFwAA
AAAAACBA3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAAAAAAgABxFwAAAAAAACBA3AUAAAAAAAAIEHcB
AAAAAAAAAsRdAAAAAAAAgIB/+3ZswkAMAEGQB6Xfmqt0G45dyucfOLKRmxCIhZkKLl9O3AUAAAAA
AAAIEHcBAAAAAAAAAsRdAAAAAAAAgABxFwAAAAAAACBA3AUAAAAAAAAIEHcBAAAAAAAAAsRdAAAA
AAAAgABxFwAAAAAAACBA3AUAAAAAAAAIEHcBAAAAAAAAAo7vfM7dIwAAAGC1x/nePQEAAACW8twF
AAAAAAAACBB3AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAACBB3AQAAAAAAAALE
XQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAACBB3AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAAAAAg
QNwFAAAAAAAACBB3AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAACBB3AQAAAAAA
AALEXQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAACBB3AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAA
AAAgQNwFAAAAAAAACBB3AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAACBB3AQAA
AAAAAALEXQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAACBB3AQAAAAAAAALEXQAAAAAAAIAAcRcA
AAAAAAAgQNwFAAAAAAAACBB3AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAACBB3
AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAACBB3AQAAAAAAAALEXQAAAAAAAIAA
cRcAAAAAAAAgQNwFAAAAAAAACBB3AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAA
CBB3AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAACBB3AQAAAAAAAALEXQAAAAAA
AIAAcRcAAAAAAAAgQNwFAAAAAAAACBB3AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAA
AAAACBB3AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAACBB3AQAAAAAAAALEXQAA
AAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAACBB3AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAAAAAgQNwF
AAAAAAAACBB3AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAACBB3AQAAAAAAAALE
XQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAACBB3AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAAAAAg
QNwFAAAAAAAACBB3AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAACBB3AQAAAAAA
AALEXQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAACBB3AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAA
AAAgQNwFAAAAAAAACBB3AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAACBB3AQAA
AAAAAALEXQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAACBB3AQAAAAAAAALEXQAAAAAAAIAAcRcA
AAAAAAAgQNwFAAAAAAAACBB3AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAACBB3
AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAACBB3AQAAAAAAAALEXQAAAAAAAIAA
cRcAAAAAAAAgQNwFAAAAAAAACBB3AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAA
CBB3AQAAAAAAAALEXQAAAAAAAIAAcRcAAAAAAAAgQNwFAAAAAAAACBB3AQAAAAAAAALEXQAAAAAA
AIAAcRcAAAAAAAAgQNwFAAAAAAAACBif67V7AwAAACx3/8buCQAAALCU5y4AAAAAAABAgLgLAAAA
AAAAECDuAgAAAAAAAASIuwAAAAAAAAAB4i4AAAAAAABAgLgLAAAAAAAAECDuAgAAAAAAAASIuwAA
AAAAAAAB4i4AAAAAAABAgLgLAAAAAAAAECDuAgAAAAAAAASIuwAAAAAAAAAB4i4AAAAAAABAgLgL
AAAAAAAAECDuAgAAAAAAAASIuwAAAAAAAAAB4i4AAAAAAABAgLgLAAAAAAAAECDuAgAAAAAAAASI
uwAAAAAAAAAB4i4AAAAAAABAgLgLAAAAAAAAECDuAgAAAAAAAASIuwAAAAAAAAAB4i4AAAAAAABA
gLgLAAAAAAAAECDuAgAAAAAAAASIuwAAAAAAAAAB4i4AAAAAAABAgLgLAAAAAAAAECDuAgAAAAAA
AASIuwAAAAAAAAAB4i4AAAAAAABAgLgLAAAAAAAAECDuAgAAAAAAAASIuwAAAAAAAAAB4i4AAAAA
AABAgLgLAAAAAAAAECDuAgAAAAAAAASIuwAAAAAAAAAB4i4AAAAAAABAgLgLAAAAAAAAECDuAgAA
AAAAAASIuwAAAAAAAAAB4i4AAAAAAABAgLgLAAAAAAAAECDuAgAAAAAAAASIuwAAAAAAAAAB4i4A
AAAAAABAgLgLAAAAAAAAECDuAgAAAAAAAASIuwAAAAAAAAAB4i4AAAAAAABAgLgLAAAAAAAAECDu
AgAAAAAAAASIuwAAAAAAAAAB4i4AAAAAAABAgLgLAAAAAAAAECDuAgAAAAAAAASIuwAAAAAAAAAB
4i4AAAAAAABAgLgLAAAAAAAAECDuAgAAAAAAAASIuwAAAAAAAAAB4i4AAAAAAABAgLgLAAAAAAAA
ECDuAgAAAAAAAASIuwAAAAAAAAAB4i4AAAAAAABAgLgLAAAAAAAAECDuAgAAAAAAAASIuwAAAAAA
AAAB4i4AAAAAAABAgLgLAAAAAAAAECDuAgAAAAAAAASIuwAAAAAAAAAB4i4AAAAAAABAgLgLAAAA
AAAAECDuAgAAAAAAAASIuwAAAAAAAAAB4i4AAAAAAABAgLgLAAAAAAAAECDuAgAAAAAAAASIuwAA
AAAAAAAB4i4AAAAAAABAgLgLAAAAAAAAECDuAgAAAAAAAASIuwAAAAAAAAAB4i4AAAAAAABAgLgL
AAAAAAAAECDuAgAAAAAAAASIuwAAAAAAAAAB4i4AAAAAAABAgLgLAAAAAAAAECDuAgAAAAAAAASI
uwAAAAAAAAAB4i4AAAAAAABAgLgLAAAAAAAAECDuAgAAAAAAAASIuwAAAAAAAAAB4i4AAAAAAABA
gLgLAAAAAAAAECDuAgAAAAAAAASIuwAAAAAAAAAB4i4AAAAAAABAgLgLAAAAAAAAECDuAgAAAAAA
AASIuwAAAAAAAAAB4i4AAAAAAABAgLgLAAAAAAAAECDuAgAAAAAAAASIuwAAAAAAAAAB4i4AAAAA
AABAgLgLAAAAAAAAECDuAgAAAAAAAASIuwAAAAAAAAAB4i4AAAAAAABAgLgLAAAAAAAAECDuAgAA
AAAAAASIuwAAAAAAAAAB4i4AAAAAAABAgLgLAAAAAAAAECDuAgAAAAAAAASIuwAAAAAAAAAB4i4A
AAAAAABAgLgLAAAAAAAAECDuAgAAAAAAAASIuwAAAAAAAAAB4i4AAAAAAABAgLgLAAAAAAAAECDu
AgAAAAAAAASIuwAAAAAAAAAB4i4AAAAAAABAgLgLAAAAAAAAECDuAgAAAAAAAASIuwAAAAAAAAAB
fyyEG0OMhf4ZAAAAAElFTkSuQmCC
" transform="translate(202, 47)"></image></g><defs><clipPath id="clip863"><rect x="2160" y="47" width="73" height="1377"></rect></clipPath></defs><g clip-path="url(#clip863)"><image width="72" height="1376" xlink:href="data:image/png;base64,
iVBORw0KGgoAAAANSUhEUgAAAEgAAAVgCAYAAADsKhu7AAAL6UlEQVR4nO3dwZEjNxBFQVBR/lsh
L6UFZIHqHclDpgUTL35wCXTP7Off+/c7/K+/vv0D/DqBgkBBoCBQmPv+/fbP8NMsKAgUBAoChXnv
z7d/hp9mQUGgIFAQKAgUHDWCBQWBgkBBoDDPh/TKgoJAQaAgUJh3fUhvLCgIFAQKAgWBgqNGsKAg
UBAoCBR8SAcLCgIFgYJAwX1QsKAgUBAoCBQECnMcNVYWFAQKAgWBgvugYEFBoCBQECgIFOa4MFtZ
UBAoCBQECnPuP9/+GX6aBQWBgkBBoODSPlhQECgIFAQKAgX3QcGCgkBBoCBQ8CEdLCgIFAQKAgX3
QcGCgkBBoCBQECjMx1FjZUFBoCBQECjMuf5XhI0FBYGCQEGgIFBw1AgWFAQKAgWBgqNGsKAgUBAo
CBS8HxQsKAgUBAoCBYHCfBw1VhYUBAoCBYGCt1yDBQWBgkBBoOCbdLCgIFAQKAgUBAoePQcLCgIF
gYJAwVEjWFAQKAgUBAoCBUeNYEFBoCBQECg4agQLCgIFgYJAYc693/4ZfpoFBYGCQEGgIFBw1AgW
FAQKAgWBgkv7YEFBoCBQECj4kA4WFAQKAgWBgkBhPp5qrCwoCBQECgIFR41gQUGgIFAQKAgUvEAV
LCgIFAQKAgX3QcGCgkBBoCBQcB8ULCgIFAQKAgWBgvugYEFBoCBQECj4kA4WFAQKAgWBgl/qDRYU
BAoCBYGCQMFRI1hQECgIFAQKPqSDBQWBgkBBoCBQ8K9YsKAgUBAoCBR8SAcLCgIFgYJAYc7zIb2x
oCBQECgIFAQKjhrBgoJAQaAgUPAhHSwoCBQECgIFH9LBgoJAQaAgUBAozLnv2z/DT7OgIFAQKAgU
HDWCBQWBgkBBoCBQcNQIFhQECgIFgYKjRrCgIFAQKAgUfJMOFhQECgIFgYJAYY6TxsqCgkBBoCBQ
mPMcNTYWFAQKAgWBgm/SwYKCQEGgIFAQKPhXLFhQECgIFAQK44/g7SwoCBQECgIFgYKjRrCgIFAQ
KAgUfEgHCwoCBYGCQGHO/Xz7Z/hpFhQECgIFgYJAYd7zr9jGgoJAQaAgUHAfFCwoCBQECgIF90HB
goJAQaAgUBAozLsabdQJAgWBgkDBUSNYUBAoCBQECgKFOR49rywoCBQECgKFeY4aKwsKAgWBgkBh
jkv7lTpBoCBQECgIFBw1ggUFgYJAQaDg0j5YUBAoCBQECl7iDOoEgYJAQaAgUPCWa7CgIFAQKAgU
XNoHCwoCBYGCQEGgMO9ptFEnCBQECgIF90HBgoJAQaAgUHAfFCwoCBQECgIFgcIc90ErdYJAQaAg
UHDUCBYUBAoCBYGCD+lgQUGgIFAQKAgU/NZzsKAgUBAoCBT81nNQJwgUBAoCBYHCPEeNlQUFgYJA
QaDgqUawoCBQECgIFPyvCEGdIFAQKAgUBArug4IFBYGCQEGg4D4oWFAQKAgUBAq+SQcLCgIFgYJA
QaDgLdegThAoCBQECo4awYKCQEGgIFAQKHiqESwoCBQECgIFR41gQUGgIFAQKPiva4IFBYGCQEGg
IFDwv2QGdYJAQaAgUHAfFCwoCBQECgIFT1aDBQWBgkBBoCBQcNQIFhQECgIFgcJcH9IrCwoCBYGC
QEGg4LeegzpBoCBQECi4DwoWFAQKAgWBgg/pYEFBoCBQECgIFLxAFSwoCBQECgIFR41gQUGgIFAQ
KPiQDhYUBAoCBYGCQMGfpgjqBIGCQEGgMNel/cqCgkBBoCBQECi4MAsWFAQKAgWBgg/pYEFBoCBQ
ECj4kA4WFAQKAgWBgkDBH1gKFhQECgIFgYKjRrCgIFAQKAgUfEgHCwoCBYGCQEGg4FcRgjpBoCBQ
ECj4VYRgQUGgIFAQKAgUXJgFCwoCBYGCQMGHdLCgIFAQKAgUvMQZLCgIFAQKAgWBgqNGsKAgUBAo
CBTmHR/SGwsKAgWBgkDBfVCwoCBQECgIFAQK7oOCBQWBgkBBoOCoESwoCBQECgIFgYKjRrCgIFAQ
KAgUHDWCBQWBgkBBoOCbdLCgIFAQKAgUBAr+FQsWFAQKAgWBwly/irCyoCBQECgIFHyTDhYUBAoC
BYGCQMGj52BBQaAgUBAozHvf/hF+mwUFgYJAQaAgUHDUCBYUBAoCBYGCv4IXLCgIFAQKAgXfpIMF
BYGCQEGgIFDwAlWwoCBQECgIFPwqQrCgIFAQKAgUvB8ULCgIFAQKAgWBgqcawYKCQEGgIFBwaR8s
KAgUBAoCBYGCpxrBgoJAQaAgUHAfFCwoCBQECgIFj56DBQWBgkBBoCBQcB8ULCgIFAQKAgWPnoMF
BYGCQEGgMPfbP8GPs6AgUBAoCBQECo4awYKCQEGgIFDwflCwoCBQECgIFAQKLsyCBQWBgkBBoOA+
KFhQECgIFAQKvkkHCwoCBYGCQEGg4KgRLCgIFAQKAgWPnoMFBYGCQEGgMP4yxc6CgkBBoCBQECg4
agQLCgIFgYJAwaPnYEFBoCBQECgIFDx6DhYUBAoCBYGCo0awoCBQECgIFHyTDhYUBAoCBYGCQGGu
N6hWFhQECgIFgYL7oGBBQaAgUBAouA8KFhQECgIFgYJAwVEjWFAQKAgUBArzXNqvLCgIFAQKAgWB
wtzjwmxjQUGgIFAQKHg/KFhQECgIFAQK/gpesKAgUBAoCBQECv4KXrCgIFAQKAgUPHoOFhQECgIF
gYKXOIMFBYGCQEGgIFDwC3XBgoJAQaAgUHDUCBYUBAoCBYGCQMFbrsGCgkBBoCBQ8JZrsKAgUBAo
CBR8kw4WFAQKAgWBgkDBW67BgoJAQaAgUPD3g4IFBYGCQEGg4D4oWFAQKAgUBAoCBY+egwUFgYJA
QaDgqBEsKAgUBAoCBYGCo0awoCBQECgIFBw1ggUFgYJAQaDgQzpYUBAoCBQECgIF90HBgoJAQaAg
UHDUCBYUBAoCBYGCb9LBgoJAQaAgUBAoOGoECwoCBYGCQMHfDwoWFAQKAgWBgkDB/+0TLCgIFAQK
AgX3QcGCgkBBoCBQmHd8Sm8sKAgUBAoCBYGCo0awoCBQECgIFDx6DhYUBAoCBYGCJ6vBgoJAQaAg
UBAouA8KFhQECgIFgYJHz8GCgkBBoCBQECg4agQLCgIFgYJAwR9YChYUBAoCBYHCXC8IrSwoCBQE
CgIFgYIXqIIFBYGCQEGgMM9RY2VBQaAgUBAo+CYdLCgIFAQKAgWBgqcawYKCQEGgIFDwflCwoCBQ
ECgIFAQKc/1C3cqCgkBBoCBQcB8ULCgIFAQKAgV/miJYUBAoCBQECgIFL1AFCwoCBYGCQMGlfbCg
IFAQKAgU3AcFCwoCBYGCQEGgMPe4EdpYUBAoCBQECu6DggUFgYJAQaAgUPCvWLCgIFAQKAgUPNUI
FhQECgIFgYJL+2BBQaAgUBAoCBTmfhw1NhYUBAoCBYGCo0awoCBQECgIFOb5kF5ZUBAoCBQECgIF
R41gQUGgIFAQKMz9+JDeWFAQKAgUBAoCBUeNYEFBoCBQECh4qhEsKAgUBAoCBd+kgwUFgYJAQaAg
UPCvWLCgIFAQKAgUPHoOFhQECgIFgcK88+fbP8NPs6AgUBAoCBQECu6DggUFgYJAQaDg/aBgQUGg
IFAQKAgU5j4XZhsLCgIFgYJAwVEjWFAQKAgUBApzPXpeWVAQKAgUBAoCBUeNYEFBoCBQECg4agQL
CgIFgYJAYd7zTXpjQUGgIFAQKAgU3AcFCwoCBYGCQMFLnMGCgkBBoCBQECg4agQLCgIFgYJAYZ6j
xsqCgkBBoCBQ8E06WFAQKAgUBAoChbleoFpZUBAoCBQECv7gdrCgIFAQKAgU/CpCsKAgUBAoCBQE
Cp5qBAsKAgWBgkDBUSNYUBAoCBQECgIF/4oFCwoCBYGCQMGj52BBQaAgUBAo+CYdLCgIFAQKAgWB
whyPnlcWFAQKAgWBgqNGsKAgUBAoCBS8xBksKAgUBAoCBYHCHEeNlQUFgYJAQaDg/aBgQUGgIFAQ
KAgUPHoOFhQECgIFgYL7oGBBQaAgUBAozDvv2z/DT7OgIFAQKAgUBArug4IFBYGCQEGgMMdRY2VB
QaAgUBAo/AdhU+3PqlcPeQAAAABJRU5ErkJggg==
" transform="translate(2161, 47)"></image></g><path clip-path="url(#clip860)" d="M2280.7 1405.35 Q2277.09 1405.35 2275.26 1408.91 Q2273.45 1412.46 2273.45 1419.59 Q2273.45 1426.69 2275.26 1430.26 Q2277.09 1433.8 2280.7 1433.8 Q2284.33 1433.8 2286.14 1430.26 Q2287.97 1426.69 2287.97 1419.59 Q2287.97 1412.46 2286.14 1408.91 Q2284.33 1405.35 2280.7 1405.35 M2280.7 1401.65 Q2286.51 1401.65 2289.57 1406.25 Q2292.64 1410.84 2292.64 1419.59 Q2292.64 1428.31 2289.57 1432.92 Q2286.51 1437.5 2280.7 1437.5 Q2274.89 1437.5 2271.81 1432.92 Q2268.76 1428.31 2268.76 1419.59 Q2268.76 1410.84 2271.81 1406.25 Q2274.89 1401.65 2280.7 1401.65 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip860)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="2232.76,1423.18 2256.76,1423.18 "></polyline><path clip-path="url(#clip860)" d="M2280.7 1139.36 Q2277.09 1139.36 2275.26 1142.92 Q2273.45 1146.46 2273.45 1153.59 Q2273.45 1160.7 2275.26 1164.27 Q2277.09 1167.81 2280.7 1167.81 Q2284.33 1167.81 2286.14 1164.27 Q2287.97 1160.7 2287.97 1153.59 Q2287.97 1146.46 2286.14 1142.92 Q2284.33 1139.36 2280.7 1139.36 M2280.7 1135.65 Q2286.51 1135.65 2289.57 1140.26 Q2292.64 1144.84 2292.64 1153.59 Q2292.64 1162.32 2289.57 1166.93 Q2286.51 1171.51 2280.7 1171.51 Q2274.89 1171.51 2271.81 1166.93 Q2268.76 1162.32 2268.76 1153.59 Q2268.76 1144.84 2271.81 1140.26 Q2274.89 1135.65 2280.7 1135.65 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip860)" d="M2300.86 1164.96 L2305.75 1164.96 L2305.75 1170.84 L2300.86 1170.84 L2300.86 1164.96 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip860)" d="M2316.74 1166.9 L2324.38 1166.9 L2324.38 1140.54 L2316.07 1142.21 L2316.07 1137.95 L2324.33 1136.28 L2329.01 1136.28 L2329.01 1166.9 L2336.65 1166.9 L2336.65 1170.84 L2316.74 1170.84 L2316.74 1166.9 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip860)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="2232.76,1157.19 2256.76,1157.19 "></polyline><path clip-path="url(#clip860)" d="M2280.7 873.366 Q2277.09 873.366 2275.26 876.931 Q2273.45 880.473 2273.45 887.602 Q2273.45 894.709 2275.26 898.273 Q2277.09 901.815 2280.7 901.815 Q2284.33 901.815 2286.14 898.273 Q2287.97 894.709 2287.97 887.602 Q2287.97 880.473 2286.14 876.931 Q2284.33 873.366 2280.7 873.366 M2280.7 869.662 Q2286.51 869.662 2289.57 874.269 Q2292.64 878.852 2292.64 887.602 Q2292.64 896.329 2289.57 900.935 Q2286.51 905.519 2280.7 905.519 Q2274.89 905.519 2271.81 900.935 Q2268.76 896.329 2268.76 887.602 Q2268.76 878.852 2271.81 874.269 Q2274.89 869.662 2280.7 869.662 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip860)" d="M2300.86 898.968 L2305.75 898.968 L2305.75 904.847 L2300.86 904.847 L2300.86 898.968 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip860)" d="M2319.96 900.912 L2336.28 900.912 L2336.28 904.847 L2314.33 904.847 L2314.33 900.912 Q2317 898.158 2321.58 893.528 Q2326.19 888.875 2327.37 887.533 Q2329.61 885.01 2330.49 883.273 Q2331.39 881.514 2331.39 879.824 Q2331.39 877.07 2329.45 875.334 Q2327.53 873.598 2324.43 873.598 Q2322.23 873.598 2319.77 874.361 Q2317.34 875.125 2314.57 876.676 L2314.57 871.954 Q2317.39 870.82 2319.84 870.241 Q2322.3 869.662 2324.33 869.662 Q2329.7 869.662 2332.9 872.348 Q2336.09 875.033 2336.09 879.523 Q2336.09 881.653 2335.28 883.574 Q2334.5 885.472 2332.39 888.065 Q2331.81 888.736 2328.71 891.954 Q2325.61 895.148 2319.96 900.912 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip860)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="2232.76,891.196 2256.76,891.196 "></polyline><path clip-path="url(#clip860)" d="M2280.7 607.374 Q2277.09 607.374 2275.26 610.939 Q2273.45 614.481 2273.45 621.61 Q2273.45 628.717 2275.26 632.282 Q2277.09 635.823 2280.7 635.823 Q2284.33 635.823 2286.14 632.282 Q2287.97 628.717 2287.97 621.61 Q2287.97 614.481 2286.14 610.939 Q2284.33 607.374 2280.7 607.374 M2280.7 603.671 Q2286.51 603.671 2289.57 608.277 Q2292.64 612.86 2292.64 621.61 Q2292.64 630.337 2289.57 634.944 Q2286.51 639.527 2280.7 639.527 Q2274.89 639.527 2271.81 634.944 Q2268.76 630.337 2268.76 621.61 Q2268.76 612.86 2271.81 608.277 Q2274.89 603.671 2280.7 603.671 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip860)" d="M2300.86 632.976 L2305.75 632.976 L2305.75 638.856 L2300.86 638.856 L2300.86 632.976 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip860)" d="M2330.1 620.221 Q2333.45 620.939 2335.33 623.207 Q2337.23 625.476 2337.23 628.809 Q2337.23 633.925 2333.71 636.726 Q2330.19 639.527 2323.71 639.527 Q2321.53 639.527 2319.22 639.087 Q2316.93 638.67 2314.47 637.814 L2314.47 633.3 Q2316.42 634.434 2318.73 635.013 Q2321.05 635.592 2323.57 635.592 Q2327.97 635.592 2330.26 633.856 Q2332.58 632.119 2332.58 628.809 Q2332.58 625.754 2330.42 624.041 Q2328.29 622.305 2324.47 622.305 L2320.45 622.305 L2320.45 618.462 L2324.66 618.462 Q2328.11 618.462 2329.94 617.096 Q2331.76 615.708 2331.76 613.115 Q2331.76 610.453 2329.87 609.041 Q2327.99 607.606 2324.47 607.606 Q2322.55 607.606 2320.35 608.022 Q2318.15 608.439 2315.51 609.319 L2315.51 605.152 Q2318.18 604.411 2320.49 604.041 Q2322.83 603.671 2324.89 603.671 Q2330.21 603.671 2333.32 606.101 Q2336.42 608.508 2336.42 612.629 Q2336.42 615.499 2334.77 617.49 Q2333.13 619.458 2330.1 620.221 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip860)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="2232.76,625.204 2256.76,625.204 "></polyline><path clip-path="url(#clip860)" d="M2280.7 341.382 Q2277.09 341.382 2275.26 344.947 Q2273.45 348.489 2273.45 355.618 Q2273.45 362.725 2275.26 366.29 Q2277.09 369.831 2280.7 369.831 Q2284.33 369.831 2286.14 366.29 Q2287.97 362.725 2287.97 355.618 Q2287.97 348.489 2286.14 344.947 Q2284.33 341.382 2280.7 341.382 M2280.7 337.679 Q2286.51 337.679 2289.57 342.285 Q2292.64 346.868 2292.64 355.618 Q2292.64 364.345 2289.57 368.952 Q2286.51 373.535 2280.7 373.535 Q2274.89 373.535 2271.81 368.952 Q2268.76 364.345 2268.76 355.618 Q2268.76 346.868 2271.81 342.285 Q2274.89 337.679 2280.7 337.679 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip860)" d="M2300.86 366.984 L2305.75 366.984 L2305.75 372.864 L2300.86 372.864 L2300.86 366.984 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip860)" d="M2328.78 342.378 L2316.97 360.827 L2328.78 360.827 L2328.78 342.378 M2327.55 338.304 L2333.43 338.304 L2333.43 360.827 L2338.36 360.827 L2338.36 364.716 L2333.43 364.716 L2333.43 372.864 L2328.78 372.864 L2328.78 364.716 L2313.18 364.716 L2313.18 360.202 L2327.55 338.304 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip860)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="2232.76,359.213 2256.76,359.213 "></polyline><path clip-path="url(#clip860)" d="M2280.7 75.3906 Q2277.09 75.3906 2275.26 78.9554 Q2273.45 82.497 2273.45 89.6266 Q2273.45 96.7331 2275.26 100.298 Q2277.09 103.84 2280.7 103.84 Q2284.33 103.84 2286.14 100.298 Q2287.97 96.7331 2287.97 89.6266 Q2287.97 82.497 2286.14 78.9554 Q2284.33 75.3906 2280.7 75.3906 M2280.7 71.6869 Q2286.51 71.6869 2289.57 76.2934 Q2292.64 80.8767 2292.64 89.6266 Q2292.64 98.3534 2289.57 102.96 Q2286.51 107.543 2280.7 107.543 Q2274.89 107.543 2271.81 102.96 Q2268.76 98.3534 2268.76 89.6266 Q2268.76 80.8767 2271.81 76.2934 Q2274.89 71.6869 2280.7 71.6869 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip860)" d="M2300.86 100.992 L2305.75 100.992 L2305.75 106.872 L2300.86 106.872 L2300.86 100.992 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip860)" d="M2315.98 72.3119 L2334.33 72.3119 L2334.33 76.2471 L2320.26 76.2471 L2320.26 84.7192 Q2321.28 84.372 2322.3 84.21 Q2323.32 84.0248 2324.33 84.0248 Q2330.12 84.0248 2333.5 87.1961 Q2336.88 90.3674 2336.88 95.784 Q2336.88 101.363 2333.41 104.465 Q2329.94 107.543 2323.62 107.543 Q2321.44 107.543 2319.17 107.173 Q2316.93 106.802 2314.52 106.062 L2314.52 101.363 Q2316.6 102.497 2318.83 103.052 Q2321.05 103.608 2323.52 103.608 Q2327.53 103.608 2329.87 101.502 Q2332.2 99.3951 2332.2 95.784 Q2332.2 92.1729 2329.87 90.0664 Q2327.53 87.96 2323.52 87.96 Q2321.65 87.96 2319.77 88.3766 Q2317.92 88.7933 2315.98 89.6729 L2315.98 72.3119 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip860)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="2232.76,93.2207 2256.76,93.2207 "></polyline><polyline clip-path="url(#clip860)" style="stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:4;stroke-opacity:1;fill:none;" points="2232.76,1423.18 2232.76,47.2441 "></polyline></svg><h2 id="Summary" tabindex="-1">Summary <a class="header-anchor" href="#Summary" aria-label="Permalink to &quot;Summary {#Summary}&quot;">​</a></h2><p>In this section we introduced the two key attention scoring functions: dot product and additive attention. They are effective tools for aggregating across sequences of variable length. In particular, the dot product attention is the mainstay of modern Transformer architectures. When queries and keys are vectors of different lengths, we can use the additive attention scoring function instead. Optimizing these layers is one of the key areas of advance in recent years. For instance, <a href="https://docs.nvidia.com/deeplearning/transformer-engine/user-guide/index.html" target="_blank" rel="noreferrer">NVIDIA&#39;s Transformer Library</a> and Megatron [<a href="/d2l-julia/previews/PR1/references#shoeybi2019megatron">183</a>] crucially rely on efficient variants of the attention mechanism. We will dive into this in quite a bit more detail as we review Transformers in later sections.</p><h2 id="Exercises" tabindex="-1">Exercises <a class="header-anchor" href="#Exercises" aria-label="Permalink to &quot;Exercises {#Exercises}&quot;">​</a></h2>`,5)),A("ol",null,[A("li",null,[A("p",null,[t[219]||(t[219]=a("Implement distance-based attention by modifying the ")),t[220]||(t[220]=A("code",null,"DotProductAttention",-1)),t[221]||(t[221]=a(" code. Note that you only need the squared norms of the keys ")),A("mjx-container",k1,[(e(),s("svg",c1,t[217]||(t[217]=[l('<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2225" d="M133 736Q138 750 153 750Q164 750 170 739Q172 735 172 250T170 -239Q164 -250 152 -250Q144 -250 138 -244L137 -243Q133 -241 133 -179T132 250Q132 731 133 736ZM329 739Q334 750 346 750Q353 750 361 744L362 743Q366 741 366 679T367 250T367 -178T362 -243L361 -244Q355 -250 347 -250Q335 -250 329 -239Q327 -235 327 250T329 739Z" style="stroke-width:3;"></path></g><g data-mml-node="msub" transform="translate(500,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D424" d="M32 686L123 690Q214 694 215 694H221V255L377 382H346V444H355Q370 441 476 441Q544 441 556 444H562V382H476L347 277L515 62H587V0H579Q564 3 476 3Q370 3 352 0H343V62H358L373 63L260 206L237 189L216 172V62H285V0H277Q259 3 157 3Q46 3 37 0H29V62H98V332Q98 387 98 453T99 534Q99 593 97 605T83 620Q69 624 42 624H29V686H32Z" style="stroke-width:3;"></path></g></g><g data-mml-node="mi" transform="translate(640,-150) scale(0.707)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" style="stroke-width:3;"></path></g></g><g data-mml-node="msup" transform="translate(1434,0)"><g data-mml-node="mo"><path data-c="2225" d="M133 736Q138 750 153 750Q164 750 170 739Q172 735 172 250T170 -239Q164 -250 152 -250Q144 -250 138 -244L137 -243Q133 -241 133 -179T132 250Q132 731 133 736ZM329 739Q334 750 346 750Q353 750 361 744L362 743Q366 741 366 679T367 250T367 -178T362 -243L361 -244Q355 -250 347 -250Q335 -250 329 -239Q327 -235 327 250T329 739Z" style="stroke-width:3;"></path></g><g data-mml-node="mn" transform="translate(533,363) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" style="stroke-width:3;"></path></g></g></g></g>',1)]))),t[218]||(t[218]=A("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[A("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[A("mo",{"data-mjx-texclass":"ORD"},"∥"),A("msub",null,[A("mrow",{"data-mjx-texclass":"ORD"},[A("mi",{mathvariant:"bold"},"k")]),A("mi",null,"i")]),A("msup",null,[A("mo",{"data-mjx-texclass":"ORD"},"∥"),A("mn",null,"2")])])],-1))]),t[222]||(t[222]=a(" for an efficient implementation."))])]),t[223]||(t[223]=A("li",null,[A("p",null,"Modify the dot product attention to allow for queries and keys of different dimensionalities by employing a matrix to adjust dimensions.")],-1)),t[224]||(t[224]=A("li",null,[A("p",null,"How does the computational cost scale with the dimensionality of the keys, queries, values, and their number? What about the memory bandwidth requirements?")],-1))]),t[238]||(t[238]=l('<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"></span></code></pre></div>',1))])}const y1=i(n,[["render",u1]]);export{H1 as __pageData,y1 as default};
